function P_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A_={exports:{}},ch={},L_={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),IN=Symbol.for("react.portal"),jN=Symbol.for("react.fragment"),RN=Symbol.for("react.strict_mode"),MN=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),ON=Symbol.for("react.context"),PN=Symbol.for("react.forward_ref"),AN=Symbol.for("react.suspense"),LN=Symbol.for("react.memo"),FN=Symbol.for("react.lazy"),H1=Symbol.iterator;function $N(e){return e===null||typeof e!="object"?null:(e=H1&&e[H1]||e["@@iterator"],typeof e=="function"?e:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$_=Object.assign,U_={};function Fa(e,t,n){this.props=e,this.context=t,this.refs=U_,this.updater=n||F_}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B_(){}B_.prototype=Fa.prototype;function oy(e,t,n){this.props=e,this.context=t,this.refs=U_,this.updater=n||F_}var ay=oy.prototype=new B_;ay.constructor=oy;$_(ay,Fa.prototype);ay.isPureReactComponent=!0;var V1=Array.isArray,H_=Object.prototype.hasOwnProperty,ly={current:null},V_={key:!0,ref:!0,__self:!0,__source:!0};function z_(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)H_.call(t,r)&&!V_.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wc,type:e,key:i,ref:o,props:s,_owner:ly.current}}function UN(e,t){return{$$typeof:Wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wc}function BN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var z1=/\/+/g;function kp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BN(""+e.key):t.toString(36)}function dd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wc:case IN:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+kp(o,0):r,V1(s)?(n="",e!=null&&(n=e.replace(z1,"$&/")+"/"),dd(s,t,n,"",function(u){return u})):s!=null&&(cy(s)&&(s=UN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(z1,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",V1(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+kp(i,a);o+=dd(i,t,n,l,s)}else if(l=$N(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+kp(i,a++),o+=dd(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _u(e,t,n){if(e==null)return e;var r=[],s=0;return dd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function HN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gn={current:null},fd={transition:null},VN={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:fd,ReactCurrentOwner:ly};function W_(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:_u,forEach:function(e,t,n){_u(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _u(e,function(){t++}),t},toArray:function(e){return _u(e,function(t){return t})||[]},only:function(e){if(!cy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=Fa;ze.Fragment=jN;ze.Profiler=MN;ze.PureComponent=oy;ze.StrictMode=RN;ze.Suspense=AN;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VN;ze.act=W_;ze.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ly.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)H_.call(t,l)&&!V_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wc,type:e.type,key:s,ref:i,props:r,_owner:o}};ze.createContext=function(e){return e={$$typeof:ON,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DN,_context:e},e.Consumer=e};ze.createElement=z_;ze.createFactory=function(e){var t=z_.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:PN,render:e}};ze.isValidElement=cy;ze.lazy=function(e){return{$$typeof:FN,_payload:{_status:-1,_result:e},_init:HN}};ze.memo=function(e,t){return{$$typeof:LN,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=fd.transition;fd.transition={};try{e()}finally{fd.transition=t}};ze.unstable_act=W_;ze.useCallback=function(e,t){return gn.current.useCallback(e,t)};ze.useContext=function(e){return gn.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return gn.current.useDeferredValue(e)};ze.useEffect=function(e,t){return gn.current.useEffect(e,t)};ze.useId=function(){return gn.current.useId()};ze.useImperativeHandle=function(e,t,n){return gn.current.useImperativeHandle(e,t,n)};ze.useInsertionEffect=function(e,t){return gn.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return gn.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return gn.current.useMemo(e,t)};ze.useReducer=function(e,t,n){return gn.current.useReducer(e,t,n)};ze.useRef=function(e){return gn.current.useRef(e)};ze.useState=function(e){return gn.current.useState(e)};ze.useSyncExternalStore=function(e,t,n){return gn.current.useSyncExternalStore(e,t,n)};ze.useTransition=function(){return gn.current.useTransition()};ze.version="18.3.1";L_.exports=ze;var w=L_.exports;const Ee=zc(w),zN=P_({__proto__:null,default:Ee},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN=w,qN=Symbol.for("react.element"),GN=Symbol.for("react.fragment"),YN=Object.prototype.hasOwnProperty,KN=WN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XN={key:!0,ref:!0,__self:!0,__source:!0};function q_(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)YN.call(t,r)&&!XN.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:qN,type:e,key:i,ref:o,props:s,_owner:KN.current}}ch.Fragment=GN;ch.jsx=q_;ch.jsxs=q_;A_.exports=ch;var c=A_.exports,Mt=function(){var e={name:"__LSM__",middleWares:[],persist:"action"},t={};try{e.storageType=typeof sessionStorage<"u"?window.sessionStorage:void 0}catch{}return{updateStore:function(n){try{t=e.storageType&&JSON.parse(e.storageType.getItem(e.name)||"")||n}catch{t=n}},saveStore:function(){e.storageType&&e.storageType.setItem(e.name,JSON.stringify(t))},get state(){return t},set state(n){t=n},get options(){return e},set options(n){e=n}}}(),G_=w.createContext(void 0),ZN=function(e){var t=e.children,n=w.useState(Mt.state),r=n[0],s=n[1];return w.useEffect(function(){Mt.options.persist==="beforeUnload"&&(window.onbeforeunload=function(){return Mt.saveStore()},Mt.options.storageType&&Mt.options.storageType.removeItem(Mt.options.name))},[]),w.createElement(G_.Provider,{value:{state:r,setState:s}},t)};function Um(){return Um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}function QN(e,t){t&&(Mt.options=Um({},Mt.options,t)),Mt.updateStore(e)}function Ft(e){var t=w.useContext(G_),n=t.state,r=t.setState,s=w.useRef(Object.entries(e||{}).reduce(function(i,o){var a;return Object.assign({},i,((a={})[o[0]]=function(l,u){return function(d,f){Mt.state=u(Mt.state,d),Mt.options.middleWares&&(Mt.state=Mt.options.middleWares.reduce(function(h,p){return p(h,u.name,d)||h},Mt.state)),(!f||!f.skipRender)&&l(Mt.state),Mt.options.persist==="action"&&Mt.saveStore()}}(r,o[1]),a))},{}));return{actions:s.current,state:n,getState:w.useCallback(function(){return Mt.state},[])}}var Bm={},Y_={exports:{}},Hn={},K_={exports:{}},X_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,V){var ne=A.length;A.push(V);e:for(;0<ne;){var B=ne-1>>>1,te=A[B];if(0<s(te,V))A[B]=V,A[ne]=te,ne=B;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var V=A[0],ne=A.pop();if(ne!==V){A[0]=ne;e:for(var B=0,te=A.length,fe=te>>>1;B<fe;){var oe=2*(B+1)-1,ae=A[oe],J=oe+1,z=A[J];if(0>s(ae,ne))J<te&&0>s(z,ae)?(A[B]=z,A[J]=ne,B=J):(A[B]=ae,A[oe]=ne,B=oe);else if(J<te&&0>s(z,ne))A[B]=z,A[J]=ne,B=J;else break e}}return V}function s(A,V){var ne=A.sortIndex-V.sortIndex;return ne!==0?ne:A.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(A){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=A)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function E(A){if(y=!1,S(A),!m)if(n(l)!==null)m=!0,W(C);else{var V=n(u);V!==null&&ie(E,V.startTime-A)}}function C(A,V){m=!1,y&&(y=!1,v(_),_=-1),p=!0;var ne=h;try{for(S(V),f=n(l);f!==null&&(!(f.expirationTime>V)||A&&!M());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var te=B(f.expirationTime<=V);V=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),S(V)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var oe=n(u);oe!==null&&ie(E,oe.startTime-V),fe=!1}return fe}finally{f=null,h=ne,p=!1}}var k=!1,x=null,_=-1,T=5,I=-1;function M(){return!(e.unstable_now()-I<T)}function R(){if(x!==null){var A=e.unstable_now();I=A;var V=!0;try{V=x(!0,A)}finally{V?$():(k=!1,x=null)}}else k=!1}var $;if(typeof g=="function")$=function(){g(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=R,$=function(){H.postMessage(null)}}else $=function(){b(R,0)};function W(A){x=A,k||(k=!0,$())}function ie(A,V){_=b(function(){A(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,W(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var ne=h;h=V;try{return A()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var ne=h;h=A;try{return V()}finally{h=ne}},e.unstable_scheduleCallback=function(A,V,ne){var B=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?B+ne:B):ne=B,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ne+te,A={id:d++,callback:V,priorityLevel:A,startTime:ne,expirationTime:te,sortIndex:-1},ne>B?(A.sortIndex=ne,t(u,A),n(l)===null&&A===n(u)&&(y?(v(_),_=-1):y=!0,ie(E,ne-B))):(A.sortIndex=te,t(l,A),m||p||(m=!0,W(C))),A},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(A){var V=h;return function(){var ne=h;h=V;try{return A.apply(this,arguments)}finally{h=ne}}}})(X_);K_.exports=X_;var JN=K_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3=w,$n=JN;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z_=new Set,sc={};function go(e,t){ca(e,t),ca(e+"Capture",t)}function ca(e,t){for(sc[e]=t,e=0;e<t.length;e++)Z_.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hm=Object.prototype.hasOwnProperty,t3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W1={},q1={};function n3(e){return Hm.call(q1,e)?!0:Hm.call(W1,e)?!1:t3.test(e)?q1[e]=!0:(W1[e]=!0,!1)}function r3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s3(e,t,n,r){if(t===null||typeof t>"u"||r3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new yn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new yn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new yn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new yn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new yn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new yn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new yn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new yn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new yn(e,5,!1,e.toLowerCase(),null,!1,!1)});var uy=/[\-:]([a-z])/g;function dy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uy,dy);Zt[t]=new yn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uy,dy);Zt[t]=new yn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uy,dy);Zt[t]=new yn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new yn(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new yn(e,1,!1,e.toLowerCase(),null,!0,!0)});function fy(e,t,n,r){var s=Zt.hasOwnProperty(t)?Zt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s3(t,n,s,r)&&(n=null),r||s===null?n3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Is=e3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),Po=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Wm=Symbol.for("react.suspense_list"),my=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),e5=Symbol.for("react.offscreen"),G1=Symbol.iterator;function rl(e){return e===null||typeof e!="object"?null:(e=G1&&e[G1]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,Cp;function Cl(e){if(Cp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cp=t&&t[1]||""}return`
`+Cp+e}var Tp=!1;function Np(e,t){if(!e||Tp)return"";Tp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cl(e):""}function i3(e){switch(e.tag){case 5:return Cl(e.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return e=Np(e.type,!1),e;case 11:return e=Np(e.type.render,!1),e;case 1:return e=Np(e.type,!0),e;default:return""}}function qm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ao:return"Fragment";case Po:return"Portal";case Vm:return"Profiler";case hy:return"StrictMode";case zm:return"Suspense";case Wm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J_:return(e.displayName||"Context")+".Consumer";case Q_:return(e._context.displayName||"Context")+".Provider";case py:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case my:return t=e.displayName||null,t!==null?t:qm(e.type)||"Memo";case As:t=e._payload,e=e._init;try{return qm(e(t))}catch{}}return null}function o3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qm(t);case 8:return t===hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ci(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a3(e){var t=t5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ku(e){e._valueTracker||(e._valueTracker=a3(e))}function n5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=t5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gm(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Y1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ci(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r5(e,t){t=t.checked,t!=null&&fy(e,"checked",t,!1)}function Ym(e,t){r5(e,t);var n=ci(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Km(e,t.type,n):t.hasOwnProperty("defaultValue")&&Km(e,t.type,ci(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function K1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Km(e,t,n){(t!=="number"||Bd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Tl=Array.isArray;function Qo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ci(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function X1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(Tl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ci(n)}}function s5(e,t){var n=ci(t.value),r=ci(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Z1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cu,o5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ic(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l3=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(e){l3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Al[t]=Al[e]})});function a5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Al.hasOwnProperty(e)&&Al[e]?(""+t).trim():t+"px"}function l5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=a5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var c3=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(e,t){if(t){if(c3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Jm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function gy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tg=null,Jo=null,ea=null;function Q1(e){if(e=Yc(e)){if(typeof tg!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=ph(t),tg(e.stateNode,e.type,t))}}function c5(e){Jo?ea?ea.push(e):ea=[e]:Jo=e}function u5(){if(Jo){var e=Jo,t=ea;if(ea=Jo=null,Q1(e),t)for(e=0;e<t.length;e++)Q1(t[e])}}function d5(e,t){return e(t)}function f5(){}var Ip=!1;function h5(e,t,n){if(Ip)return e(t,n);Ip=!0;try{return d5(e,t,n)}finally{Ip=!1,(Jo!==null||ea!==null)&&(f5(),u5())}}function oc(e,t){var n=e.stateNode;if(n===null)return null;var r=ph(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var ng=!1;if(vs)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){ng=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{ng=!1}function u3(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ll=!1,Hd=null,Vd=!1,rg=null,d3={onError:function(e){Ll=!0,Hd=e}};function f3(e,t,n,r,s,i,o,a,l){Ll=!1,Hd=null,u3.apply(d3,arguments)}function h3(e,t,n,r,s,i,o,a,l){if(f3.apply(this,arguments),Ll){if(Ll){var u=Hd;Ll=!1,Hd=null}else throw Error(Z(198));Vd||(Vd=!0,rg=u)}}function yo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function J1(e){if(yo(e)!==e)throw Error(Z(188))}function p3(e){var t=e.alternate;if(!t){if(t=yo(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return J1(s),e;if(i===r)return J1(s),t;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function m5(e){return e=p3(e),e!==null?g5(e):null}function g5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g5(e);if(t!==null)return t;e=e.sibling}return null}var y5=$n.unstable_scheduleCallback,ex=$n.unstable_cancelCallback,m3=$n.unstable_shouldYield,g3=$n.unstable_requestPaint,wt=$n.unstable_now,y3=$n.unstable_getCurrentPriorityLevel,yy=$n.unstable_ImmediatePriority,v5=$n.unstable_UserBlockingPriority,zd=$n.unstable_NormalPriority,v3=$n.unstable_LowPriority,x5=$n.unstable_IdlePriority,uh=null,Xr=null;function x3(e){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(uh,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:w3,b3=Math.log,S3=Math.LN2;function w3(e){return e>>>=0,e===0?32:31-(b3(e)/S3|0)|0}var Tu=64,Nu=4194304;function Nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nl(a):(i&=o,i!==0&&(r=Nl(i)))}else o=n&~s,o!==0?r=Nl(o):i!==0&&(r=Nl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rr(t),s=1<<n,r|=e[n],t&=~s;return r}function _3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=_3(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function sg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b5(){var e=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),e}function jp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=n}function k3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Rr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function vy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var et=0;function S5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w5,xy,_5,E5,k5,ig=!1,Iu=[],Qs=null,Js=null,ei=null,ac=new Map,lc=new Map,Vs=[],C3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tx(e,t){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(t.pointerId)}}function il(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Yc(t),t!==null&&xy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function T3(e,t,n,r,s){switch(t){case"focusin":return Qs=il(Qs,e,t,n,r,s),!0;case"dragenter":return Js=il(Js,e,t,n,r,s),!0;case"mouseover":return ei=il(ei,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ac.set(i,il(ac.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,lc.set(i,il(lc.get(i)||null,e,t,n,r,s)),!0}return!1}function C5(e){var t=Ai(e.target);if(t!==null){var n=yo(t);if(n!==null){if(t=n.tag,t===13){if(t=p5(n),t!==null){e.blockedOn=t,k5(e.priority,function(){_5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=og(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);eg=r,n.target.dispatchEvent(r),eg=null}else return t=Yc(n),t!==null&&xy(t),e.blockedOn=n,!1;t.shift()}return!0}function nx(e,t,n){hd(e)&&n.delete(t)}function N3(){ig=!1,Qs!==null&&hd(Qs)&&(Qs=null),Js!==null&&hd(Js)&&(Js=null),ei!==null&&hd(ei)&&(ei=null),ac.forEach(nx),lc.forEach(nx)}function ol(e,t){e.blockedOn===t&&(e.blockedOn=null,ig||(ig=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,N3)))}function cc(e){function t(s){return ol(s,e)}if(0<Iu.length){ol(Iu[0],e);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qs!==null&&ol(Qs,e),Js!==null&&ol(Js,e),ei!==null&&ol(ei,e),ac.forEach(t),lc.forEach(t),n=0;n<Vs.length;n++)r=Vs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)C5(n),n.blockedOn===null&&Vs.shift()}var ta=Is.ReactCurrentBatchConfig,qd=!0;function I3(e,t,n,r){var s=et,i=ta.transition;ta.transition=null;try{et=1,by(e,t,n,r)}finally{et=s,ta.transition=i}}function j3(e,t,n,r){var s=et,i=ta.transition;ta.transition=null;try{et=4,by(e,t,n,r)}finally{et=s,ta.transition=i}}function by(e,t,n,r){if(qd){var s=og(e,t,n,r);if(s===null)Up(e,t,r,Gd,n),tx(e,r);else if(T3(s,e,t,n,r))r.stopPropagation();else if(tx(e,r),t&4&&-1<C3.indexOf(e)){for(;s!==null;){var i=Yc(s);if(i!==null&&w5(i),i=og(e,t,n,r),i===null&&Up(e,t,r,Gd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Up(e,t,r,null,n)}}var Gd=null;function og(e,t,n,r){if(Gd=null,e=gy(r),e=Ai(e),e!==null)if(t=yo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=p5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gd=e,null}function T5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y3()){case yy:return 1;case v5:return 4;case zd:case v3:return 16;case x5:return 536870912;default:return 16}default:return 16}}var qs=null,Sy=null,pd=null;function N5(){if(pd)return pd;var e,t=Sy,n=t.length,r,s="value"in qs?qs.value:qs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return pd=s.slice(e,1<r?1-r:void 0)}function md(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ju(){return!0}function rx(){return!1}function Vn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ju:rx,this.isPropagationStopped=rx,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wy=Vn($a),Gc=gt({},$a,{view:0,detail:0}),R3=Vn(Gc),Rp,Mp,al,dh=gt({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_y,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==al&&(al&&e.type==="mousemove"?(Rp=e.screenX-al.screenX,Mp=e.screenY-al.screenY):Mp=Rp=0,al=e),Rp)},movementY:function(e){return"movementY"in e?e.movementY:Mp}}),sx=Vn(dh),M3=gt({},dh,{dataTransfer:0}),D3=Vn(M3),O3=gt({},Gc,{relatedTarget:0}),Dp=Vn(O3),P3=gt({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),A3=Vn(P3),L3=gt({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F3=Vn(L3),$3=gt({},$a,{data:0}),ix=Vn($3),U3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H3[e])?!!t[e]:!1}function _y(){return V3}var z3=gt({},Gc,{key:function(e){if(e.key){var t=U3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=md(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_y,charCode:function(e){return e.type==="keypress"?md(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?md(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W3=Vn(z3),q3=gt({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ox=Vn(q3),G3=gt({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_y}),Y3=Vn(G3),K3=gt({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),X3=Vn(K3),Z3=gt({},dh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q3=Vn(Z3),J3=[9,13,27,32],Ey=vs&&"CompositionEvent"in window,Fl=null;vs&&"documentMode"in document&&(Fl=document.documentMode);var e4=vs&&"TextEvent"in window&&!Fl,I5=vs&&(!Ey||Fl&&8<Fl&&11>=Fl),ax=" ",lx=!1;function j5(e,t){switch(e){case"keyup":return J3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function t4(e,t){switch(e){case"compositionend":return R5(t);case"keypress":return t.which!==32?null:(lx=!0,ax);case"textInput":return e=t.data,e===ax&&lx?null:e;default:return null}}function n4(e,t){if(Lo)return e==="compositionend"||!Ey&&j5(e,t)?(e=N5(),pd=Sy=qs=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I5&&t.locale!=="ko"?null:t.data;default:return null}}var r4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!r4[e.type]:t==="textarea"}function M5(e,t,n,r){c5(r),t=Yd(t,"onChange"),0<t.length&&(n=new wy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $l=null,uc=null;function s4(e){V5(e,0)}function fh(e){var t=Uo(e);if(n5(t))return e}function i4(e,t){if(e==="change")return t}var D5=!1;if(vs){var Op;if(vs){var Pp="oninput"in document;if(!Pp){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),Pp=typeof ux.oninput=="function"}Op=Pp}else Op=!1;D5=Op&&(!document.documentMode||9<document.documentMode)}function dx(){$l&&($l.detachEvent("onpropertychange",O5),uc=$l=null)}function O5(e){if(e.propertyName==="value"&&fh(uc)){var t=[];M5(t,uc,e,gy(e)),h5(s4,t)}}function o4(e,t,n){e==="focusin"?(dx(),$l=t,uc=n,$l.attachEvent("onpropertychange",O5)):e==="focusout"&&dx()}function a4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fh(uc)}function l4(e,t){if(e==="click")return fh(t)}function c4(e,t){if(e==="input"||e==="change")return fh(t)}function u4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:u4;function dc(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hm.call(t,s)||!Dr(e[s],t[s]))return!1}return!0}function fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hx(e,t){var n=fx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fx(n)}}function P5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A5(){for(var e=window,t=Bd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bd(e.document)}return t}function ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function d4(e){var t=A5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&P5(n.ownerDocument.documentElement,n)){if(r!==null&&ky(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=hx(n,i);var o=hx(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var f4=vs&&"documentMode"in document&&11>=document.documentMode,Fo=null,ag=null,Ul=null,lg=!1;function px(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lg||Fo==null||Fo!==Bd(r)||(r=Fo,"selectionStart"in r&&ky(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&dc(Ul,r)||(Ul=r,r=Yd(ag,"onSelect"),0<r.length&&(t=new wy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fo)))}function Ru(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $o={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},Ap={},L5={};vs&&(L5=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function hh(e){if(Ap[e])return Ap[e];if(!$o[e])return e;var t=$o[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in L5)return Ap[e]=t[n];return e}var F5=hh("animationend"),$5=hh("animationiteration"),U5=hh("animationstart"),B5=hh("transitionend"),H5=new Map,mx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){H5.set(e,t),go(t,[e])}for(var Lp=0;Lp<mx.length;Lp++){var Fp=mx[Lp],h4=Fp.toLowerCase(),p4=Fp[0].toUpperCase()+Fp.slice(1);gi(h4,"on"+p4)}gi(F5,"onAnimationEnd");gi($5,"onAnimationIteration");gi(U5,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(B5,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function gx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,h3(r,t,void 0,e),e.currentTarget=null}function V5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;gx(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;gx(s,a,u),i=l}}}if(Vd)throw e=rg,Vd=!1,rg=null,e}function ut(e,t){var n=t[hg];n===void 0&&(n=t[hg]=new Set);var r=e+"__bubble";n.has(r)||(z5(t,e,2,!1),n.add(r))}function $p(e,t,n){var r=0;t&&(r|=4),z5(n,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[Mu]){e[Mu]=!0,Z_.forEach(function(n){n!=="selectionchange"&&(m4.has(n)||$p(n,!1,e),$p(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mu]||(t[Mu]=!0,$p("selectionchange",!1,t))}}function z5(e,t,n,r){switch(T5(t)){case 1:var s=I3;break;case 4:s=j3;break;default:s=by}n=s.bind(null,t,n,e),s=void 0,!ng||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Up(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ai(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}h5(function(){var u=i,d=gy(n),f=[];e:{var h=H5.get(e);if(h!==void 0){var p=wy,m=e;switch(e){case"keypress":if(md(n)===0)break e;case"keydown":case"keyup":p=W3;break;case"focusin":m="focus",p=Dp;break;case"focusout":m="blur",p=Dp;break;case"beforeblur":case"afterblur":p=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=D3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Y3;break;case F5:case $5:case U5:p=A3;break;case B5:p=X3;break;case"scroll":p=R3;break;case"wheel":p=Q3;break;case"copy":case"cut":case"paste":p=F3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ox}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,S;g!==null;){S=g;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,v!==null&&(E=oc(g,v),E!=null&&y.push(hc(g,E,S)))),b)break;g=g.return}0<y.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==eg&&(m=n.relatedTarget||n.fromElement)&&(Ai(m)||m[xs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ai(m):null,m!==null&&(b=yo(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=sx,E="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=ox,E="onPointerLeave",v="onPointerEnter",g="pointer"),b=p==null?h:Uo(p),S=m==null?h:Uo(m),h=new y(E,g+"leave",p,n,d),h.target=b,h.relatedTarget=S,E=null,Ai(d)===u&&(y=new y(v,g+"enter",m,n,d),y.target=S,y.relatedTarget=b,E=y),b=E,p&&m)t:{for(y=p,v=m,g=0,S=y;S;S=No(S))g++;for(S=0,E=v;E;E=No(E))S++;for(;0<g-S;)y=No(y),g--;for(;0<S-g;)v=No(v),S--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=No(y),v=No(v)}y=null}else y=null;p!==null&&yx(f,h,p,y,!1),m!==null&&b!==null&&yx(f,b,m,y,!0)}}e:{if(h=u?Uo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=i4;else if(cx(h))if(D5)C=c4;else{C=a4;var k=o4}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=l4);if(C&&(C=C(e,u))){M5(f,C,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Km(h,"number",h.value)}switch(k=u?Uo(u):window,e){case"focusin":(cx(k)||k.contentEditable==="true")&&(Fo=k,ag=u,Ul=null);break;case"focusout":Ul=ag=Fo=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,px(f,n,d);break;case"selectionchange":if(f4)break;case"keydown":case"keyup":px(f,n,d)}var x;if(Ey)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Lo?j5(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(I5&&n.locale!=="ko"&&(Lo||_!=="onCompositionStart"?_==="onCompositionEnd"&&Lo&&(x=N5()):(qs=d,Sy="value"in qs?qs.value:qs.textContent,Lo=!0)),k=Yd(u,_),0<k.length&&(_=new ix(_,e,null,n,d),f.push({event:_,listeners:k}),x?_.data=x:(x=R5(n),x!==null&&(_.data=x)))),(x=e4?t4(e,n):n4(e,n))&&(u=Yd(u,"onBeforeInput"),0<u.length&&(d=new ix("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=x))}V5(f,t)})}function hc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=oc(e,n),i!=null&&r.unshift(hc(e,i,s)),i=oc(e,t),i!=null&&r.push(hc(e,i,s))),e=e.return}return r}function No(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yx(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=oc(n,i),l!=null&&o.unshift(hc(n,l,a))):s||(l=oc(n,i),l!=null&&o.push(hc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var g4=/\r\n?/g,y4=/\u0000|\uFFFD/g;function vx(e){return(typeof e=="string"?e:""+e).replace(g4,`
`).replace(y4,"")}function Du(e,t,n){if(t=vx(t),vx(e)!==t&&n)throw Error(Z(425))}function Kd(){}var cg=null,ug=null;function dg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fg=typeof setTimeout=="function"?setTimeout:void 0,v4=typeof clearTimeout=="function"?clearTimeout:void 0,xx=typeof Promise=="function"?Promise:void 0,x4=typeof queueMicrotask=="function"?queueMicrotask:typeof xx<"u"?function(e){return xx.resolve(null).then(e).catch(b4)}:fg;function b4(e){setTimeout(function(){throw e})}function Bp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),cc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cc(t)}function ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Ua,pc="__reactProps$"+Ua,xs="__reactContainer$"+Ua,hg="__reactEvents$"+Ua,S4="__reactListeners$"+Ua,w4="__reactHandles$"+Ua;function Ai(e){var t=e[Wr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xs]||n[Wr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bx(e);e!==null;){if(n=e[Wr])return n;e=bx(e)}return t}e=n,n=e.parentNode}return null}function Yc(e){return e=e[Wr]||e[xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function ph(e){return e[pc]||null}var pg=[],Bo=-1;function yi(e){return{current:e}}function ft(e){0>Bo||(e.current=pg[Bo],pg[Bo]=null,Bo--)}function ot(e,t){Bo++,pg[Bo]=e.current,e.current=t}var ui={},nn=yi(ui),Nn=yi(!1),Qi=ui;function ua(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function In(e){return e=e.childContextTypes,e!=null}function Xd(){ft(Nn),ft(nn)}function Sx(e,t,n){if(nn.current!==ui)throw Error(Z(168));ot(nn,t),ot(Nn,n)}function W5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,o3(e)||"Unknown",s));return gt({},n,r)}function Zd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,Qi=nn.current,ot(nn,e),ot(Nn,Nn.current),!0}function wx(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=W5(e,t,Qi),r.__reactInternalMemoizedMergedChildContext=e,ft(Nn),ft(nn),ot(nn,e)):ft(Nn),ot(Nn,n)}var ds=null,mh=!1,Hp=!1;function q5(e){ds===null?ds=[e]:ds.push(e)}function _4(e){mh=!0,q5(e)}function vi(){if(!Hp&&ds!==null){Hp=!0;var e=0,t=et;try{var n=ds;for(et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ds=null,mh=!1}catch(s){throw ds!==null&&(ds=ds.slice(e+1)),y5(yy,vi),s}finally{et=t,Hp=!1}}return null}var Ho=[],Vo=0,Qd=null,Jd=0,Xn=[],Zn=0,Ji=null,fs=1,hs="";function ji(e,t){Ho[Vo++]=Jd,Ho[Vo++]=Qd,Qd=e,Jd=t}function G5(e,t,n){Xn[Zn++]=fs,Xn[Zn++]=hs,Xn[Zn++]=Ji,Ji=e;var r=fs;e=hs;var s=32-Rr(r)-1;r&=~(1<<s),n+=1;var i=32-Rr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fs=1<<32-Rr(t)+s|n<<s|r,hs=i+e}else fs=1<<i|n<<s|r,hs=e}function Cy(e){e.return!==null&&(ji(e,1),G5(e,1,0))}function Ty(e){for(;e===Qd;)Qd=Ho[--Vo],Ho[Vo]=null,Jd=Ho[--Vo],Ho[Vo]=null;for(;e===Ji;)Ji=Xn[--Zn],Xn[Zn]=null,hs=Xn[--Zn],Xn[Zn]=null,fs=Xn[--Zn],Xn[Zn]=null}var Fn=null,Ln=null,ht=!1,Sr=null;function Y5(e,t){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _x(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ji!==null?{id:fs,overflow:hs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fn=e,Ln=null,!0):!1;default:return!1}}function mg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gg(e){if(ht){var t=Ln;if(t){var n=t;if(!_x(e,t)){if(mg(e))throw Error(Z(418));t=ti(n.nextSibling);var r=Fn;t&&_x(e,t)?Y5(r,n):(e.flags=e.flags&-4097|2,ht=!1,Fn=e)}}else{if(mg(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ht=!1,Fn=e}}}function Ex(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function Ou(e){if(e!==Fn)return!1;if(!ht)return Ex(e),ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dg(e.type,e.memoizedProps)),t&&(t=Ln)){if(mg(e))throw K5(),Error(Z(418));for(;t;)Y5(e,t),t=ti(t.nextSibling)}if(Ex(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ln=ti(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ln=null}}else Ln=Fn?ti(e.stateNode.nextSibling):null;return!0}function K5(){for(var e=Ln;e;)e=ti(e.nextSibling)}function da(){Ln=Fn=null,ht=!1}function Ny(e){Sr===null?Sr=[e]:Sr.push(e)}var E4=Is.ReactCurrentBatchConfig;function ll(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Pu(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kx(e){var t=e._init;return t(e._payload)}function X5(e){function t(v,g){if(e){var S=v.deletions;S===null?(v.deletions=[g],v.flags|=16):S.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=ii(v,g),v.index=0,v.sibling=null,v}function i(v,g,S){return v.index=S,e?(S=v.alternate,S!==null?(S=S.index,S<g?(v.flags|=2,g):S):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,g,S,E){return g===null||g.tag!==6?(g=Kp(S,v.mode,E),g.return=v,g):(g=s(g,S),g.return=v,g)}function l(v,g,S,E){var C=S.type;return C===Ao?d(v,g,S.props.children,E,S.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===As&&kx(C)===g.type)?(E=s(g,S.props),E.ref=ll(v,g,S),E.return=v,E):(E=wd(S.type,S.key,S.props,null,v.mode,E),E.ref=ll(v,g,S),E.return=v,E)}function u(v,g,S,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==S.containerInfo||g.stateNode.implementation!==S.implementation?(g=Xp(S,v.mode,E),g.return=v,g):(g=s(g,S.children||[]),g.return=v,g)}function d(v,g,S,E,C){return g===null||g.tag!==7?(g=qi(S,v.mode,E,C),g.return=v,g):(g=s(g,S),g.return=v,g)}function f(v,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kp(""+g,v.mode,S),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Eu:return S=wd(g.type,g.key,g.props,null,v.mode,S),S.ref=ll(v,null,g),S.return=v,S;case Po:return g=Xp(g,v.mode,S),g.return=v,g;case As:var E=g._init;return f(v,E(g._payload),S)}if(Tl(g)||rl(g))return g=qi(g,v.mode,S,null),g.return=v,g;Pu(v,g)}return null}function h(v,g,S,E){var C=g!==null?g.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(v,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Eu:return S.key===C?l(v,g,S,E):null;case Po:return S.key===C?u(v,g,S,E):null;case As:return C=S._init,h(v,g,C(S._payload),E)}if(Tl(S)||rl(S))return C!==null?null:d(v,g,S,E,null);Pu(v,S)}return null}function p(v,g,S,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(S)||null,a(g,v,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Eu:return v=v.get(E.key===null?S:E.key)||null,l(g,v,E,C);case Po:return v=v.get(E.key===null?S:E.key)||null,u(g,v,E,C);case As:var k=E._init;return p(v,g,S,k(E._payload),C)}if(Tl(E)||rl(E))return v=v.get(S)||null,d(g,v,E,C,null);Pu(g,E)}return null}function m(v,g,S,E){for(var C=null,k=null,x=g,_=g=0,T=null;x!==null&&_<S.length;_++){x.index>_?(T=x,x=null):T=x.sibling;var I=h(v,x,S[_],E);if(I===null){x===null&&(x=T);break}e&&x&&I.alternate===null&&t(v,x),g=i(I,g,_),k===null?C=I:k.sibling=I,k=I,x=T}if(_===S.length)return n(v,x),ht&&ji(v,_),C;if(x===null){for(;_<S.length;_++)x=f(v,S[_],E),x!==null&&(g=i(x,g,_),k===null?C=x:k.sibling=x,k=x);return ht&&ji(v,_),C}for(x=r(v,x);_<S.length;_++)T=p(x,v,_,S[_],E),T!==null&&(e&&T.alternate!==null&&x.delete(T.key===null?_:T.key),g=i(T,g,_),k===null?C=T:k.sibling=T,k=T);return e&&x.forEach(function(M){return t(v,M)}),ht&&ji(v,_),C}function y(v,g,S,E){var C=rl(S);if(typeof C!="function")throw Error(Z(150));if(S=C.call(S),S==null)throw Error(Z(151));for(var k=C=null,x=g,_=g=0,T=null,I=S.next();x!==null&&!I.done;_++,I=S.next()){x.index>_?(T=x,x=null):T=x.sibling;var M=h(v,x,I.value,E);if(M===null){x===null&&(x=T);break}e&&x&&M.alternate===null&&t(v,x),g=i(M,g,_),k===null?C=M:k.sibling=M,k=M,x=T}if(I.done)return n(v,x),ht&&ji(v,_),C;if(x===null){for(;!I.done;_++,I=S.next())I=f(v,I.value,E),I!==null&&(g=i(I,g,_),k===null?C=I:k.sibling=I,k=I);return ht&&ji(v,_),C}for(x=r(v,x);!I.done;_++,I=S.next())I=p(x,v,_,I.value,E),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?_:I.key),g=i(I,g,_),k===null?C=I:k.sibling=I,k=I);return e&&x.forEach(function(R){return t(v,R)}),ht&&ji(v,_),C}function b(v,g,S,E){if(typeof S=="object"&&S!==null&&S.type===Ao&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Eu:e:{for(var C=S.key,k=g;k!==null;){if(k.key===C){if(C=S.type,C===Ao){if(k.tag===7){n(v,k.sibling),g=s(k,S.props.children),g.return=v,v=g;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===As&&kx(C)===k.type){n(v,k.sibling),g=s(k,S.props),g.ref=ll(v,k,S),g.return=v,v=g;break e}n(v,k);break}else t(v,k);k=k.sibling}S.type===Ao?(g=qi(S.props.children,v.mode,E,S.key),g.return=v,v=g):(E=wd(S.type,S.key,S.props,null,v.mode,E),E.ref=ll(v,g,S),E.return=v,v=E)}return o(v);case Po:e:{for(k=S.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===S.containerInfo&&g.stateNode.implementation===S.implementation){n(v,g.sibling),g=s(g,S.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=Xp(S,v.mode,E),g.return=v,v=g}return o(v);case As:return k=S._init,b(v,g,k(S._payload),E)}if(Tl(S))return m(v,g,S,E);if(rl(S))return y(v,g,S,E);Pu(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,S),g.return=v,v=g):(n(v,g),g=Kp(S,v.mode,E),g.return=v,v=g),o(v)):n(v,g)}return b}var fa=X5(!0),Z5=X5(!1),ef=yi(null),tf=null,zo=null,Iy=null;function jy(){Iy=zo=tf=null}function Ry(e){var t=ef.current;ft(ef),e._currentValue=t}function yg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function na(e,t){tf=e,Iy=zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kn=!0),e.firstContext=null)}function cr(e){var t=e._currentValue;if(Iy!==e)if(e={context:e,memoizedValue:t,next:null},zo===null){if(tf===null)throw Error(Z(308));zo=e,tf.dependencies={lanes:0,firstContext:e}}else zo=zo.next=e;return t}var Li=null;function My(e){Li===null?Li=[e]:Li.push(e)}function Q5(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,My(t)):(n.next=s.next,s.next=n),t.interleaved=n,bs(e,r)}function bs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ls=!1;function Dy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ni(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bs(e,n)}return s=r.interleaved,s===null?(t.next=t,My(r)):(t.next=s.next,s.next=t),r.interleaved=t,bs(e,n)}function gd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vy(e,n)}}function Cx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nf(e,t,n,r){var s=e.updateQueue;Ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(h=t,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=gt({},f,h);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);to|=o,e.lanes=o,e.memoizedState=f}}function Tx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var Kc={},Zr=yi(Kc),mc=yi(Kc),gc=yi(Kc);function Fi(e){if(e===Kc)throw Error(Z(174));return e}function Oy(e,t){switch(ot(gc,t),ot(mc,e),ot(Zr,Kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zm(t,e)}ft(Zr),ot(Zr,t)}function ha(){ft(Zr),ft(mc),ft(gc)}function eE(e){Fi(gc.current);var t=Fi(Zr.current),n=Zm(t,e.type);t!==n&&(ot(mc,e),ot(Zr,n))}function Py(e){mc.current===e&&(ft(Zr),ft(mc))}var pt=yi(0);function rf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vp=[];function Ay(){for(var e=0;e<Vp.length;e++)Vp[e]._workInProgressVersionPrimary=null;Vp.length=0}var yd=Is.ReactCurrentDispatcher,zp=Is.ReactCurrentBatchConfig,eo=0,mt=null,Dt=null,Ht=null,sf=!1,Bl=!1,yc=0,k4=0;function Jt(){throw Error(Z(321))}function Ly(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function Fy(e,t,n,r,s,i){if(eo=i,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yd.current=e===null||e.memoizedState===null?I4:j4,e=n(r,s),Bl){i=0;do{if(Bl=!1,yc=0,25<=i)throw Error(Z(301));i+=1,Ht=Dt=null,t.updateQueue=null,yd.current=R4,e=n(r,s)}while(Bl)}if(yd.current=of,t=Dt!==null&&Dt.next!==null,eo=0,Ht=Dt=mt=null,sf=!1,t)throw Error(Z(300));return e}function $y(){var e=yc!==0;return yc=0,e}function Hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?mt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function ur(){if(Dt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=Ht===null?mt.memoizedState:Ht.next;if(t!==null)Ht=t,Dt=e;else{if(e===null)throw Error(Z(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ht===null?mt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function vc(e,t){return typeof t=="function"?t(e):t}function Wp(e){var t=ur(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=Dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((eo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,mt.lanes|=d,to|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Dr(r,t.memoizedState)||(kn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,mt.lanes|=i,to|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qp(e){var t=ur(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Dr(i,t.memoizedState)||(kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function tE(){}function nE(e,t){var n=mt,r=ur(),s=t(),i=!Dr(r.memoizedState,s);if(i&&(r.memoizedState=s,kn=!0),r=r.queue,Uy(iE.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,xc(9,sE.bind(null,n,r,s,t),void 0,null),Vt===null)throw Error(Z(349));eo&30||rE(n,t,s)}return s}function rE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sE(e,t,n,r){t.value=n,t.getSnapshot=r,oE(t)&&aE(e)}function iE(e,t,n){return n(function(){oE(t)&&aE(e)})}function oE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dr(e,n)}catch{return!0}}function aE(e){var t=bs(e,1);t!==null&&Mr(t,e,1,-1)}function Nx(e){var t=Hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=N4.bind(null,mt,e),[t.memoizedState,e]}function xc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lE(){return ur().memoizedState}function vd(e,t,n,r){var s=Hr();mt.flags|=e,s.memoizedState=xc(1|t,n,void 0,r===void 0?null:r)}function gh(e,t,n,r){var s=ur();r=r===void 0?null:r;var i=void 0;if(Dt!==null){var o=Dt.memoizedState;if(i=o.destroy,r!==null&&Ly(r,o.deps)){s.memoizedState=xc(t,n,i,r);return}}mt.flags|=e,s.memoizedState=xc(1|t,n,i,r)}function Ix(e,t){return vd(8390656,8,e,t)}function Uy(e,t){return gh(2048,8,e,t)}function cE(e,t){return gh(4,2,e,t)}function uE(e,t){return gh(4,4,e,t)}function dE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fE(e,t,n){return n=n!=null?n.concat([e]):null,gh(4,4,dE.bind(null,t,e),n)}function By(){}function hE(e,t){var n=ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ly(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pE(e,t){var n=ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ly(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mE(e,t,n){return eo&21?(Dr(n,t)||(n=b5(),mt.lanes|=n,to|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=n)}function C4(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var r=zp.transition;zp.transition={};try{e(!1),t()}finally{et=n,zp.transition=r}}function gE(){return ur().memoizedState}function T4(e,t,n){var r=si(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(e))vE(t,n);else if(n=Q5(e,t,n,r),n!==null){var s=pn();Mr(n,e,r,s),xE(n,t,r)}}function N4(e,t,n){var r=si(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(e))vE(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dr(a,o)){var l=t.interleaved;l===null?(s.next=s,My(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Q5(e,t,s,r),n!==null&&(s=pn(),Mr(n,e,r,s),xE(n,t,r))}}function yE(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function vE(e,t){Bl=sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vy(e,n)}}var of={readContext:cr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},I4={readContext:cr,useCallback:function(e,t){return Hr().memoizedState=[e,t===void 0?null:t],e},useContext:cr,useEffect:Ix,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vd(4194308,4,dE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return vd(4,2,e,t)},useMemo:function(e,t){var n=Hr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=T4.bind(null,mt,e),[r.memoizedState,e]},useRef:function(e){var t=Hr();return e={current:e},t.memoizedState=e},useState:Nx,useDebugValue:By,useDeferredValue:function(e){return Hr().memoizedState=e},useTransition:function(){var e=Nx(!1),t=e[0];return e=C4.bind(null,e[1]),Hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mt,s=Hr();if(ht){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Vt===null)throw Error(Z(349));eo&30||rE(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ix(iE.bind(null,r,i,e),[e]),r.flags|=2048,xc(9,sE.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Hr(),t=Vt.identifierPrefix;if(ht){var n=hs,r=fs;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=k4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j4={readContext:cr,useCallback:hE,useContext:cr,useEffect:Uy,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:Wp,useRef:lE,useState:function(){return Wp(vc)},useDebugValue:By,useDeferredValue:function(e){var t=ur();return mE(t,Dt.memoizedState,e)},useTransition:function(){var e=Wp(vc)[0],t=ur().memoizedState;return[e,t]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},R4={readContext:cr,useCallback:hE,useContext:cr,useEffect:Uy,useImperativeHandle:fE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:qp,useRef:lE,useState:function(){return qp(vc)},useDebugValue:By,useDeferredValue:function(e){var t=ur();return Dt===null?t.memoizedState=e:mE(t,Dt.memoizedState,e)},useTransition:function(){var e=qp(vc)[0],t=ur().memoizedState;return[e,t]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yh={isMounted:function(e){return(e=e._reactInternals)?yo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pn(),s=si(e),i=ps(r,s);i.payload=t,n!=null&&(i.callback=n),t=ni(e,i,s),t!==null&&(Mr(t,e,s,r),gd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pn(),s=si(e),i=ps(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ni(e,i,s),t!==null&&(Mr(t,e,s,r),gd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pn(),r=si(e),s=ps(n,r);s.tag=2,t!=null&&(s.callback=t),t=ni(e,s,r),t!==null&&(Mr(t,e,r,n),gd(t,e,r))}};function jx(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!dc(n,r)||!dc(s,i):!0}function bE(e,t,n){var r=!1,s=ui,i=t.contextType;return typeof i=="object"&&i!==null?i=cr(i):(s=In(t)?Qi:nn.current,r=t.contextTypes,i=(r=r!=null)?ua(e,s):ui),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yh.enqueueReplaceState(t,t.state,null)}function xg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Dy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=cr(i):(i=In(t)?Qi:nn.current,s.context=ua(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yh.enqueueReplaceState(s,s.state,null),nf(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pa(e,t){try{var n="",r=t;do n+=i3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Gp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M4=typeof WeakMap=="function"?WeakMap:Map;function SE(e,t,n){n=ps(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lf||(lf=!0,jg=r),bg(e,t)},n}function wE(e,t,n){n=ps(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){bg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bg(e,t),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Mx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M4;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=q4.bind(null,e,t,n),t.then(e,e))}function Dx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ox(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ps(-1,1),t.tag=2,ni(n,t,1))),n.lanes|=1),e)}var D4=Is.ReactCurrentOwner,kn=!1;function un(e,t,n,r){t.child=e===null?Z5(t,null,n,r):fa(t,e.child,n,r)}function Px(e,t,n,r,s){n=n.render;var i=t.ref;return na(t,s),r=Fy(e,t,n,r,i,s),n=$y(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ss(e,t,s)):(ht&&n&&Cy(t),t.flags|=1,un(e,t,r,s),t.child)}function Ax(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ky(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,_E(e,t,i,r,s)):(e=wd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(o,r)&&e.ref===t.ref)return Ss(e,t,s)}return t.flags|=1,e=ii(i,r),e.ref=t.ref,e.return=t,t.child=e}function _E(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(dc(i,r)&&e.ref===t.ref)if(kn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(kn=!0);else return t.lanes=e.lanes,Ss(e,t,s)}return Sg(e,t,n,r,s)}function EE(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(qo,Mn),Mn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(qo,Mn),Mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ot(qo,Mn),Mn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ot(qo,Mn),Mn|=r;return un(e,t,s,n),t.child}function kE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sg(e,t,n,r,s){var i=In(n)?Qi:nn.current;return i=ua(t,i),na(t,s),n=Fy(e,t,n,r,i,s),r=$y(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ss(e,t,s)):(ht&&r&&Cy(t),t.flags|=1,un(e,t,n,s),t.child)}function Lx(e,t,n,r,s){if(In(n)){var i=!0;Zd(t)}else i=!1;if(na(t,s),t.stateNode===null)xd(e,t),bE(t,n,r),xg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=In(n)?Qi:nn.current,u=ua(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Rx(t,o,r,u),Ls=!1;var h=t.memoizedState;o.state=h,nf(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Nn.current||Ls?(typeof d=="function"&&(vg(t,n,d,r),l=t.memoizedState),(a=Ls||jx(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,J5(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yr(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=In(n)?Qi:nn.current,l=ua(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Rx(t,o,r,l),Ls=!1,h=t.memoizedState,o.state=h,nf(t,r,o,s);var m=t.memoizedState;a!==f||h!==m||Nn.current||Ls?(typeof p=="function"&&(vg(t,n,p,r),m=t.memoizedState),(u=Ls||jx(t,n,u,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return wg(e,t,n,r,i,s)}function wg(e,t,n,r,s,i){kE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&wx(t,n,!1),Ss(e,t,i);r=t.stateNode,D4.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fa(t,e.child,null,i),t.child=fa(t,null,a,i)):un(e,t,a,i),t.memoizedState=r.state,s&&wx(t,n,!0),t.child}function CE(e){var t=e.stateNode;t.pendingContext?Sx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sx(e,t.context,!1),Oy(e,t.containerInfo)}function Fx(e,t,n,r,s){return da(),Ny(s),t.flags|=256,un(e,t,n,r),t.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function Eg(e){return{baseLanes:e,cachePool:null,transitions:null}}function TE(e,t,n){var r=t.pendingProps,s=pt.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ot(pt,s&1),e===null)return gg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bh(o,r,0,null),e=qi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eg(n),t.memoizedState=_g,e):Hy(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return O4(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ii(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ii(a,i):(i=qi(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Eg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=_g,r}return i=e.child,e=i.sibling,r=ii(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hy(e,t){return t=bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Au(e,t,n,r){return r!==null&&Ny(r),fa(t,e.child,null,n),e=Hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O4(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Gp(Error(Z(422))),Au(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=bh({mode:"visible",children:r.children},s,0,null),i=qi(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&fa(t,e.child,null,o),t.child.memoizedState=Eg(o),t.memoizedState=_g,i);if(!(t.mode&1))return Au(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Z(419)),r=Gp(i,r,void 0),Au(e,t,o,r)}if(a=(o&e.childLanes)!==0,kn||a){if(r=Vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bs(e,s),Mr(r,e,s,-1))}return Yy(),r=Gp(Error(Z(421))),Au(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=G4.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ln=ti(s.nextSibling),Fn=t,ht=!0,Sr=null,e!==null&&(Xn[Zn++]=fs,Xn[Zn++]=hs,Xn[Zn++]=Ji,fs=e.id,hs=e.overflow,Ji=t),t=Hy(t,r.children),t.flags|=4096,t)}function $x(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yg(e.return,t,n)}function Yp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NE(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(un(e,t,r.children,n),r=pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$x(e,n,t);else if(e.tag===19)$x(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ot(pt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yp(t,!0,n,null,i);break;case"together":Yp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ss(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),to|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=ii(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ii(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function P4(e,t,n){switch(t.tag){case 3:CE(t),da();break;case 5:eE(t);break;case 1:In(t.type)&&Zd(t);break;case 4:Oy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ot(ef,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ot(pt,pt.current&1),t.flags|=128,null):n&t.child.childLanes?TE(e,t,n):(ot(pt,pt.current&1),e=Ss(e,t,n),e!==null?e.sibling:null);ot(pt,pt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NE(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ot(pt,pt.current),r)break;return null;case 22:case 23:return t.lanes=0,EE(e,t,n)}return Ss(e,t,n)}var IE,kg,jE,RE;IE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kg=function(){};jE=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fi(Zr.current);var i=null;switch(n){case"input":s=Gm(e,s),r=Gm(e,r),i=[];break;case"select":s=gt({},s,{value:void 0}),r=gt({},r,{value:void 0}),i=[];break;case"textarea":s=Xm(e,s),r=Xm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kd)}Qm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ut("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};RE=function(e,t,n,r){n!==r&&(t.flags|=4)};function cl(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function en(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function A4(e,t,n){var r=t.pendingProps;switch(Ty(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(t),null;case 1:return In(t.type)&&Xd(),en(t),null;case 3:return r=t.stateNode,ha(),ft(Nn),ft(nn),Ay(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(Dg(Sr),Sr=null))),kg(e,t),en(t),null;case 5:Py(t);var s=Fi(gc.current);if(n=t.type,e!==null&&t.stateNode!=null)jE(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return en(t),null}if(e=Fi(Zr.current),Ou(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Wr]=t,r[pc]=i,e=(t.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(s=0;s<Il.length;s++)ut(Il[s],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":Y1(r,i),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ut("invalid",r);break;case"textarea":X1(r,i),ut("invalid",r)}Qm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Du(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Du(r.textContent,a,e),s=["children",""+a]):sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":ku(r),K1(r,i,!0);break;case"textarea":ku(r),Z1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Kd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wr]=t,e[pc]=r,IE(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jm(n,r),n){case"dialog":ut("cancel",e),ut("close",e),s=r;break;case"iframe":case"object":case"embed":ut("load",e),s=r;break;case"video":case"audio":for(s=0;s<Il.length;s++)ut(Il[s],e);s=r;break;case"source":ut("error",e),s=r;break;case"img":case"image":case"link":ut("error",e),ut("load",e),s=r;break;case"details":ut("toggle",e),s=r;break;case"input":Y1(e,r),s=Gm(e,r),ut("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=gt({},r,{value:void 0}),ut("invalid",e);break;case"textarea":X1(e,r),s=Xm(e,r),ut("invalid",e);break;default:s=r}Qm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?l5(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o5(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ic(e,l):typeof l=="number"&&ic(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ut("scroll",e):l!=null&&fy(e,i,l,o))}switch(n){case"input":ku(e),K1(e,r,!1);break;case"textarea":ku(e),Z1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ci(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qo(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Kd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return en(t),null;case 6:if(e&&t.stateNode!=null)RE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Fi(gc.current),Fi(Zr.current),Ou(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wr]=t,(i=r.nodeValue!==n)&&(e=Fn,e!==null))switch(e.tag){case 3:Du(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Du(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=t,t.stateNode=r}return en(t),null;case 13:if(ft(pt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&Ln!==null&&t.mode&1&&!(t.flags&128))K5(),da(),t.flags|=98560,i=!1;else if(i=Ou(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Wr]=t}else da(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;en(t),i=!1}else Sr!==null&&(Dg(Sr),Sr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Pt===0&&(Pt=3):Yy())),t.updateQueue!==null&&(t.flags|=4),en(t),null);case 4:return ha(),kg(e,t),e===null&&fc(t.stateNode.containerInfo),en(t),null;case 10:return Ry(t.type._context),en(t),null;case 17:return In(t.type)&&Xd(),en(t),null;case 19:if(ft(pt),i=t.memoizedState,i===null)return en(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)cl(i,!1);else{if(Pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rf(e),o!==null){for(t.flags|=128,cl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ot(pt,pt.current&1|2),t.child}e=e.sibling}i.tail!==null&&wt()>ma&&(t.flags|=128,r=!0,cl(i,!1),t.lanes=4194304)}else{if(!r)if(e=rf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ht)return en(t),null}else 2*wt()-i.renderingStartTime>ma&&n!==1073741824&&(t.flags|=128,r=!0,cl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wt(),t.sibling=null,n=pt.current,ot(pt,r?n&1|2:n&1),t):(en(t),null);case 22:case 23:return Gy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mn&1073741824&&(en(t),t.subtreeFlags&6&&(t.flags|=8192)):en(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function L4(e,t){switch(Ty(t),t.tag){case 1:return In(t.type)&&Xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ha(),ft(Nn),ft(nn),Ay(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Py(t),null;case 13:if(ft(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(pt),null;case 4:return ha(),null;case 10:return Ry(t.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var Lu=!1,tn=!1,F4=typeof WeakSet=="function"?WeakSet:Set,le=null;function Wo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(e,t,r)}else n.current=null}function Cg(e,t,n){try{n()}catch(r){bt(e,t,r)}}var Ux=!1;function $4(e,t){if(cg=qd,e=A5(),ky(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:e,selectionRange:n},qd=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:yr(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(E){bt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return m=Ux,Ux=!1,m}function Hl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cg(t,n,i)}s=s.next}while(s!==r)}}function vh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ME(e){var t=e.alternate;t!==null&&(e.alternate=null,ME(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wr],delete t[pc],delete t[hg],delete t[S4],delete t[w4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DE(e){return e.tag===5||e.tag===3||e.tag===4}function Bx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ng(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kd));else if(r!==4&&(e=e.child,e!==null))for(Ng(e,t,n),e=e.sibling;e!==null;)Ng(e,t,n),e=e.sibling}function Ig(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ig(e,t,n),e=e.sibling;e!==null;)Ig(e,t,n),e=e.sibling}var Gt=null,vr=!1;function Ds(e,t,n){for(n=n.child;n!==null;)OE(e,t,n),n=n.sibling}function OE(e,t,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:tn||Wo(n,t);case 6:var r=Gt,s=vr;Gt=null,Ds(e,t,n),Gt=r,vr=s,Gt!==null&&(vr?(e=Gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(vr?(e=Gt,n=n.stateNode,e.nodeType===8?Bp(e.parentNode,n):e.nodeType===1&&Bp(e,n),cc(e)):Bp(Gt,n.stateNode));break;case 4:r=Gt,s=vr,Gt=n.stateNode.containerInfo,vr=!0,Ds(e,t,n),Gt=r,vr=s;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cg(n,t,o),s=s.next}while(s!==r)}Ds(e,t,n);break;case 1:if(!tn&&(Wo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,t,a)}Ds(e,t,n);break;case 21:Ds(e,t,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Ds(e,t,n),tn=r):Ds(e,t,n);break;default:Ds(e,t,n)}}function Hx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new F4),t.forEach(function(r){var s=Y4.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,vr=!1;break e;case 3:Gt=a.stateNode.containerInfo,vr=!0;break e;case 4:Gt=a.stateNode.containerInfo,vr=!0;break e}a=a.return}if(Gt===null)throw Error(Z(160));OE(i,o,s),Gt=null,vr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){bt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PE(t,e),t=t.sibling}function PE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Ur(e),r&4){try{Hl(3,e,e.return),vh(3,e)}catch(y){bt(e,e.return,y)}try{Hl(5,e,e.return)}catch(y){bt(e,e.return,y)}}break;case 1:pr(t,e),Ur(e),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(pr(t,e),Ur(e),r&512&&n!==null&&Wo(n,n.return),e.flags&32){var s=e.stateNode;try{ic(s,"")}catch(y){bt(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&r5(s,i),Jm(a,o);var u=Jm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?l5(s,f):d==="dangerouslySetInnerHTML"?o5(s,f):d==="children"?ic(s,f):fy(s,d,f,u)}switch(a){case"input":Ym(s,i);break;case"textarea":s5(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Qo(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qo(s,!!i.multiple,i.defaultValue,!0):Qo(s,!!i.multiple,i.multiple?[]:"",!1))}s[pc]=i}catch(y){bt(e,e.return,y)}}break;case 6:if(pr(t,e),Ur(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){bt(e,e.return,y)}}break;case 3:if(pr(t,e),Ur(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cc(t.containerInfo)}catch(y){bt(e,e.return,y)}break;case 4:pr(t,e),Ur(e);break;case 13:pr(t,e),Ur(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wy=wt())),r&4&&Hx(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(tn=(u=tn)||d,pr(t,e),tn=u):pr(t,e),Ur(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(le=e,d=e.child;d!==null;){for(f=le=d;le!==null;){switch(h=le,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hl(4,h,h.return);break;case 1:Wo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){bt(r,n,y)}}break;case 5:Wo(h,h.return);break;case 22:if(h.memoizedState!==null){zx(f);continue}}p!==null?(p.return=h,le=p):zx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a5("display",o))}catch(y){bt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){bt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pr(t,e),Ur(e),r&4&&Hx(e);break;case 21:break;default:pr(t,e),Ur(e)}}function Ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(DE(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ic(s,""),r.flags&=-33);var i=Bx(e);Ig(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bx(e);Ng(e,a,o);break;default:throw Error(Z(161))}}catch(l){bt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U4(e,t,n){le=e,AE(e)}function AE(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Lu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||tn;a=Lu;var u=tn;if(Lu=o,(tn=l)&&!u)for(le=s;le!==null;)o=le,l=o.child,o.tag===22&&o.memoizedState!==null?Wx(s):l!==null?(l.return=o,le=l):Wx(s);for(;i!==null;)le=i,AE(i),i=i.sibling;le=s,Lu=a,tn=u}Vx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):Vx(e)}}function Vx(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tn||vh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tx(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tx(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&cc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}tn||t.flags&512&&Tg(t)}catch(h){bt(t,t.return,h)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function zx(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Wx(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vh(4,t)}catch(l){bt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){bt(t,s,l)}}var i=t.return;try{Tg(t)}catch(l){bt(t,i,l)}break;case 5:var o=t.return;try{Tg(t)}catch(l){bt(t,o,l)}}}catch(l){bt(t,t.return,l)}if(t===e){le=null;break}var a=t.sibling;if(a!==null){a.return=t.return,le=a;break}le=t.return}}var B4=Math.ceil,af=Is.ReactCurrentDispatcher,Vy=Is.ReactCurrentOwner,ir=Is.ReactCurrentBatchConfig,Ye=0,Vt=null,It=null,Xt=0,Mn=0,qo=yi(0),Pt=0,bc=null,to=0,xh=0,zy=0,Vl=null,En=null,Wy=0,ma=1/0,os=null,lf=!1,jg=null,ri=null,Fu=!1,Gs=null,cf=0,zl=0,Rg=null,bd=-1,Sd=0;function pn(){return Ye&6?wt():bd!==-1?bd:bd=wt()}function si(e){return e.mode&1?Ye&2&&Xt!==0?Xt&-Xt:E4.transition!==null?(Sd===0&&(Sd=b5()),Sd):(e=et,e!==0||(e=window.event,e=e===void 0?16:T5(e.type)),e):1}function Mr(e,t,n,r){if(50<zl)throw zl=0,Rg=null,Error(Z(185));qc(e,n,r),(!(Ye&2)||e!==Vt)&&(e===Vt&&(!(Ye&2)&&(xh|=n),Pt===4&&zs(e,Xt)),jn(e,r),n===1&&Ye===0&&!(t.mode&1)&&(ma=wt()+500,mh&&vi()))}function jn(e,t){var n=e.callbackNode;E3(e,t);var r=Wd(e,e===Vt?Xt:0);if(r===0)n!==null&&ex(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ex(n),t===1)e.tag===0?_4(qx.bind(null,e)):q5(qx.bind(null,e)),x4(function(){!(Ye&6)&&vi()}),n=null;else{switch(S5(r)){case 1:n=yy;break;case 4:n=v5;break;case 16:n=zd;break;case 536870912:n=x5;break;default:n=zd}n=zE(n,LE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LE(e,t){if(bd=-1,Sd=0,Ye&6)throw Error(Z(327));var n=e.callbackNode;if(ra()&&e.callbackNode!==n)return null;var r=Wd(e,e===Vt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uf(e,r);else{t=r;var s=Ye;Ye|=2;var i=$E();(Vt!==e||Xt!==t)&&(os=null,ma=wt()+500,Wi(e,t));do try{z4();break}catch(a){FE(e,a)}while(!0);jy(),af.current=i,Ye=s,It!==null?t=0:(Vt=null,Xt=0,t=Pt)}if(t!==0){if(t===2&&(s=sg(e),s!==0&&(r=s,t=Mg(e,s))),t===1)throw n=bc,Wi(e,0),zs(e,r),jn(e,wt()),n;if(t===6)zs(e,r);else{if(s=e.current.alternate,!(r&30)&&!H4(s)&&(t=uf(e,r),t===2&&(i=sg(e),i!==0&&(r=i,t=Mg(e,i))),t===1))throw n=bc,Wi(e,0),zs(e,r),jn(e,wt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Ri(e,En,os);break;case 3:if(zs(e,r),(r&130023424)===r&&(t=Wy+500-wt(),10<t)){if(Wd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){pn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fg(Ri.bind(null,e,En,os),t);break}Ri(e,En,os);break;case 4:if(zs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Rr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B4(r/1960))-r,10<r){e.timeoutHandle=fg(Ri.bind(null,e,En,os),r);break}Ri(e,En,os);break;case 5:Ri(e,En,os);break;default:throw Error(Z(329))}}}return jn(e,wt()),e.callbackNode===n?LE.bind(null,e):null}function Mg(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(Wi(e,t).flags|=256),e=uf(e,t),e!==2&&(t=En,En=n,t!==null&&Dg(t)),e}function Dg(e){En===null?En=e:En.push.apply(En,e)}function H4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zs(e,t){for(t&=~zy,t&=~xh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rr(t),r=1<<n;e[n]=-1,t&=~r}}function qx(e){if(Ye&6)throw Error(Z(327));ra();var t=Wd(e,0);if(!(t&1))return jn(e,wt()),null;var n=uf(e,t);if(e.tag!==0&&n===2){var r=sg(e);r!==0&&(t=r,n=Mg(e,r))}if(n===1)throw n=bc,Wi(e,0),zs(e,t),jn(e,wt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ri(e,En,os),jn(e,wt()),null}function qy(e,t){var n=Ye;Ye|=1;try{return e(t)}finally{Ye=n,Ye===0&&(ma=wt()+500,mh&&vi())}}function no(e){Gs!==null&&Gs.tag===0&&!(Ye&6)&&ra();var t=Ye;Ye|=1;var n=ir.transition,r=et;try{if(ir.transition=null,et=1,e)return e()}finally{et=r,ir.transition=n,Ye=t,!(Ye&6)&&vi()}}function Gy(){Mn=qo.current,ft(qo)}function Wi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,v4(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xd();break;case 3:ha(),ft(Nn),ft(nn),Ay();break;case 5:Py(r);break;case 4:ha();break;case 13:ft(pt);break;case 19:ft(pt);break;case 10:Ry(r.type._context);break;case 22:case 23:Gy()}n=n.return}if(Vt=e,It=e=ii(e.current,null),Xt=Mn=t,Pt=0,bc=null,zy=xh=to=0,En=Vl=null,Li!==null){for(t=0;t<Li.length;t++)if(n=Li[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Li=null}return e}function FE(e,t){do{var n=It;try{if(jy(),yd.current=of,sf){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sf=!1}if(eo=0,Ht=Dt=mt=null,Bl=!1,yc=0,Vy.current=null,n===null||n.return===null){Pt=1,bc=t,It=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Dx(o);if(p!==null){p.flags&=-257,Ox(p,o,a,i,t),p.mode&1&&Mx(i,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){Mx(i,u,t),Yy();break e}l=Error(Z(426))}}else if(ht&&a.mode&1){var b=Dx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ox(b,o,a,i,t),Ny(pa(l,a));break e}}i=l=pa(l,a),Pt!==4&&(Pt=2),Vl===null?Vl=[i]:Vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=SE(i,l,t);Cx(i,v);break e;case 1:a=l;var g=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ri===null||!ri.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=wE(i,a,t);Cx(i,E);break e}}i=i.return}while(i!==null)}BE(n)}catch(C){t=C,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function $E(){var e=af.current;return af.current=of,e===null?of:e}function Yy(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Vt===null||!(to&268435455)&&!(xh&268435455)||zs(Vt,Xt)}function uf(e,t){var n=Ye;Ye|=2;var r=$E();(Vt!==e||Xt!==t)&&(os=null,Wi(e,t));do try{V4();break}catch(s){FE(e,s)}while(!0);if(jy(),Ye=n,af.current=r,It!==null)throw Error(Z(261));return Vt=null,Xt=0,Pt}function V4(){for(;It!==null;)UE(It)}function z4(){for(;It!==null&&!m3();)UE(It)}function UE(e){var t=VE(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?BE(e):It=t,Vy.current=null}function BE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=L4(n,t),n!==null){n.flags&=32767,It=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,It=null;return}}else if(n=A4(n,t,Mn),n!==null){It=n;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Pt===0&&(Pt=5)}function Ri(e,t,n){var r=et,s=ir.transition;try{ir.transition=null,et=1,W4(e,t,n,r)}finally{ir.transition=s,et=r}return null}function W4(e,t,n,r){do ra();while(Gs!==null);if(Ye&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(k3(e,i),e===Vt&&(It=Vt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fu||(Fu=!0,zE(zd,function(){return ra(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ir.transition,ir.transition=null;var o=et;et=1;var a=Ye;Ye|=4,Vy.current=null,$4(e,n),PE(n,e),d4(ug),qd=!!cg,ug=cg=null,e.current=n,U4(n),g3(),Ye=a,et=o,ir.transition=i}else e.current=n;if(Fu&&(Fu=!1,Gs=e,cf=s),i=e.pendingLanes,i===0&&(ri=null),x3(n.stateNode),jn(e,wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lf)throw lf=!1,e=jg,jg=null,e;return cf&1&&e.tag!==0&&ra(),i=e.pendingLanes,i&1?e===Rg?zl++:(zl=0,Rg=e):zl=0,vi(),null}function ra(){if(Gs!==null){var e=S5(cf),t=ir.transition,n=et;try{if(ir.transition=null,et=16>e?16:e,Gs===null)var r=!1;else{if(e=Gs,Gs=null,cf=0,Ye&6)throw Error(Z(331));var s=Ye;for(Ye|=4,le=e.current;le!==null;){var i=le,o=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Hl(8,d,i)}var f=d.child;if(f!==null)f.return=d,le=f;else for(;le!==null;){d=le;var h=d.sibling,p=d.return;if(ME(d),d===u){le=null;break}if(h!==null){h.return=p,le=h;break}le=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,le=o;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,le=v;break e}le=i.return}}var g=e.current;for(le=g;le!==null;){o=le;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,le=S;else e:for(o=g;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vh(9,a)}}catch(C){bt(a,a.return,C)}if(a===o){le=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,le=E;break e}le=a.return}}if(Ye=s,vi(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(uh,e)}catch{}r=!0}return r}finally{et=n,ir.transition=t}}return!1}function Gx(e,t,n){t=pa(n,t),t=SE(e,t,1),e=ni(e,t,1),t=pn(),e!==null&&(qc(e,1,t),jn(e,t))}function bt(e,t,n){if(e.tag===3)Gx(e,e,n);else for(;t!==null;){if(t.tag===3){Gx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){e=pa(n,e),e=wE(t,e,1),t=ni(t,e,1),e=pn(),t!==null&&(qc(t,1,e),jn(t,e));break}}t=t.return}}function q4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pn(),e.pingedLanes|=e.suspendedLanes&n,Vt===e&&(Xt&n)===n&&(Pt===4||Pt===3&&(Xt&130023424)===Xt&&500>wt()-Wy?Wi(e,0):zy|=n),jn(e,t)}function HE(e,t){t===0&&(e.mode&1?(t=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):t=1);var n=pn();e=bs(e,t),e!==null&&(qc(e,t,n),jn(e,n))}function G4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),HE(e,n)}function Y4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),HE(e,n)}var VE;VE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nn.current)kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kn=!1,P4(e,t,n);kn=!!(e.flags&131072)}else kn=!1,ht&&t.flags&1048576&&G5(t,Jd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xd(e,t),e=t.pendingProps;var s=ua(t,nn.current);na(t,n),s=Fy(null,t,r,e,s,n);var i=$y();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(r)?(i=!0,Zd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dy(t),s.updater=yh,t.stateNode=s,s._reactInternals=t,xg(t,r,e,n),t=wg(null,t,r,!0,i,n)):(t.tag=0,ht&&i&&Cy(t),un(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=X4(r),e=yr(r,e),s){case 0:t=Sg(null,t,r,e,n);break e;case 1:t=Lx(null,t,r,e,n);break e;case 11:t=Px(null,t,r,e,n);break e;case 14:t=Ax(null,t,r,yr(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Sg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Lx(e,t,r,s,n);case 3:e:{if(CE(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,J5(e,t),nf(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pa(Error(Z(423)),t),t=Fx(e,t,r,n,s);break e}else if(r!==s){s=pa(Error(Z(424)),t),t=Fx(e,t,r,n,s);break e}else for(Ln=ti(t.stateNode.containerInfo.firstChild),Fn=t,ht=!0,Sr=null,n=Z5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),r===s){t=Ss(e,t,n);break e}un(e,t,r,n)}t=t.child}return t;case 5:return eE(t),e===null&&gg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,dg(r,s)?o=null:i!==null&&dg(r,i)&&(t.flags|=32),kE(e,t),un(e,t,o,n),t.child;case 6:return e===null&&gg(t),null;case 13:return TE(e,t,n);case 4:return Oy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fa(t,null,r,n):un(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Px(e,t,r,s,n);case 7:return un(e,t,t.pendingProps,n),t.child;case 8:return un(e,t,t.pendingProps.children,n),t.child;case 12:return un(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ot(ef,r._currentValue),r._currentValue=o,i!==null)if(Dr(i.value,o)){if(i.children===s.children&&!Nn.current){t=Ss(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ps(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yg(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yg(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}un(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,na(t,n),s=cr(s),r=r(s),t.flags|=1,un(e,t,r,n),t.child;case 14:return r=t.type,s=yr(r,t.pendingProps),s=yr(r.type,s),Ax(e,t,r,s,n);case 15:return _E(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),xd(e,t),t.tag=1,In(r)?(e=!0,Zd(t)):e=!1,na(t,n),bE(t,r,s),xg(t,r,s,n),wg(null,t,r,!0,e,n);case 19:return NE(e,t,n);case 22:return EE(e,t,n)}throw Error(Z(156,t.tag))};function zE(e,t){return y5(e,t)}function K4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,n,r){return new K4(e,t,n,r)}function Ky(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X4(e){if(typeof e=="function")return Ky(e)?1:0;if(e!=null){if(e=e.$$typeof,e===py)return 11;if(e===my)return 14}return 2}function ii(e,t){var n=e.alternate;return n===null?(n=sr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ky(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ao:return qi(n.children,s,i,t);case hy:o=8,s|=8;break;case Vm:return e=sr(12,n,t,s|2),e.elementType=Vm,e.lanes=i,e;case zm:return e=sr(13,n,t,s),e.elementType=zm,e.lanes=i,e;case Wm:return e=sr(19,n,t,s),e.elementType=Wm,e.lanes=i,e;case e5:return bh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q_:o=10;break e;case J_:o=9;break e;case py:o=11;break e;case my:o=14;break e;case As:o=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=sr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function qi(e,t,n,r){return e=sr(7,e,r,t),e.lanes=n,e}function bh(e,t,n,r){return e=sr(22,e,r,t),e.elementType=e5,e.lanes=n,e.stateNode={isHidden:!1},e}function Kp(e,t,n){return e=sr(6,e,null,t),e.lanes=n,e}function Xp(e,t,n){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Z4(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jp(0),this.expirationTimes=jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xy(e,t,n,r,s,i,o,a,l){return e=new Z4(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dy(i),e}function Q4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function WE(e){if(!e)return ui;e=e._reactInternals;e:{if(yo(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(In(n))return W5(e,n,t)}return t}function qE(e,t,n,r,s,i,o,a,l){return e=Xy(n,r,!0,e,s,i,o,a,l),e.context=WE(null),n=e.current,r=pn(),s=si(n),i=ps(r,s),i.callback=t??null,ni(n,i,s),e.current.lanes=s,qc(e,s,r),jn(e,r),e}function Sh(e,t,n,r){var s=t.current,i=pn(),o=si(s);return n=WE(n),t.context===null?t.context=n:t.pendingContext=n,t=ps(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ni(s,t,o),e!==null&&(Mr(e,s,o,i),gd(e,s,o)),o}function df(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zy(e,t){Yx(e,t),(e=e.alternate)&&Yx(e,t)}function J4(){return null}var GE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qy(e){this._internalRoot=e}wh.prototype.render=Qy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Sh(e,t,null,null)};wh.prototype.unmount=Qy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;no(function(){Sh(null,e,null,null)}),t[xs]=null}};function wh(e){this._internalRoot=e}wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=E5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vs.length&&t!==0&&t<Vs[n].priority;n++);Vs.splice(n,0,e),n===0&&C5(e)}};function Jy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kx(){}function eI(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=df(o);i.call(u)}}var o=qE(t,r,e,0,null,!1,!1,"",Kx);return e._reactRootContainer=o,e[xs]=o.current,fc(e.nodeType===8?e.parentNode:e),no(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=df(l);a.call(u)}}var l=Xy(e,0,!1,null,null,!1,!1,"",Kx);return e._reactRootContainer=l,e[xs]=l.current,fc(e.nodeType===8?e.parentNode:e),no(function(){Sh(t,l,n,r)}),l}function Eh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=df(o);a.call(l)}}Sh(t,o,e,s)}else o=eI(n,t,e,s,r);return df(o)}w5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nl(t.pendingLanes);n!==0&&(vy(t,n|1),jn(t,wt()),!(Ye&6)&&(ma=wt()+500,vi()))}break;case 13:no(function(){var r=bs(e,1);if(r!==null){var s=pn();Mr(r,e,1,s)}}),Zy(e,1)}};xy=function(e){if(e.tag===13){var t=bs(e,134217728);if(t!==null){var n=pn();Mr(t,e,134217728,n)}Zy(e,134217728)}};_5=function(e){if(e.tag===13){var t=si(e),n=bs(e,t);if(n!==null){var r=pn();Mr(n,e,t,r)}Zy(e,t)}};E5=function(){return et};k5=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};tg=function(e,t,n){switch(t){case"input":if(Ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ph(r);if(!s)throw Error(Z(90));n5(r),Ym(r,s)}}}break;case"textarea":s5(e,n);break;case"select":t=n.value,t!=null&&Qo(e,!!n.multiple,t,!1)}};d5=qy;f5=no;var tI={usingClientEntryPoint:!1,Events:[Yc,Uo,ph,c5,u5,qy]},ul={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nI={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=m5(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||J4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{uh=$u.inject(nI),Xr=$u}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;Hn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jy(t))throw Error(Z(200));return Q4(e,t,null,n)};Hn.createRoot=function(e,t){if(!Jy(e))throw Error(Z(299));var n=!1,r="",s=GE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xy(e,1,!1,null,null,n,!1,r,s),e[xs]=t.current,fc(e.nodeType===8?e.parentNode:e),new Qy(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=m5(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return no(e)};Hn.hydrate=function(e,t,n){if(!_h(t))throw Error(Z(200));return Eh(null,e,t,!0,n)};Hn.hydrateRoot=function(e,t,n){if(!Jy(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qE(t,null,e,1,n??null,s,!1,i,o),e[xs]=t.current,fc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wh(t)};Hn.render=function(e,t,n){if(!_h(t))throw Error(Z(200));return Eh(null,e,t,!1,n)};Hn.unmountComponentAtNode=function(e){if(!_h(e))throw Error(Z(40));return e._reactRootContainer?(no(function(){Eh(null,null,e,!1,function(){e._reactRootContainer=null,e[xs]=null})}),!0):!1};Hn.unstable_batchedUpdates=qy;Hn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_h(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Eh(e,t,n,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(e){console.error(e)}}YE(),Y_.exports=Hn;var kh=Y_.exports;const rI=zc(kh),sI=P_({__proto__:null,default:rI},[kh]);var Xx=kh;Bm.createRoot=Xx.createRoot,Bm.hydrateRoot=Xx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}var Nt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nt||(Nt={}));const Zx="popstate";function iI(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Sc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ro(s)}return aI(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ga(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oI(){return Math.random().toString(36).substr(2,8)}function Qx(e,t){return{usr:e.state,key:e.key,idx:t}}function Sc(e,t,n,r){return n===void 0&&(n=null),dt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xi(t):t,{state:n,key:t&&t.key||r||oI()})}function ro(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function aI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Nt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(dt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Nt.Pop;let b=d(),v=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:v})}function h(b,v){a=Nt.Push;let g=Sc(y.location,b,v);u=d()+1;let S=Qx(g,u),E=y.createHref(g);try{o.pushState(S,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&l&&l({action:a,location:y.location,delta:1})}function p(b,v){a=Nt.Replace;let g=Sc(y.location,b,v);u=d();let S=Qx(g,u),E=y.createHref(g);o.replaceState(S,"",E),i&&l&&l({action:a,location:y.location,delta:0})}function m(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:ro(b);return g=g.replace(/ $/,"%20"),Be(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Zx,f),l=b,()=>{s.removeEventListener(Zx,f),l=null}},createHref(b){return t(s,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return o.go(b)}};return y}var Je;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Je||(Je={}));const lI=new Set(["lazy","caseSensitive","path","id","index","children"]);function cI(e){return e.index===!0}function ff(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Be(s.index!==!0||!s.children,"Cannot specify children on an index route"),Be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),cI(s)){let l=dt({},s,t(s),{id:a});return r[a]=l,l}else{let l=dt({},s,t(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=ff(s.children,t,o,r)),l}})}function Di(e,t,n){return n===void 0&&(n="/"),_d(e,t,n,!1)}function _d(e,t,n,r){let s=typeof t=="string"?xi(t):t,i=vo(s.pathname||"/",n);if(i==null)return null;let o=XE(e);uI(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=SI(i);a=xI(o[l],u,r)}return a}function KE(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],handle:n.handle}}function XE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ms([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XE(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:yI(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ZE(i.path))s(i,o,l)}),t}function ZE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ZE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function uI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dI=/^:[\w-]+$/,fI=3,hI=2,pI=1,mI=10,gI=-2,Jx=e=>e==="*";function yI(e,t){let n=e.split("/"),r=n.length;return n.some(Jx)&&(r+=gI),t&&(r+=hI),n.filter(s=>!Jx(s)).reduce((s,i)=>s+(dI.test(i)?fI:i===""?pI:mI),r)}function vI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function xI(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=eb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=eb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ms([i,f.pathname]),pathnameBase:EI(ms([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ms([i,f.pathnameBase]))}return o}function eb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=bI(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function bI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ga(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function SI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ga(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?xi(e):e;return{pathname:n?n.startsWith("/")?n:_I(n,t):t,search:kI(r),hash:CI(s)}}function _I(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ev(e,t){let n=QE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=xi(e):(s=dt({},e),Be(!s.pathname||!s.pathname.includes("?"),Zp("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),Zp("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),Zp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=wI(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ms=e=>e.join("/").replace(/\/\/+/g,"/"),EI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,TI=function(t,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n,s=new Headers(r.headers);return s.has("Content-Type")||s.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),dt({},r,{headers:s}))};class hf{constructor(t,n,r,s){s===void 0&&(s=!1),this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ya(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JE=["post","put","patch","delete"],NI=new Set(JE),II=["get",...JE],jI=new Set(II),RI=new Set([301,302,303,307,308]),MI=new Set([307,308]),Qp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OI=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),e2="remix-router-transitions";function PI(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Be(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let j=e.detectErrorBoundary;s=D=>({hasErrorBoundary:j(D)})}else s=OI;let i={},o=ff(e.routes,s,void 0,i),a,l=e.basename||"/",u=e.dataStrategy||$I,d=e.patchRoutesOnNavigation,f=dt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,p=new Set,m=null,y=null,b=null,v=e.hydrationData!=null,g=Di(o,e.history.location,l),S=!1,E=null;if(g==null&&!d){let j=bn(404,{pathname:e.history.location.pathname}),{matches:D,route:F}=db(o);g=D,E={[F.id]:j}}g&&!e.hydrationData&&vu(g,o,e.history.location.pathname).active&&(g=null);let C;if(g)if(g.some(j=>j.route.lazy))C=!1;else if(!g.some(j=>j.route.loader))C=!0;else if(f.v7_partialHydration){let j=e.hydrationData?e.hydrationData.loaderData:null,D=e.hydrationData?e.hydrationData.errors:null;if(D){let F=g.findIndex(Y=>D[Y.route.id]!==void 0);C=g.slice(0,F+1).every(Y=>!Pg(Y.route,j,D))}else C=g.every(F=>!Pg(F.route,j,D))}else C=e.hydrationData!=null;else if(C=!1,g=[],f.v7_partialHydration){let j=vu(null,o,e.history.location.pathname);j.active&&j.matches&&(S=!0,g=j.matches)}let k,x={historyAction:e.history.action,location:e.history.location,matches:g,initialized:C,navigation:Qp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},_=Nt.Pop,T=!1,I,M=!1,R=new Map,$=null,L=!1,H=!1,W=[],ie=new Set,A=new Map,V=0,ne=-1,B=new Map,te=new Set,fe=new Map,oe=new Map,ae=new Set,J=new Map,z=new Map,xe;function Pe(){if(h=e.history.listen(j=>{let{action:D,location:F,delta:Y}=j;if(xe){xe(),xe=void 0;return}ga(z.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=F1({currentLocation:x.location,nextLocation:F,historyAction:D});if(re&&Y!=null){let be=new Promise(Ne=>{xe=Ne});e.history.go(Y*-1),ln(re,{state:"blocked",location:F,proceed(){ln(re,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),be.then(()=>e.history.go(Y))},reset(){let Ne=new Map(x.blockers);Ne.set(re,dl),ee({blockers:Ne})}});return}return kt(D,F)}),n){JI(t,R);let j=()=>ej(t,R);t.addEventListener("pagehide",j),$=()=>t.removeEventListener("pagehide",j)}return x.initialized||kt(Nt.Pop,x.location,{initialHydration:!0}),k}function Te(){h&&h(),$&&$(),p.clear(),I&&I.abort(),x.fetchers.forEach((j,D)=>sn(D)),x.blockers.forEach((j,D)=>Yn(D))}function X(j){return p.add(j),()=>p.delete(j)}function ee(j,D){D===void 0&&(D={}),x=dt({},x,j);let F=[],Y=[];f.v7_fetcherPersist&&x.fetchers.forEach((re,be)=>{re.state==="idle"&&(ae.has(be)?Y.push(be):F.push(be))}),ae.forEach(re=>{!x.fetchers.has(re)&&!A.has(re)&&Y.push(re)}),[...p].forEach(re=>re(x,{deletedFetchers:Y,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),f.v7_fetcherPersist?(F.forEach(re=>x.fetchers.delete(re)),Y.forEach(re=>sn(re))):Y.forEach(re=>ae.delete(re))}function me(j,D,F){var Y,re;let{flushSync:be}=F===void 0?{}:F,Ne=x.actionData!=null&&x.navigation.formMethod!=null&&xr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((Y=j.state)==null?void 0:Y._isRedirect)!==!0,de;D.actionData?Object.keys(D.actionData).length>0?de=D.actionData:de=null:Ne?de=x.actionData:de=null;let he=D.loaderData?cb(x.loaderData,D.loaderData,D.matches||[],D.errors):x.loaderData,ue=x.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((qe,qt)=>ue.set(qt,dl)));let pe=T===!0||x.navigation.formMethod!=null&&xr(x.navigation.formMethod)&&((re=j.state)==null?void 0:re._isRedirect)!==!0;a&&(o=a,a=void 0),L||_===Nt.Pop||(_===Nt.Push?e.history.push(j,j.state):_===Nt.Replace&&e.history.replace(j,j.state));let Ae;if(_===Nt.Pop){let qe=R.get(x.location.pathname);qe&&qe.has(j.pathname)?Ae={currentLocation:x.location,nextLocation:j}:R.has(j.pathname)&&(Ae={currentLocation:j,nextLocation:x.location})}else if(M){let qe=R.get(x.location.pathname);qe?qe.add(j.pathname):(qe=new Set([j.pathname]),R.set(x.location.pathname,qe)),Ae={currentLocation:x.location,nextLocation:j}}ee(dt({},D,{actionData:de,loaderData:he,historyAction:_,location:j,initialized:!0,navigation:Qp,revalidation:"idle",restoreScrollPosition:U1(j,D.matches||x.matches),preventScrollReset:pe,blockers:ue}),{viewTransitionOpts:Ae,flushSync:be===!0}),_=Nt.Pop,T=!1,M=!1,L=!1,H=!1,W=[]}async function Se(j,D){if(typeof j=="number"){e.history.go(j);return}let F=Og(x.location,x.matches,l,f.v7_prependBasename,j,f.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:Y,submission:re,error:be}=tb(f.v7_normalizeFormMethod,!1,F,D),Ne=x.location,de=Sc(x.location,Y,D&&D.state);de=dt({},de,e.history.encodeLocation(de));let he=D&&D.replace!=null?D.replace:void 0,ue=Nt.Push;he===!0?ue=Nt.Replace:he===!1||re!=null&&xr(re.formMethod)&&re.formAction===x.location.pathname+x.location.search&&(ue=Nt.Replace);let pe=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Ae=(D&&D.flushSync)===!0,qe=F1({currentLocation:Ne,nextLocation:de,historyAction:ue});if(qe){ln(qe,{state:"blocked",location:de,proceed(){ln(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Se(j,D)},reset(){let qt=new Map(x.blockers);qt.set(qe,dl),ee({blockers:qt})}});return}return await kt(ue,de,{submission:re,pendingError:be,preventScrollReset:pe,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:Ae})}function Qe(){if(Me(),ee({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){kt(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}kt(_||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:M===!0})}}async function kt(j,D,F){I&&I.abort(),I=null,_=j,L=(F&&F.startUninterruptedRevalidation)===!0,kN(x.location,x.matches),T=(F&&F.preventScrollReset)===!0,M=(F&&F.enableViewTransition)===!0;let Y=a||o,re=F&&F.overrideNavigation,be=F!=null&&F.initialHydration&&x.matches&&x.matches.length>0&&!S?x.matches:Di(Y,D,l),Ne=(F&&F.flushSync)===!0;if(be&&x.initialized&&!H&&WI(x.location,D)&&!(F&&F.submission&&xr(F.submission.formMethod))){me(D,{matches:be},{flushSync:Ne});return}let de=vu(be,Y,D.pathname);if(de.active&&de.matches&&(be=de.matches),!be){let{error:rt,notFoundMatches:Xe,route:yt}=wp(D.pathname);me(D,{matches:Xe,loaderData:{},errors:{[yt.id]:rt}},{flushSync:Ne});return}I=new AbortController;let he=Io(e.history,D,I.signal,F&&F.submission),ue;if(F&&F.pendingError)ue=[Oi(be).route.id,{type:Je.error,error:F.pendingError}];else if(F&&F.submission&&xr(F.submission.formMethod)){let rt=await qn(he,D,F.submission,be,de.active,{replace:F.replace,flushSync:Ne});if(rt.shortCircuited)return;if(rt.pendingActionResult){let[Xe,yt]=rt.pendingActionResult;if(Dn(yt)&&ya(yt.error)&&yt.error.status===404){I=null,me(D,{matches:rt.matches,loaderData:{},errors:{[Xe]:yt.error}});return}}be=rt.matches||be,ue=rt.pendingActionResult,re=Jp(D,F.submission),Ne=!1,de.active=!1,he=Io(e.history,he.url,he.signal)}let{shortCircuited:pe,matches:Ae,loaderData:qe,errors:qt}=await Fr(he,D,be,de.active,re,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,Ne,ue);pe||(I=null,me(D,dt({matches:Ae||be},ub(ue),{loaderData:qe,errors:qt})))}async function qn(j,D,F,Y,re,be){be===void 0&&(be={}),Me();let Ne=ZI(D,F);if(ee({navigation:Ne},{flushSync:be.flushSync===!0}),re){let ue=await xu(Y,D.pathname,j.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let pe=Oi(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[pe,{type:Je.error,error:ue.error}]}}else if(ue.matches)Y=ue.matches;else{let{notFoundMatches:pe,error:Ae,route:qe}=wp(D.pathname);return{matches:pe,pendingActionResult:[qe.id,{type:Je.error,error:Ae}]}}}let de,he=jl(Y,D);if(!he.route.action&&!he.route.lazy)de={type:Je.error,error:bn(405,{method:j.method,pathname:D.pathname,routeId:he.route.id})};else if(de=(await q("action",x,j,[he],Y,null))[he.route.id],j.signal.aborted)return{shortCircuited:!0};if($i(de)){let ue;return be&&be.replace!=null?ue=be.replace:ue=ob(de.response.headers.get("Location"),new URL(j.url),l)===x.location.pathname+x.location.search,await U(j,de,!0,{submission:F,replace:ue}),{shortCircuited:!0}}if(Ys(de))throw bn(400,{type:"defer-action"});if(Dn(de)){let ue=Oi(Y,he.route.id);return(be&&be.replace)!==!0&&(_=Nt.Push),{matches:Y,pendingActionResult:[ue.route.id,de]}}return{matches:Y,pendingActionResult:[he.route.id,de]}}async function Fr(j,D,F,Y,re,be,Ne,de,he,ue,pe){let Ae=re||Jp(D,be),qe=be||Ne||hb(Ae),qt=!L&&(!f.v7_partialHydration||!he);if(Y){if(qt){let vt=rn(pe);ee(dt({navigation:Ae},vt!==void 0?{actionData:vt}:{}),{flushSync:ue})}let Ke=await xu(F,D.pathname,j.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let vt=Oi(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[vt]:Ke.error}}}else if(Ke.matches)F=Ke.matches;else{let{error:vt,notFoundMatches:Co,route:nl}=wp(D.pathname);return{matches:Co,loaderData:{},errors:{[nl.id]:vt}}}}let rt=a||o,[Xe,yt]=rb(e.history,x,F,qe,D,f.v7_partialHydration&&he===!0,f.v7_skipActionErrorRevalidation,H,W,ie,ae,fe,te,rt,l,pe);if(_p(Ke=>!(F&&F.some(vt=>vt.route.id===Ke))||Xe&&Xe.some(vt=>vt.route.id===Ke)),ne=++V,Xe.length===0&&yt.length===0){let Ke=ye();return me(D,dt({matches:F,loaderData:{},errors:pe&&Dn(pe[1])?{[pe[0]]:pe[1].error}:null},ub(pe),Ke?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ue}),{shortCircuited:!0}}if(qt){let Ke={};if(!Y){Ke.navigation=Ae;let vt=rn(pe);vt!==void 0&&(Ke.actionData=vt)}yt.length>0&&(Ke.fetchers=N(yt)),ee(Ke,{flushSync:ue})}yt.forEach(Ke=>{on(Ke.key),Ke.controller&&A.set(Ke.key,Ke.controller)});let ko=()=>yt.forEach(Ke=>on(Ke.key));I&&I.signal.addEventListener("abort",ko);let{loaderResults:el,fetcherResults:ns}=await ce(x,F,Xe,yt,j);if(j.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",ko),yt.forEach(Ke=>A.delete(Ke.key));let $r=Uu(el);if($r)return await U(j,$r.result,!0,{replace:de}),{shortCircuited:!0};if($r=Uu(ns),$r)return te.add($r.key),await U(j,$r.result,!0,{replace:de}),{shortCircuited:!0};let{loaderData:Ep,errors:tl}=lb(x,F,el,pe,yt,ns,J);J.forEach((Ke,vt)=>{Ke.subscribe(Co=>{(Co||Ke.done)&&J.delete(vt)})}),f.v7_partialHydration&&he&&x.errors&&(tl=dt({},x.errors,tl));let Ni=ye(),bu=ct(ne),Su=Ni||bu||yt.length>0;return dt({matches:F,loaderData:Ep,errors:tl},Su?{fetchers:new Map(x.fetchers)}:{})}function rn(j){if(j&&!Dn(j[1]))return{[j[0]]:j[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function N(j){return j.forEach(D=>{let F=x.fetchers.get(D.key),Y=fl(void 0,F?F.data:void 0);x.fetchers.set(D.key,Y)}),new Map(x.fetchers)}function O(j,D,F,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");on(j);let re=(Y&&Y.flushSync)===!0,be=a||o,Ne=Og(x.location,x.matches,l,f.v7_prependBasename,F,f.v7_relativeSplatPath,D,Y==null?void 0:Y.relative),de=Di(be,Ne,l),he=vu(de,be,Ne);if(he.active&&he.matches&&(de=he.matches),!de){lt(j,D,bn(404,{pathname:Ne}),{flushSync:re});return}let{path:ue,submission:pe,error:Ae}=tb(f.v7_normalizeFormMethod,!0,Ne,Y);if(Ae){lt(j,D,Ae,{flushSync:re});return}let qe=jl(de,ue),qt=(Y&&Y.preventScrollReset)===!0;if(pe&&xr(pe.formMethod)){P(j,D,ue,qe,de,he.active,re,qt,pe);return}fe.set(j,{routeId:D,path:ue}),G(j,D,ue,qe,de,he.active,re,qt,pe)}async function P(j,D,F,Y,re,be,Ne,de,he){Me(),fe.delete(j);function ue(Ct){if(!Ct.route.action&&!Ct.route.lazy){let To=bn(405,{method:he.formMethod,pathname:F,routeId:D});return lt(j,D,To,{flushSync:Ne}),!0}return!1}if(!be&&ue(Y))return;let pe=x.fetchers.get(j);Fe(j,QI(he,pe),{flushSync:Ne});let Ae=new AbortController,qe=Io(e.history,F,Ae.signal,he);if(be){let Ct=await xu(re,new URL(qe.url).pathname,qe.signal,j);if(Ct.type==="aborted")return;if(Ct.type==="error"){lt(j,D,Ct.error,{flushSync:Ne});return}else if(Ct.matches){if(re=Ct.matches,Y=jl(re,F),ue(Y))return}else{lt(j,D,bn(404,{pathname:F}),{flushSync:Ne});return}}A.set(j,Ae);let qt=V,Xe=(await q("action",x,qe,[Y],re,j))[Y.route.id];if(qe.signal.aborted){A.get(j)===Ae&&A.delete(j);return}if(f.v7_fetcherPersist&&ae.has(j)){if($i(Xe)||Dn(Xe)){Fe(j,Ps(void 0));return}}else{if($i(Xe))if(A.delete(j),ne>qt){Fe(j,Ps(void 0));return}else return te.add(j),Fe(j,fl(he)),U(qe,Xe,!1,{fetcherSubmission:he,preventScrollReset:de});if(Dn(Xe)){lt(j,D,Xe.error);return}}if(Ys(Xe))throw bn(400,{type:"defer-action"});let yt=x.navigation.location||x.location,ko=Io(e.history,yt,Ae.signal),el=a||o,ns=x.navigation.state!=="idle"?Di(el,x.navigation.location,l):x.matches;Be(ns,"Didn't find any matches after fetcher action");let $r=++V;B.set(j,$r);let Ep=fl(he,Xe.data);x.fetchers.set(j,Ep);let[tl,Ni]=rb(e.history,x,ns,he,yt,!1,f.v7_skipActionErrorRevalidation,H,W,ie,ae,fe,te,el,l,[Y.route.id,Xe]);Ni.filter(Ct=>Ct.key!==j).forEach(Ct=>{let To=Ct.key,B1=x.fetchers.get(To),NN=fl(void 0,B1?B1.data:void 0);x.fetchers.set(To,NN),on(To),Ct.controller&&A.set(To,Ct.controller)}),ee({fetchers:new Map(x.fetchers)});let bu=()=>Ni.forEach(Ct=>on(Ct.key));Ae.signal.addEventListener("abort",bu);let{loaderResults:Su,fetcherResults:Ke}=await ce(x,ns,tl,Ni,ko);if(Ae.signal.aborted)return;Ae.signal.removeEventListener("abort",bu),B.delete(j),A.delete(j),Ni.forEach(Ct=>A.delete(Ct.key));let vt=Uu(Su);if(vt)return U(ko,vt.result,!1,{preventScrollReset:de});if(vt=Uu(Ke),vt)return te.add(vt.key),U(ko,vt.result,!1,{preventScrollReset:de});let{loaderData:Co,errors:nl}=lb(x,ns,Su,void 0,Ni,Ke,J);if(x.fetchers.has(j)){let Ct=Ps(Xe.data);x.fetchers.set(j,Ct)}ct($r),x.navigation.state==="loading"&&$r>ne?(Be(_,"Expected pending action"),I&&I.abort(),me(x.navigation.location,{matches:ns,loaderData:Co,errors:nl,fetchers:new Map(x.fetchers)})):(ee({errors:nl,loaderData:cb(x.loaderData,Co,ns,nl),fetchers:new Map(x.fetchers)}),H=!1)}async function G(j,D,F,Y,re,be,Ne,de,he){let ue=x.fetchers.get(j);Fe(j,fl(he,ue?ue.data:void 0),{flushSync:Ne});let pe=new AbortController,Ae=Io(e.history,F,pe.signal);if(be){let Xe=await xu(re,new URL(Ae.url).pathname,Ae.signal,j);if(Xe.type==="aborted")return;if(Xe.type==="error"){lt(j,D,Xe.error,{flushSync:Ne});return}else if(Xe.matches)re=Xe.matches,Y=jl(re,F);else{lt(j,D,bn(404,{pathname:F}),{flushSync:Ne});return}}A.set(j,pe);let qe=V,rt=(await q("loader",x,Ae,[Y],re,j))[Y.route.id];if(Ys(rt)&&(rt=await rv(rt,Ae.signal,!0)||rt),A.get(j)===pe&&A.delete(j),!Ae.signal.aborted){if(ae.has(j)){Fe(j,Ps(void 0));return}if($i(rt))if(ne>qe){Fe(j,Ps(void 0));return}else{te.add(j),await U(Ae,rt,!1,{preventScrollReset:de});return}if(Dn(rt)){lt(j,D,rt.error);return}Be(!Ys(rt),"Unhandled fetcher deferred data"),Fe(j,Ps(rt.data))}}async function U(j,D,F,Y){let{submission:re,fetcherSubmission:be,preventScrollReset:Ne,replace:de}=Y===void 0?{}:Y;D.response.headers.has("X-Remix-Revalidate")&&(H=!0);let he=D.response.headers.get("Location");Be(he,"Expected a Location header on the redirect Response"),he=ob(he,new URL(j.url),l);let ue=Sc(x.location,he,{_isRedirect:!0});if(n){let Xe=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Xe=!0;else if(nv.test(he)){const yt=e.history.createURL(he);Xe=yt.origin!==t.location.origin||vo(yt.pathname,l)==null}if(Xe){de?t.location.replace(he):t.location.assign(he);return}}I=null;let pe=de===!0||D.response.headers.has("X-Remix-Replace")?Nt.Replace:Nt.Push,{formMethod:Ae,formAction:qe,formEncType:qt}=x.navigation;!re&&!be&&Ae&&qe&&qt&&(re=hb(x.navigation));let rt=re||be;if(MI.has(D.response.status)&&rt&&xr(rt.formMethod))await kt(pe,ue,{submission:dt({},rt,{formAction:he}),preventScrollReset:Ne||T,enableViewTransition:F?M:void 0});else{let Xe=Jp(ue,re);await kt(pe,ue,{overrideNavigation:Xe,fetcherSubmission:be,preventScrollReset:Ne||T,enableViewTransition:F?M:void 0})}}async function q(j,D,F,Y,re,be){let Ne,de={};try{Ne=await UI(u,j,D,F,Y,re,be,i,s)}catch(he){return Y.forEach(ue=>{de[ue.route.id]={type:Je.error,error:he}}),de}for(let[he,ue]of Object.entries(Ne))if(qI(ue)){let pe=ue.result;de[he]={type:Je.redirect,response:VI(pe,F,he,re,l,f.v7_relativeSplatPath)}}else de[he]=await HI(ue);return de}async function ce(j,D,F,Y,re){let be=j.matches,Ne=q("loader",j,re,F,D,null),de=Promise.all(Y.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let qe=(await q("loader",j,Io(e.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:qe}}else return Promise.resolve({[pe.key]:{type:Je.error,error:bn(404,{pathname:pe.path})}})})),he=await Ne,ue=(await de).reduce((pe,Ae)=>Object.assign(pe,Ae),{});return await Promise.all([KI(D,he,re.signal,be,j.loaderData),XI(D,ue,Y)]),{loaderResults:he,fetcherResults:ue}}function Me(){H=!0,W.push(..._p()),fe.forEach((j,D)=>{A.has(D)&&ie.add(D),on(D)})}function Fe(j,D,F){F===void 0&&(F={}),x.fetchers.set(j,D),ee({fetchers:new Map(x.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function lt(j,D,F,Y){Y===void 0&&(Y={});let re=Oi(x.matches,D);sn(j),ee({errors:{[re.route.id]:F},fetchers:new Map(x.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Gn(j){return oe.set(j,(oe.get(j)||0)+1),ae.has(j)&&ae.delete(j),x.fetchers.get(j)||DI}function sn(j){let D=x.fetchers.get(j);A.has(j)&&!(D&&D.state==="loading"&&B.has(j))&&on(j),fe.delete(j),B.delete(j),te.delete(j),f.v7_fetcherPersist&&ae.delete(j),ie.delete(j),x.fetchers.delete(j)}function Ja(j){let D=(oe.get(j)||0)-1;D<=0?(oe.delete(j),ae.add(j),f.v7_fetcherPersist||sn(j)):oe.set(j,D),ee({fetchers:new Map(x.fetchers)})}function on(j){let D=A.get(j);D&&(D.abort(),A.delete(j))}function Ms(j){for(let D of j){let F=Gn(D),Y=Ps(F.data);x.fetchers.set(D,Y)}}function ye(){let j=[],D=!1;for(let F of te){let Y=x.fetchers.get(F);Be(Y,"Expected fetcher: "+F),Y.state==="loading"&&(te.delete(F),j.push(F),D=!0)}return Ms(j),D}function ct(j){let D=[];for(let[F,Y]of B)if(Y<j){let re=x.fetchers.get(F);Be(re,"Expected fetcher: "+F),re.state==="loading"&&(on(F),B.delete(F),D.push(F))}return Ms(D),D.length>0}function an(j,D){let F=x.blockers.get(j)||dl;return z.get(j)!==D&&z.set(j,D),F}function Yn(j){x.blockers.delete(j),z.delete(j)}function ln(j,D){let F=x.blockers.get(j)||dl;Be(F.state==="unblocked"&&D.state==="blocked"||F.state==="blocked"&&D.state==="blocked"||F.state==="blocked"&&D.state==="proceeding"||F.state==="blocked"&&D.state==="unblocked"||F.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+D.state);let Y=new Map(x.blockers);Y.set(j,D),ee({blockers:Y})}function F1(j){let{currentLocation:D,nextLocation:F,historyAction:Y}=j;if(z.size===0)return;z.size>1&&ga(!1,"A router only supports one blocker at a time");let re=Array.from(z.entries()),[be,Ne]=re[re.length-1],de=x.blockers.get(be);if(!(de&&de.state==="proceeding")&&Ne({currentLocation:D,nextLocation:F,historyAction:Y}))return be}function wp(j){let D=bn(404,{pathname:j}),F=a||o,{matches:Y,route:re}=db(F);return _p(),{notFoundMatches:Y,route:re,error:D}}function _p(j){let D=[];return J.forEach((F,Y)=>{(!j||j(Y))&&(F.cancel(),D.push(Y),J.delete(Y))}),D}function EN(j,D,F){if(m=j,b=D,y=F||null,!v&&x.navigation===Qp){v=!0;let Y=U1(x.location,x.matches);Y!=null&&ee({restoreScrollPosition:Y})}return()=>{m=null,b=null,y=null}}function $1(j,D){return y&&y(j,D.map(Y=>KE(Y,x.loaderData)))||j.key}function kN(j,D){if(m&&b){let F=$1(j,D);m[F]=b()}}function U1(j,D){if(m){let F=$1(j,D),Y=m[F];if(typeof Y=="number")return Y}return null}function vu(j,D,F){if(d)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:_d(D,F,l,!0)}}else return{active:!0,matches:_d(D,F,l,!0)||[]};return{active:!1,matches:null}}async function xu(j,D,F,Y){if(!d)return{type:"success",matches:j};let re=j;for(;;){let be=a==null,Ne=a||o,de=i;try{await d({signal:F,path:D,matches:re,fetcherKey:Y,patch:(pe,Ae)=>{F.aborted||ib(pe,Ae,Ne,de,s)}})}catch(pe){return{type:"error",error:pe,partialMatches:re}}finally{be&&!F.aborted&&(o=[...o])}if(F.aborted)return{type:"aborted"};let he=Di(Ne,D,l);if(he)return{type:"success",matches:he};let ue=_d(Ne,D,l,!0);if(!ue||re.length===ue.length&&re.every((pe,Ae)=>pe.route.id===ue[Ae].route.id))return{type:"success",matches:null};re=ue}}function CN(j){i={},a=ff(j,s,void 0,i)}function TN(j,D){let F=a==null;ib(j,D,a||o,i,s),F&&(o=[...o],ee({}))}return k={get basename(){return l},get future(){return f},get state(){return x},get routes(){return o},get window(){return t},initialize:Pe,subscribe:X,enableScrollRestoration:EN,navigate:Se,fetch:O,revalidate:Qe,createHref:j=>e.history.createHref(j),encodeLocation:j=>e.history.encodeLocation(j),getFetcher:Gn,deleteFetcher:Ja,dispose:Te,getBlocker:an,deleteBlocker:Yn,patchRoutes:TN,_internalFetchControllers:A,_internalActiveDeferreds:J,_internalSetRoutes:CN},k}function AI(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Og(e,t,n,r,s,i,o,a){let l,u;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){u=f;break}}else l=t,u=t[t.length-1];let d=tv(s||".",ev(l,i),vo(e.pathname,n)||e.pathname,a==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&u){let f=sv(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let h=new URLSearchParams(d.search),p=h.getAll("index");h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();d.search=m?"?"+m:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:ms([n,d.pathname])),ro(d)}function tb(e,t,n,r){if(!r||!AI(r))return{path:n};if(r.formMethod&&!YI(r.formMethod))return{path:n,error:bn(405,{method:r.formMethod})};let s=()=>({path:n,error:bn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),a=r2(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!xr(o))return s();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[y,b]=m;return""+p+y+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!xr(o))return s();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}Be(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Ag(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Ag(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=ab(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=ab(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(xr(d.formMethod))return{path:n,submission:d};let f=xi(n);return t&&f.search&&sv(f.search)&&l.append("index",""),f.search="?"+l,{path:ro(f),submission:d}}function nb(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(s=>s.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function rb(e,t,n,r,s,i,o,a,l,u,d,f,h,p,m,y){let b=y?Dn(y[1])?y[1].error:y[1].data:void 0,v=e.createURL(t.location),g=e.createURL(s),S=n;i&&t.errors?S=nb(n,Object.keys(t.errors)[0],!0):y&&Dn(y[1])&&(S=nb(n,y[0]));let E=y?y[1].statusCode:void 0,C=o&&E&&E>=400,k=S.filter((_,T)=>{let{route:I}=_;if(I.lazy)return!0;if(I.loader==null)return!1;if(i)return Pg(I,t.loaderData,t.errors);if(LI(t.loaderData,t.matches[T],_)||l.some($=>$===_.route.id))return!0;let M=t.matches[T],R=_;return sb(_,dt({currentUrl:v,currentParams:M.params,nextUrl:g,nextParams:R.params},r,{actionResult:b,actionStatus:E,defaultShouldRevalidate:C?!1:a||v.pathname+v.search===g.pathname+g.search||v.search!==g.search||t2(M,R)}))}),x=[];return f.forEach((_,T)=>{if(i||!n.some(L=>L.route.id===_.routeId)||d.has(T))return;let I=Di(p,_.path,m);if(!I){x.push({key:T,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let M=t.fetchers.get(T),R=jl(I,_.path),$=!1;h.has(T)?$=!1:u.has(T)?(u.delete(T),$=!0):M&&M.state!=="idle"&&M.data===void 0?$=a:$=sb(R,dt({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:E,defaultShouldRevalidate:C?!1:a})),$&&x.push({key:T,routeId:_.routeId,path:_.path,matches:I,match:R,controller:new AbortController})}),[k,x]}function Pg(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,s=n!=null&&n[e.id]!==void 0;return!r&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!s}function LI(e,t,n){let r=!t||n.route.id!==t.route.id,s=e[n.route.id]===void 0;return r||s}function t2(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function sb(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function ib(e,t,n,r,s){var i;let o;if(e){let u=r[e];Be(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let a=t.filter(u=>!o.some(d=>n2(u,d))),l=ff(a,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function n2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var s;return(s=t.children)==null?void 0:s.some(i=>n2(n,i))}):!1}async function FI(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let s=n[e.id];Be(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";ga(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!lI.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,dt({},t(s),{lazy:void 0}))}async function $I(e){let{matches:t}=e,n=t.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function UI(e,t,n,r,s,i,o,a,l,u){let d=i.map(p=>p.route.lazy?FI(p.route,l,a):void 0),f=i.map((p,m)=>{let y=d[m],b=s.some(g=>g.route.id===p.route.id);return dt({},p,{shouldLoad:b,resolve:async g=>(g&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(b=!0),b?BI(t,r,p,y,g,u):Promise.resolve({type:Je.data,result:void 0}))})}),h=await e({matches:f,request:r,params:i[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return h}async function BI(e,t,n,r,s,i){let o,a,l=u=>{let d,f=new Promise((m,y)=>d=y);a=()=>d(),t.signal.addEventListener("abort",a);let h=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(y=>h(y)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,f])};try{let u=n.route[e];if(r)if(u){let d,[f]=await Promise.all([l(u).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,u=n.route[e],u)o=await l(u);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw bn(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Je.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(t.url),f=d.pathname+d.search;throw bn(404,{pathname:f})}Be(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Je.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function HI(e){let{result:t,type:n}=e;if(s2(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:Je.error,error:h}}return n===Je.error?{type:Je.error,error:new hf(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Je.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Je.error){if(fb(t)){var r,s;if(t.data instanceof Error){var i,o;return{type:Je.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Je.error,error:new hf(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:ya(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:Je.error,error:t,statusCode:ya(t)?t.status:void 0}}if(GI(t)){var a,l;return{type:Je.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(fb(t)){var u,d;return{type:Je.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Je.data,data:t}}function VI(e,t,n,r,s,i){let o=e.headers.get("Location");if(Be(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!nv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Og(new URL(t.url),a,s,!0,o,i),e.headers.set("Location",o)}return e}function ob(e,t,n){if(nv.test(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=vo(s.pathname,n)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Io(e,t,n,r){let s=e.createURL(r2(t)).toString(),i={signal:n};if(r&&xr(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Ag(r.formData):i.body=r.formData}return new Request(s,i)}function Ag(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function ab(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function zI(e,t,n,r,s){let i={},o=null,a,l=!1,u={},d=n&&Dn(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(Be(!$i(p),"Cannot handle redirect results in processLoaderData"),Dn(p)){let m=p.error;d!==void 0&&(m=d,d=void 0),o=o||{};{let y=Oi(e,h);o[y.route.id]==null&&(o[y.route.id]=m)}i[h]=void 0,l||(l=!0,a=ya(p.error)?p.error.status:500),p.headers&&(u[h]=p.headers)}else Ys(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[h]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:u}}function lb(e,t,n,r,s,i,o){let{loaderData:a,errors:l}=zI(t,n,r,o);return s.forEach(u=>{let{key:d,match:f,controller:h}=u,p=i[d];if(Be(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Dn(p)){let m=Oi(e.matches,f==null?void 0:f.route.id);l&&l[m.route.id]||(l=dt({},l,{[m.route.id]:p.error})),e.fetchers.delete(d)}else if($i(p))Be(!1,"Unhandled fetcher revalidation redirect");else if(Ys(p))Be(!1,"Unhandled fetcher deferred data");else{let m=Ps(p.data);e.fetchers.set(d,m)}}),{loaderData:a,errors:l}}function cb(e,t,n,r){let s=dt({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),r&&r.hasOwnProperty(o))break}return s}function ub(e){return e?Dn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Oi(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function db(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function bn(e,t){let{pathname:n,routeId:r,method:s,type:i,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new hf(e||500,a,new Error(l),!0)}function Uu(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,s]=t[n];if($i(s))return{key:r,result:s}}}function r2(e){let t=typeof e=="string"?xi(e):e;return ro(dt({},t,{hash:""}))}function WI(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function qI(e){return s2(e.result)&&RI.has(e.result.status)}function Ys(e){return e.type===Je.deferred}function Dn(e){return e.type===Je.error}function $i(e){return(e&&e.type)===Je.redirect}function fb(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function GI(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function s2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function YI(e){return jI.has(e.toLowerCase())}function xr(e){return NI.has(e.toLowerCase())}async function KI(e,t,n,r,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[a,l]=i[o],u=e.find(h=>(h==null?void 0:h.route.id)===a);if(!u)continue;let d=r.find(h=>h.route.id===u.route.id),f=d!=null&&!t2(d,u)&&(s&&s[u.route.id])!==void 0;Ys(l)&&f&&await rv(l,n,!1).then(h=>{h&&(t[a]=h)})}}async function XI(e,t,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=t[s];e.find(u=>(u==null?void 0:u.route.id)===i)&&Ys(a)&&(Be(o,"Expected an AbortController for revalidating fetcher deferred result"),await rv(a,o.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function rv(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Je.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Je.error,error:s}}return{type:Je.data,data:e.deferredData.data}}}function sv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function jl(e,t){let n=typeof t=="string"?xi(t).search:t.search;if(e[e.length-1].route.index&&sv(n||""))return e[e.length-1];let r=QE(e);return r[r.length-1]}function hb(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:i,json:o}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Jp(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZI(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function fl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function QI(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ps(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JI(e,t){try{let n=e.sessionStorage.getItem(e2);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function ej(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(e2,JSON.stringify(n))}catch(r){ga(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(this,arguments)}const Xc=w.createContext(null),iv=w.createContext(null),bi=w.createContext(null),ov=w.createContext(null),Si=w.createContext({outlet:null,matches:[],isDataRoute:!1}),i2=w.createContext(null);function tj(e,t){let{relative:n}=t===void 0?{}:t;Zc()||Be(!1);let{basename:r,navigator:s}=w.useContext(bi),{hash:i,pathname:o,search:a}=a2(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ms([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Zc(){return w.useContext(ov)!=null}function xo(){return Zc()||Be(!1),w.useContext(ov).location}function o2(e){w.useContext(bi).static||w.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=w.useContext(Si);return e?hj():nj()}function nj(){Zc()||Be(!1);let e=w.useContext(Xc),{basename:t,future:n,navigator:r}=w.useContext(bi),{matches:s}=w.useContext(Si),{pathname:i}=xo(),o=JSON.stringify(ev(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return o2(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=tv(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ms([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const rj=w.createContext(null);function sj(e){let t=w.useContext(Si).outlet;return t&&w.createElement(rj.Provider,{value:e},t)}function a2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(bi),{matches:s}=w.useContext(Si),{pathname:i}=xo(),o=JSON.stringify(ev(s,r.v7_relativeSplatPath));return w.useMemo(()=>tv(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function ij(e,t,n,r){Zc()||Be(!1);let{navigator:s}=w.useContext(bi),{matches:i}=w.useContext(Si),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xo(),d;d=u;let f=d.pathname||"/",h=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Di(e,{pathname:h});return uj(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ms([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ms([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function oj(){let e=u2(),t=ya(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const aj=w.createElement(oj,null);class lj extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Si.Provider,{value:this.props.routeContext},w.createElement(i2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cj(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Xc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Si.Provider,{value:t},r)}function uj(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,y=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||aj,l&&(u<0&&h===0?(pj("route-fallback"),m=!0,b=null):u===h&&(m=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),g=()=>{let S;return p?S=y:m?S=b:f.route.Component?S=w.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,w.createElement(cj,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(lj,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var av=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(av||{}),l2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(l2||{});function c2(e){let t=w.useContext(Xc);return t||Be(!1),t}function Ba(e){let t=w.useContext(iv);return t||Be(!1),t}function dj(e){let t=w.useContext(Si);return t||Be(!1),t}function lv(e){let t=dj(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function cv(){return Ba().navigation}function js(){let e=c2(av.UseRevalidator),t=Ba();return w.useMemo(()=>({revalidate:e.router.revalidate,state:t.revalidation}),[e.router.revalidate,t.revalidation])}function fj(){let{matches:e,loaderData:t}=Ba();return w.useMemo(()=>e.map(n=>KE(n,t)),[e,t])}function zn(){let e=Ba(),t=lv();if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function Ch(e){return Ba().loaderData[e]}function u2(){var e;let t=w.useContext(i2),n=Ba(l2.UseRouteError),r=lv();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function hj(){let{router:e}=c2(av.UseNavigateStable),t=lv(),n=w.useRef(!1);return o2(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,pf({fromRouteId:t},i)))},[e,t])}const pb={};function pj(e,t,n){pb[e]||(pb[e]=!0)}function mj(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function d2(e){return sj(e.context)}function gj(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Nt.Pop,navigator:i,static:o=!1,future:a}=e;Zc()&&Be(!1);let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:pf({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=xi(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,y=w.useMemo(()=>{let b=vo(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:m},navigationType:s}},[l,d,f,h,p,m,s]);return y==null?null:w.createElement(bi.Provider,{value:u},w.createElement(ov.Provider,{children:n,value:y}))}new Promise(()=>{});function yj(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:w.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function vj(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function xj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bj(e,t){return e.button===0&&(!t||t==="_self")&&!xj(e)}function Lg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Sj(e,t){let n=Lg(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const wj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_j="6";try{window.__reactRouterVersion=_j}catch{}function Ej(e,t){return PI({basename:void 0,future:va({},void 0,{v7_prependBasename:!0}),history:iI({window:void 0}),hydrationData:kj(),routes:e,mapRouteProperties:yj,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function kj(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=va({},t,{errors:Cj(t.errors)})),t}function Cj(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new hf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const Tj=w.createContext({isTransitioning:!1}),Nj=w.createContext(new Map),Ij="startTransition",mb=zN[Ij],jj="flushSync",gb=sI[jj];function Rj(e){mb?mb(e):e()}function hl(e){gb?gb(e):e()}class Mj{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Dj(e){let{fallbackElement:t,router:n,future:r}=e,[s,i]=w.useState(n.state),[o,a]=w.useState(),[l,u]=w.useState({isTransitioning:!1}),[d,f]=w.useState(),[h,p]=w.useState(),[m,y]=w.useState(),b=w.useRef(new Map),{v7_startTransition:v}=r||{},g=w.useCallback(_=>{v?Rj(_):_()},[v]),S=w.useCallback((_,T)=>{let{deletedFetchers:I,flushSync:M,viewTransitionOpts:R}=T;_.fetchers.forEach((L,H)=>{L.data!==void 0&&b.current.set(H,L.data)}),I.forEach(L=>b.current.delete(L));let $=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||$){M?hl(()=>i(_)):g(()=>i(_));return}if(M){hl(()=>{h&&(d&&d.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let L=n.window.document.startViewTransition(()=>{hl(()=>i(_))});L.finished.finally(()=>{hl(()=>{f(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),hl(()=>p(L));return}h?(d&&d.resolve(),h.skipTransition(),y({state:_,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(_),u({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,h,d,b,g]);w.useLayoutEffect(()=>n.subscribe(S),[n,S]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new Mj)},[l]),w.useEffect(()=>{if(d&&o&&n.window){let _=o,T=d.promise,I=n.window.document.startViewTransition(async()=>{g(()=>i(_)),await T});I.finished.finally(()=>{f(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(I)}},[g,o,d,n.window]),w.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,h,s.location,o]),w.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),w.useEffect(()=>{},[]);let E=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,T,I)=>n.navigate(_,{state:T,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(_,T,I)=>n.navigate(_,{replace:!0,state:T,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),C=n.basename||"/",k=w.useMemo(()=>({router:n,navigator:E,static:!1,basename:C}),[n,E,C]),x=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.useEffect(()=>mj(r,n.future),[r,n.future]),w.createElement(w.Fragment,null,w.createElement(Xc.Provider,{value:k},w.createElement(iv.Provider,{value:s},w.createElement(Nj.Provider,{value:b.current},w.createElement(Tj.Provider,{value:l},w.createElement(gj,{basename:C,location:s.location,navigationType:s.historyAction,navigator:E,future:x},s.initialized||n.future.v7_partialHydration?w.createElement(Oj,{routes:n.routes,future:n.future,state:s}):t))))),null)}const Oj=w.memo(Pj);function Pj(e){let{routes:t,future:n,state:r}=e;return ij(t,void 0,r,n)}const Aj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=vj(t,wj),{basename:p}=w.useContext(bi),m,y=!1;if(typeof u=="string"&&Lj.test(u)&&(m=u,Aj))try{let S=new URL(window.location.href),E=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=vo(E.pathname,p);E.origin===S.origin&&C!=null?u=C+E.search+E.hash:y=!0}catch{}let b=tj(u,{relative:s}),v=Bj(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function g(S){r&&r(S),S.defaultPrevented||v(S)}return w.createElement("a",va({},h,{href:m||b,onClick:y||i?r:g,ref:n,target:l}))});function Fj(e){let{getKey:t,storageKey:n}=e;return Hj({getKey:t,storageKey:n}),null}var Fg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fg||(Fg={}));var $g;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($g||($g={}));function $j(e){let t=w.useContext(Xc);return t||Be(!1),t}function Uj(e){let t=w.useContext(iv);return t||Be(!1),t}function Bj(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Rt(),u=xo(),d=a2(e,{relative:o});return w.useCallback(f=>{if(bj(f,n)){f.preventDefault();let h=r!==void 0?r:ro(u)===ro(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,e,i,o,a])}function wi(e){let t=w.useRef(Lg(e)),n=w.useRef(!1),r=xo(),s=w.useMemo(()=>Sj(r.search,n.current?null:t.current),[r.search]),i=Rt(),o=w.useCallback((a,l)=>{const u=Lg(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const yb="react-router-scroll-positions";let Bu={};function Hj(e){let{getKey:t,storageKey:n}=e===void 0?{}:e,{router:r}=$j(Fg.UseScrollRestoration),{restoreScrollPosition:s,preventScrollReset:i}=Uj($g.UseScrollRestoration),{basename:o}=w.useContext(bi),a=xo(),l=fj(),u=cv();w.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),Vj(w.useCallback(()=>{if(u.state==="idle"){let d=(t?t(a,l):null)||a.key;Bu[d]=window.scrollY}try{sessionStorage.setItem(n||yb,JSON.stringify(Bu))}catch{}window.history.scrollRestoration="auto"},[n,t,u.state,a,l])),typeof document<"u"&&(w.useLayoutEffect(()=>{try{let d=sessionStorage.getItem(n||yb);d&&(Bu=JSON.parse(d))}catch{}},[n]),w.useLayoutEffect(()=>{let d=t&&o!=="/"?(h,p)=>t(va({},h,{pathname:vo(h.pathname,o)||h.pathname}),p):t,f=r==null?void 0:r.enableScrollRestoration(Bu,()=>window.scrollY,d);return()=>f&&f()},[r,o,t]),w.useLayoutEffect(()=>{if(s!==!1){if(typeof s=="number"){window.scrollTo(0,s);return}if(a.hash){let d=document.getElementById(decodeURIComponent(a.hash.slice(1)));if(d){d.scrollIntoView();return}}i!==!0&&window.scrollTo(0,0)}},[a,s,i]))}function Vj(e,t){let{capture:n}={};w.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",e,r),()=>{window.removeEventListener("pagehide",e,r)}},[e,n])}var Qc=e=>e.type==="checkbox",Ui=e=>e instanceof Date,dn=e=>e==null;const f2=e=>typeof e=="object";var Et=e=>!dn(e)&&!Array.isArray(e)&&f2(e)&&!Ui(e),h2=e=>Et(e)&&e.target?Qc(e.target)?e.target.checked:e.target.value:e,zj=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,p2=(e,t)=>e.has(zj(t)),Wj=e=>{const t=e.constructor&&e.constructor.prototype;return Et(t)&&t.hasOwnProperty("isPrototypeOf")},uv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(uv&&(e instanceof Blob||r))&&(n||Et(e)))if(t=n?[]:{},!n&&!Wj(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Ut(e[s]));else return e;return t}var Th=e=>/^\w*$/.test(e),St=e=>e===void 0,dv=e=>Array.isArray(e)?e.filter(Boolean):[],fv=e=>dv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),se=(e,t,n)=>{if(!t||!Et(e))return n;const r=(Th(t)?[t]:fv(t)).reduce((s,i)=>dn(s)?s:s[i],e);return St(r)||r===e?St(e[t])?n:e[t]:r},On=e=>typeof e=="boolean",tt=(e,t,n)=>{let r=-1;const s=Th(t)?[t]:fv(t),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=e[a];l=Et(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const mf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hv=Ee.createContext(null);hv.displayName="HookFormContext";const Wn=()=>Ee.useContext(hv),qj=e=>{const{children:t,...n}=e;return Ee.createElement(hv.Provider,{value:n},t)};var m2=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Cr.all&&(t._proxyFormState[o]=!r||Cr.all),n&&(n[o]=!0),e[o]}});return s};const pv=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Gj(e){const t=Wn(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[o,a]=Ee.useState(n._formState),l=Ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return pv(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[s,r,i]),Ee.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),Ee.useMemo(()=>m2(o,n,l.current,!1),[o,n])}var qr=e=>typeof e=="string",g2=(e,t,n,r,s)=>qr(e)?(r&&t.watch.add(e),se(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),se(n,i))):(r&&(t.watchAll=!0),n);function Yj(e){const t=Wn(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:o}=e||{},a=Ee.useRef(s),[l,u]=Ee.useState(n._getWatch(r,a.current));return pv(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:d=>!i&&u(g2(r,n._names,d.values||n._formValues,!1,a.current))}),[r,n,i,o]),Ee.useEffect(()=>n._removeUnmounted()),l}function Kj(e){const t=Wn(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i}=e,o=p2(s._names.array,n),a=Yj({control:s,name:n,defaultValue:se(s._formValues,n,se(s._defaultValues,n,e.defaultValue)),exact:!0}),l=Gj({control:s,name:n,exact:!0}),u=Ee.useRef(e),d=Ee.useRef(s.register(n,{...e.rules,value:a,...On(e.disabled)?{disabled:e.disabled}:{}})),f=Ee.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!se(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!se(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!se(l.validatingFields,n)},error:{enumerable:!0,get:()=>se(l.errors,n)}}),[l,n]),h=Ee.useCallback(b=>d.current.onChange({target:{value:h2(b),name:n},type:mf.CHANGE}),[n]),p=Ee.useCallback(()=>d.current.onBlur({target:{value:se(s._formValues,n),name:n},type:mf.BLUR}),[n,s._formValues]),m=Ee.useCallback(b=>{const v=se(s._fields,n);v&&b&&(v._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:g=>b.setCustomValidity(g),reportValidity:()=>b.reportValidity()})},[s._fields,n]),y=Ee.useMemo(()=>({name:n,value:a,...On(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:h,onBlur:p,ref:m}),[n,r,l.disabled,h,p,m,a]);return Ee.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(n,{...u.current.rules,...On(u.current.disabled)?{disabled:u.current.disabled}:{}});const v=(g,S)=>{const E=se(s._fields,g);E&&E._f&&(E._f.mount=S)};if(v(n,!0),b){const g=Ut(se(s._options.defaultValues,n));tt(s._defaultValues,n,g),St(se(s._formValues,n))&&tt(s._formValues,n,g)}return!o&&s.register(n),()=>{(o?b&&!s._state.action:b)?s.unregister(n):v(n,!1)}},[n,s,o,i]),Ee.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Ee.useMemo(()=>({field:y,formState:l,fieldState:f}),[y,l,f])}const y2=e=>e.render(Kj(e));var Xj=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Wl=e=>Array.isArray(e)?e:[e],vb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Ug=e=>dn(e)||!f2(e);function Ws(e,t,n=new WeakSet){if(Ug(e)||Ug(t))return e===t;if(Ui(e)&&Ui(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=t[i];if(Ui(o)&&Ui(a)||Et(o)&&Et(a)||Array.isArray(o)&&Array.isArray(a)?!Ws(o,a,n):o!==a)return!1}}return!0}var Sn=e=>Et(e)&&!Object.keys(e).length,mv=e=>e.type==="file",Tr=e=>typeof e=="function",gf=e=>{if(!uv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},v2=e=>e.type==="select-multiple",gv=e=>e.type==="radio",Zj=e=>gv(e)||Qc(e),em=e=>gf(e)&&e.isConnected;function Qj(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=St(e)?r++:e[t[r++]];return e}function Jj(e){for(const t in e)if(e.hasOwnProperty(t)&&!St(e[t]))return!1;return!0}function Tt(e,t){const n=Array.isArray(t)?t:Th(t)?[t]:fv(t),r=n.length===1?e:Qj(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Et(r)&&Sn(r)||Array.isArray(r)&&Jj(r))&&Tt(e,n.slice(0,-1)),e}var x2=e=>{for(const t in e)if(Tr(e[t]))return!0;return!1};function yf(e,t={}){const n=Array.isArray(e);if(Et(e)||n)for(const r in e)Array.isArray(e[r])||Et(e[r])&&!x2(e[r])?(t[r]=Array.isArray(e[r])?[]:{},yf(e[r],t[r])):dn(e[r])||(t[r]=!0);return t}function b2(e,t,n){const r=Array.isArray(e);if(Et(e)||r)for(const s in e)Array.isArray(e[s])||Et(e[s])&&!x2(e[s])?St(t)||Ug(n[s])?n[s]=Array.isArray(e[s])?yf(e[s],[]):{...yf(e[s])}:b2(e[s],dn(t)?{}:t[s],n[s]):n[s]=!Ws(e[s],t[s]);return n}var pl=(e,t)=>b2(e,t,yf(t));const xb={value:!1,isValid:!1},bb={value:!0,isValid:!0};var S2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!St(e[0].attributes.value)?St(e[0].value)||e[0].value===""?bb:{value:e[0].value,isValid:!0}:bb:xb}return xb},w2=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>St(e)?e:t?e===""?NaN:e&&+e:n&&qr(e)?new Date(e):r?r(e):e;const Sb={isValid:!1,value:null};var _2=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Sb):Sb;function wb(e){const t=e.ref;return mv(t)?t.files:gv(t)?_2(e.refs).value:v2(t)?[...t.selectedOptions].map(({value:n})=>n):Qc(t)?S2(e.refs).value:w2(St(t.value)?e.ref.value:t.value,e)}var eR=(e,t,n,r)=>{const s={};for(const i of e){const o=se(t,i);o&&tt(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},vf=e=>e instanceof RegExp,ml=e=>St(e)?e:vf(e)?e.source:Et(e)?vf(e.value)?e.value.source:e.value:e,_b=e=>({isOnSubmit:!e||e===Cr.onSubmit,isOnBlur:e===Cr.onBlur,isOnChange:e===Cr.onChange,isOnAll:e===Cr.all,isOnTouch:e===Cr.onTouched});const Eb="AsyncFunction";var tR=e=>!!e&&!!e.validate&&!!(Tr(e.validate)&&e.validate.constructor.name===Eb||Et(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Eb)),nR=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),kb=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ql=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=se(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(ql(a,t))break}else if(Et(a)&&ql(a,t))break}}};function Cb(e,t,n){const r=se(e,n);if(r||Th(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=se(t,i),a=se(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var rR=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return Sn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||Cr.all))},sR=(e,t,n)=>!e||!t||e===t||Wl(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),iR=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,oR=(e,t)=>!dv(se(e,t)).length&&Tt(e,t),aR=(e,t,n)=>{const r=Wl(se(e,n));return tt(r,"root",t[n]),tt(e,n,r),e},Ed=e=>qr(e);function Tb(e,t,n="validate"){if(Ed(e)||Array.isArray(e)&&e.every(Ed)||On(e)&&!e)return{type:n,message:Ed(e)?e:"",ref:t}}var jo=e=>Et(e)&&!vf(e)?e:{value:e,message:""},Nb=async(e,t,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:y,valueAsNumber:b,mount:v}=e._f,g=se(n,y);if(!v||t.has(y))return{};const S=a?a[0]:o,E=R=>{s&&S.reportValidity&&(S.setCustomValidity(On(R)?"":R||""),S.reportValidity())},C={},k=gv(o),x=Qc(o),_=k||x,T=(b||mv(o))&&St(o.value)&&St(g)||gf(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,I=Xj.bind(null,y,r,C),M=(R,$,L,H=rs.maxLength,W=rs.minLength)=>{const ie=R?$:L;C[y]={type:R?H:W,message:ie,ref:o,...I(R?H:W,ie)}};if(i?!Array.isArray(g)||!g.length:l&&(!_&&(T||dn(g))||On(g)&&!g||x&&!S2(a).isValid||k&&!_2(a).isValid)){const{value:R,message:$}=Ed(l)?{value:!!l,message:l}:jo(l);if(R&&(C[y]={type:rs.required,message:$,ref:S,...I(rs.required,$)},!r))return E($),C}if(!T&&(!dn(f)||!dn(h))){let R,$;const L=jo(h),H=jo(f);if(!dn(g)&&!isNaN(g)){const W=o.valueAsNumber||g&&+g;dn(L.value)||(R=W>L.value),dn(H.value)||($=W<H.value)}else{const W=o.valueAsDate||new Date(g),ie=ne=>new Date(new Date().toDateString()+" "+ne),A=o.type=="time",V=o.type=="week";qr(L.value)&&g&&(R=A?ie(g)>ie(L.value):V?g>L.value:W>new Date(L.value)),qr(H.value)&&g&&($=A?ie(g)<ie(H.value):V?g<H.value:W<new Date(H.value))}if((R||$)&&(M(!!R,L.message,H.message,rs.max,rs.min),!r))return E(C[y].message),C}if((u||d)&&!T&&(qr(g)||i&&Array.isArray(g))){const R=jo(u),$=jo(d),L=!dn(R.value)&&g.length>+R.value,H=!dn($.value)&&g.length<+$.value;if((L||H)&&(M(L,R.message,$.message),!r))return E(C[y].message),C}if(p&&!T&&qr(g)){const{value:R,message:$}=jo(p);if(vf(R)&&!g.match(R)&&(C[y]={type:rs.pattern,message:$,ref:o,...I(rs.pattern,$)},!r))return E($),C}if(m){if(Tr(m)){const R=await m(g,n),$=Tb(R,S);if($&&(C[y]={...$,...I(rs.validate,$.message)},!r))return E($.message),C}else if(Et(m)){let R={};for(const $ in m){if(!Sn(R)&&!r)break;const L=Tb(await m[$](g,n),S,$);L&&(R={...L,...I($,L.message)},E(L.message),r&&(C[y]=R))}if(!Sn(R)&&(C[y]={ref:S,...R},!r))return C}}return E(!0),C};const lR={mode:Cr.onSubmit,reValidateMode:Cr.onChange,shouldFocusError:!0};function cR(e={}){let t={...lR,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=Et(t.defaultValues)||Et(t.values)?Ut(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ut(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:vb(),state:vb()},p=t.criteriaMode===Cr.all,m=N=>O=>{clearTimeout(u),u=setTimeout(N,O)},y=async N=>{if(!t.disabled&&(d.isValid||f.isValid||N)){const O=t.resolver?Sn((await x()).errors):await T(r,!0);O!==n.isValid&&h.state.next({isValid:O})}},b=(N,O)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((N||Array.from(a.mount)).forEach(P=>{P&&(O?tt(n.validatingFields,P,O):Tt(n.validatingFields,P))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Sn(n.validatingFields)}))},v=(N,O=[],P,G,U=!0,q=!0)=>{if(G&&P&&!t.disabled){if(o.action=!0,q&&Array.isArray(se(r,N))){const ce=P(se(r,N),G.argA,G.argB);U&&tt(r,N,ce)}if(q&&Array.isArray(se(n.errors,N))){const ce=P(se(n.errors,N),G.argA,G.argB);U&&tt(n.errors,N,ce),oR(n.errors,N)}if((d.touchedFields||f.touchedFields)&&q&&Array.isArray(se(n.touchedFields,N))){const ce=P(se(n.touchedFields,N),G.argA,G.argB);U&&tt(n.touchedFields,N,ce)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=pl(s,i)),h.state.next({name:N,isDirty:M(N,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else tt(i,N,O)},g=(N,O)=>{tt(n.errors,N,O),h.state.next({errors:n.errors})},S=N=>{n.errors=N,h.state.next({errors:n.errors,isValid:!1})},E=(N,O,P,G)=>{const U=se(r,N);if(U){const q=se(i,N,St(P)?se(s,N):P);St(q)||G&&G.defaultChecked||O?tt(i,N,O?q:wb(U._f)):L(N,q),o.mount&&y()}},C=(N,O,P,G,U)=>{let q=!1,ce=!1;const Me={name:N};if(!t.disabled){if(!P||G){(d.isDirty||f.isDirty)&&(ce=n.isDirty,n.isDirty=Me.isDirty=M(),q=ce!==Me.isDirty);const Fe=Ws(se(s,N),O);ce=!!se(n.dirtyFields,N),Fe?Tt(n.dirtyFields,N):tt(n.dirtyFields,N,!0),Me.dirtyFields=n.dirtyFields,q=q||(d.dirtyFields||f.dirtyFields)&&ce!==!Fe}if(P){const Fe=se(n.touchedFields,N);Fe||(tt(n.touchedFields,N,P),Me.touchedFields=n.touchedFields,q=q||(d.touchedFields||f.touchedFields)&&Fe!==P)}q&&U&&h.state.next(Me)}return q?Me:{}},k=(N,O,P,G)=>{const U=se(n.errors,N),q=(d.isValid||f.isValid)&&On(O)&&n.isValid!==O;if(t.delayError&&P?(l=m(()=>g(N,P)),l(t.delayError)):(clearTimeout(u),l=null,P?tt(n.errors,N,P):Tt(n.errors,N)),(P?!Ws(U,P):U)||!Sn(G)||q){const ce={...G,...q&&On(O)?{isValid:O}:{},errors:n.errors,name:N};n={...n,...ce},h.state.next(ce)}},x=async N=>{b(N,!0);const O=await t.resolver(i,t.context,eR(N||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(N),O},_=async N=>{const{errors:O}=await x(N);if(N)for(const P of N){const G=se(O,P);G?tt(n.errors,P,G):Tt(n.errors,P)}else n.errors=O;return O},T=async(N,O,P={valid:!0})=>{for(const G in N){const U=N[G];if(U){const{_f:q,...ce}=U;if(q){const Me=a.array.has(q.name),Fe=U._f&&tR(U._f);Fe&&d.validatingFields&&b([G],!0);const lt=await Nb(U,a.disabled,i,p,t.shouldUseNativeValidation&&!O,Me);if(Fe&&d.validatingFields&&b([G]),lt[q.name]&&(P.valid=!1,O))break;!O&&(se(lt,q.name)?Me?aR(n.errors,lt,q.name):tt(n.errors,q.name,lt[q.name]):Tt(n.errors,q.name))}!Sn(ce)&&await T(ce,O,P)}}return P.valid},I=()=>{for(const N of a.unMount){const O=se(r,N);O&&(O._f.refs?O._f.refs.every(P=>!em(P)):!em(O._f.ref))&&z(N)}a.unMount=new Set},M=(N,O)=>!t.disabled&&(N&&O&&tt(i,N,O),!Ws(ne(),s)),R=(N,O,P)=>g2(N,a,{...o.mount?i:St(O)?s:qr(N)?{[N]:O}:O},P,O),$=N=>dv(se(o.mount?i:s,N,t.shouldUnregister?se(s,N,[]):[])),L=(N,O,P={})=>{const G=se(r,N);let U=O;if(G){const q=G._f;q&&(!q.disabled&&tt(i,N,w2(O,q)),U=gf(q.ref)&&dn(O)?"":O,v2(q.ref)?[...q.ref.options].forEach(ce=>ce.selected=U.includes(ce.value)):q.refs?Qc(q.ref)?q.refs.forEach(ce=>{(!ce.defaultChecked||!ce.disabled)&&(Array.isArray(U)?ce.checked=!!U.find(Me=>Me===ce.value):ce.checked=U===ce.value||!!U)}):q.refs.forEach(ce=>ce.checked=ce.value===U):mv(q.ref)?q.ref.value="":(q.ref.value=U,q.ref.type||h.state.next({name:N,values:Ut(i)})))}(P.shouldDirty||P.shouldTouch)&&C(N,U,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&V(N)},H=(N,O,P)=>{for(const G in O){if(!O.hasOwnProperty(G))return;const U=O[G],q=N+"."+G,ce=se(r,q);(a.array.has(N)||Et(U)||ce&&!ce._f)&&!Ui(U)?H(q,U,P):L(q,U,P)}},W=(N,O,P={})=>{const G=se(r,N),U=a.array.has(N),q=Ut(O);tt(i,N,q),U?(h.array.next({name:N,values:Ut(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&P.shouldDirty&&h.state.next({name:N,dirtyFields:pl(s,i),isDirty:M(N,q)})):G&&!G._f&&!dn(q)?H(N,q,P):L(N,q,P),kb(N,a)&&h.state.next({...n}),h.state.next({name:o.mount?N:void 0,values:Ut(i)})},ie=async N=>{o.mount=!0;const O=N.target;let P=O.name,G=!0;const U=se(r,P),q=Fe=>{G=Number.isNaN(Fe)||Ui(Fe)&&isNaN(Fe.getTime())||Ws(Fe,se(i,P,Fe))},ce=_b(t.mode),Me=_b(t.reValidateMode);if(U){let Fe,lt;const Gn=O.type?wb(U._f):h2(N),sn=N.type===mf.BLUR||N.type===mf.FOCUS_OUT,Ja=!nR(U._f)&&!t.resolver&&!se(n.errors,P)&&!U._f.deps||iR(sn,se(n.touchedFields,P),n.isSubmitted,Me,ce),on=kb(P,a,sn);tt(i,P,Gn),sn?(U._f.onBlur&&U._f.onBlur(N),l&&l(0)):U._f.onChange&&U._f.onChange(N);const Ms=C(P,Gn,sn),ye=!Sn(Ms)||on;if(!sn&&h.state.next({name:P,type:N.type,values:Ut(i)}),Ja)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?sn&&y():sn||y()),ye&&h.state.next({name:P,...on?{}:Ms});if(!sn&&on&&h.state.next({...n}),t.resolver){const{errors:ct}=await x([P]);if(q(Gn),G){const an=Cb(n.errors,r,P),Yn=Cb(ct,r,an.name||P);Fe=Yn.error,P=Yn.name,lt=Sn(ct)}}else b([P],!0),Fe=(await Nb(U,a.disabled,i,p,t.shouldUseNativeValidation))[P],b([P]),q(Gn),G&&(Fe?lt=!1:(d.isValid||f.isValid)&&(lt=await T(r,!0)));G&&(U._f.deps&&V(U._f.deps),k(P,lt,Fe,Ms))}},A=(N,O)=>{if(se(n.errors,O)&&N.focus)return N.focus(),1},V=async(N,O={})=>{let P,G;const U=Wl(N);if(t.resolver){const q=await _(St(N)?N:U);P=Sn(q),G=N?!U.some(ce=>se(q,ce)):P}else N?(G=(await Promise.all(U.map(async q=>{const ce=se(r,q);return await T(ce&&ce._f?{[q]:ce}:ce)}))).every(Boolean),!(!G&&!n.isValid)&&y()):G=P=await T(r);return h.state.next({...!qr(N)||(d.isValid||f.isValid)&&P!==n.isValid?{}:{name:N},...t.resolver||!N?{isValid:P}:{},errors:n.errors}),O.shouldFocus&&!G&&ql(r,A,N?U:a.mount),G},ne=N=>{const O={...o.mount?i:s};return St(N)?O:qr(N)?se(O,N):N.map(P=>se(O,P))},B=(N,O)=>({invalid:!!se((O||n).errors,N),isDirty:!!se((O||n).dirtyFields,N),error:se((O||n).errors,N),isValidating:!!se(n.validatingFields,N),isTouched:!!se((O||n).touchedFields,N)}),te=N=>{N&&Wl(N).forEach(O=>Tt(n.errors,O)),h.state.next({errors:N?n.errors:{}})},fe=(N,O,P)=>{const G=(se(r,N,{_f:{}})._f||{}).ref,U=se(n.errors,N)||{},{ref:q,message:ce,type:Me,...Fe}=U;tt(n.errors,N,{...Fe,...O,ref:G}),h.state.next({name:N,errors:n.errors,isValid:!1}),P&&P.shouldFocus&&G&&G.focus&&G.focus()},oe=(N,O)=>Tr(N)?h.state.subscribe({next:P=>N(R(void 0,O),P)}):R(N,O,!0),ae=N=>h.state.subscribe({next:O=>{sR(N.name,O.name,N.exact)&&rR(O,N.formState||d,qn,N.reRenderRoot)&&N.callback({values:{...i},...n,...O})}}).unsubscribe,J=N=>(o.mount=!0,f={...f,...N.formState},ae({...N,formState:f})),z=(N,O={})=>{for(const P of N?Wl(N):a.mount)a.mount.delete(P),a.array.delete(P),O.keepValue||(Tt(r,P),Tt(i,P)),!O.keepError&&Tt(n.errors,P),!O.keepDirty&&Tt(n.dirtyFields,P),!O.keepTouched&&Tt(n.touchedFields,P),!O.keepIsValidating&&Tt(n.validatingFields,P),!t.shouldUnregister&&!O.keepDefaultValue&&Tt(s,P);h.state.next({values:Ut(i)}),h.state.next({...n,...O.keepDirty?{isDirty:M()}:{}}),!O.keepIsValid&&y()},xe=({disabled:N,name:O})=>{(On(N)&&o.mount||N||a.disabled.has(O))&&(N?a.disabled.add(O):a.disabled.delete(O))},Pe=(N,O={})=>{let P=se(r,N);const G=On(O.disabled)||On(t.disabled);return tt(r,N,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:N}},name:N,mount:!0,...O}}),a.mount.add(N),P?xe({disabled:On(O.disabled)?O.disabled:t.disabled,name:N}):E(N,!0,O.value),{...G?{disabled:O.disabled||t.disabled}:{},...t.progressive?{required:!!O.required,min:ml(O.min),max:ml(O.max),minLength:ml(O.minLength),maxLength:ml(O.maxLength),pattern:ml(O.pattern)}:{},name:N,onChange:ie,onBlur:ie,ref:U=>{if(U){Pe(N,O),P=se(r,N);const q=St(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,ce=Zj(q),Me=P._f.refs||[];if(ce?Me.find(Fe=>Fe===q):q===P._f.ref)return;tt(r,N,{_f:{...P._f,...ce?{refs:[...Me.filter(em),q,...Array.isArray(se(s,N))?[{}]:[]],ref:{type:q.type,name:N}}:{ref:q}}}),E(N,!1,void 0,q)}else P=se(r,N,{}),P._f&&(P._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(p2(a.array,N)&&o.action)&&a.unMount.add(N)}}},Te=()=>t.shouldFocusError&&ql(r,A,a.mount),X=N=>{On(N)&&(h.state.next({disabled:N}),ql(r,(O,P)=>{const G=se(r,P);G&&(O.disabled=G._f.disabled||N,Array.isArray(G._f.refs)&&G._f.refs.forEach(U=>{U.disabled=G._f.disabled||N}))},0,!1))},ee=(N,O)=>async P=>{let G;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let U=Ut(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:q,values:ce}=await x();n.errors=q,U=Ut(ce)}else await T(r);if(a.disabled.size)for(const q of a.disabled)Tt(U,q);if(Tt(n.errors,"root"),Sn(n.errors)){h.state.next({errors:{}});try{await N(U,P)}catch(q){G=q}}else O&&await O({...n.errors},P),Te(),setTimeout(Te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(n.errors)&&!G,submitCount:n.submitCount+1,errors:n.errors}),G)throw G},me=(N,O={})=>{se(r,N)&&(St(O.defaultValue)?W(N,Ut(se(s,N))):(W(N,O.defaultValue),tt(s,N,Ut(O.defaultValue))),O.keepTouched||Tt(n.touchedFields,N),O.keepDirty||(Tt(n.dirtyFields,N),n.isDirty=O.defaultValue?M(N,Ut(se(s,N))):M()),O.keepError||(Tt(n.errors,N),d.isValid&&y()),h.state.next({...n}))},Se=(N,O={})=>{const P=N?Ut(N):s,G=Ut(P),U=Sn(N),q=U?s:G;if(O.keepDefaultValues||(s=P),!O.keepValues){if(O.keepDirtyValues){const ce=new Set([...a.mount,...Object.keys(pl(s,i))]);for(const Me of Array.from(ce))se(n.dirtyFields,Me)?tt(q,Me,se(i,Me)):W(Me,se(q,Me))}else{if(uv&&St(N))for(const ce of a.mount){const Me=se(r,ce);if(Me&&Me._f){const Fe=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(gf(Fe)){const lt=Fe.closest("form");if(lt){lt.reset();break}}}}for(const ce of a.mount){const Me=se(q,ce,se(s,ce));St(Me)||(tt(q,ce,Me),W(ce,se(q,ce)))}}i=Ut(q),h.array.next({values:{...q}}),h.state.next({values:{...q}})}a={mount:O.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:U?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!Ws(N,s)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:U?{}:O.keepDirtyValues?O.keepDefaultValues&&i?pl(s,i):n.dirtyFields:O.keepDefaultValues&&N?pl(s,N):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(N,O)=>Se(Tr(N)?N(i):N,O),kt=(N,O={})=>{const P=se(r,N),G=P&&P._f;if(G){const U=G.refs?G.refs[0]:G.ref;U.focus&&(U.focus(),O.shouldSelect&&Tr(U.select)&&U.select())}},qn=N=>{n={...n,...N}},rn={control:{register:Pe,unregister:z,getFieldState:B,handleSubmit:ee,setError:fe,_subscribe:ae,_runSchema:x,_focusError:Te,_getWatch:R,_getDirty:M,_setValid:y,_setFieldArray:v,_setDisabledField:xe,_setErrors:S,_getFieldArray:$,_reset:Se,_resetDefaultValues:()=>Tr(t.defaultValues)&&t.defaultValues().then(N=>{Qe(N,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:X,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(N){o=N},get _defaultValues(){return s},get _names(){return a},set _names(N){a=N},get _formState(){return n},get _options(){return t},set _options(N){t={...t,...N}}},subscribe:J,trigger:V,register:Pe,handleSubmit:ee,watch:oe,setValue:W,getValues:ne,reset:Qe,resetField:me,clearErrors:te,unregister:z,setError:fe,setFocus:kt,getFieldState:B};return{...rn,formControl:rn}}function es(e={}){const t=Ee.useRef(void 0),n=Ee.useRef(void 0),[r,s]=Ee.useState({isDirty:!1,isValidating:!1,isLoading:Tr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Tr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Tr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=cR(e);t.current={...a,formState:r}}const i=t.current.control;return i._options=e,pv(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),Ee.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ee.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Ee.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Ee.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Ee.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Ee.useEffect(()=>{e.values&&!Ws(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Ee.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=m2(r,i),t.current}var Kt=(e=>(e[e.Start=0]="Start",e[e.ListVideos=1]="ListVideos",e[e.SelectVideos=2]="SelectVideos",e[e.SelectMarkers=3]="SelectMarkers",e[e.Music=4]="Music",e[e.VideoOptions=5]="VideoOptions",e[e.PreviewClips=6]="PreviewClips",e[e.CreateVideo=7]="CreateVideo",e))(Kt||{});function hr(e,t){return{data:{...e.data,...t}}}function E2(){return{data:{stage:Kt.Start}}}var k2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ib=Ee.createContext&&Ee.createContext(k2),uR=["attr","size","title"];function dR(e,t){if(e==null)return{};var n=fR(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fR(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf.apply(this,arguments)}function jb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(n),!0).forEach(function(r){hR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hR(e,t,n){return t=pR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pR(e){var t=mR(e,"string");return typeof t=="symbol"?t:t+""}function mR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C2(e){return e&&e.map((t,n)=>Ee.createElement(t.tag,bf({key:n},t.attr),C2(t.child)))}function ve(e){return t=>Ee.createElement(gR,xf({attr:bf({},e.attr)},t),C2(e.child))}function gR(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=dR(e,uR),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Ee.createElement("svg",xf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:bf(bf({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ee.createElement("title",null,i),e.children)};return Ib!==void 0?Ee.createElement(Ib.Consumer,null,n=>t(n)):t(k2)}function yR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"},child:[]}]})(e)}function vR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M6 12a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 1 1 1.5 0v7.5A.75.75 0 0 1 6 12ZM18 12a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 1.5 0v7.5A.75.75 0 0 1 18 12ZM6.75 20.25v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0ZM18.75 18.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 1.5 0ZM12.75 5.25v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0ZM12 21a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 1.5 0v7.5A.75.75 0 0 1 12 21ZM3.75 15a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0ZM12 11.25a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM15.75 15a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0Z"},child:[]}]})(e)}function xR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function Nh(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function bR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"},child:[]}]})(e)}function Rb(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(e)}function SR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5ZM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function wR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function _R(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"},child:[]}]})(e)}function ER(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.47 2.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06l4.72-4.72H9a5.25 5.25 0 1 0 0 10.5h3a.75.75 0 0 1 0 1.5H9a6.75 6.75 0 0 1 0-13.5h10.19l-4.72-4.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(e)}function kR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"},child:[]}]})(e)}function yv(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.195 18.44c1.25.714 2.805-.189 2.805-1.629v-2.34l6.945 3.968c1.25.715 2.805-.188 2.805-1.628V8.69c0-1.44-1.555-2.343-2.805-1.628L12 11.029v-2.34c0-1.44-1.555-2.343-2.805-1.628l-7.108 4.061c-1.26.72-1.26 2.536 0 3.256l7.108 4.061Z"},child:[]}]})(e)}function T2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 4.5A.75.75 0 0 1 3 3.75h14.25a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Zm0 4.5A.75.75 0 0 1 3 8.25h9.75a.75.75 0 0 1 0 1.5H3A.75.75 0 0 1 2.25 9Zm15-.75A.75.75 0 0 1 18 9v10.19l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3.75 3.75a.75.75 0 0 1-1.06 0l-3.75-3.75a.75.75 0 1 1 1.06-1.06l2.47 2.47V9a.75.75 0 0 1 .75-.75Zm-15 5.25a.75.75 0 0 1 .75-.75h9.75a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function CR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"},child:[]}]})(e)}function TR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z",clipRule:"evenodd"},child:[]}]})(e)}function N2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function NR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"},child:[]}]})(e)}function Rn(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"},child:[]}]})(e)}function so(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function Rs(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function wc(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"},child:[]}]})(e)}function Bg(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.447 3.026a.75.75 0 0 1 .527.921l-4.5 16.5a.75.75 0 0 1-1.448-.394l4.5-16.5a.75.75 0 0 1 .921-.527ZM16.72 6.22a.75.75 0 0 1 1.06 0l5.25 5.25a.75.75 0 0 1 0 1.06l-5.25 5.25a.75.75 0 1 1-1.06-1.06L21.44 12l-4.72-4.72a.75.75 0 0 1 0-1.06Zm-9.44 0a.75.75 0 0 1 0 1.06L2.56 12l4.72 4.72a.75.75 0 0 1-1.06 1.06L.97 12.53a.75.75 0 0 1 0-1.06l5.25-5.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"},child:[]}]})(e)}function IR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 0 1-.517.608 7.45 7.45 0 0 0-.478.198.798.798 0 0 1-.796-.064l-.453-.324a1.875 1.875 0 0 0-2.416.2l-.243.243a1.875 1.875 0 0 0-.2 2.416l.324.453a.798.798 0 0 1 .064.796 7.448 7.448 0 0 0-.198.478.798.798 0 0 1-.608.517l-.55.092a1.875 1.875 0 0 0-1.566 1.849v.344c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 0 1-.064.796l-.324.453a1.875 1.875 0 0 0 .2 2.416l.243.243c.648.648 1.67.733 2.416.2l.453-.324a.798.798 0 0 1 .796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.344c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 0 1 .517-.608 7.52 7.52 0 0 0 .478-.198.798.798 0 0 1 .796.064l.453.324a1.875 1.875 0 0 0 2.416-.2l.243-.243c.648-.648.733-1.67.2-2.416l-.324-.453a.798.798 0 0 1-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.091a1.875 1.875 0 0 0 1.566-1.85v-.344c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 0 1-.608-.517 7.507 7.507 0 0 0-.198-.478.798.798 0 0 1 .064-.796l.324-.453a1.875 1.875 0 0 0-.2-2.416l-.243-.243a1.875 1.875 0 0 0-2.416-.2l-.453.324a.798.798 0 0 1-.796.064 7.462 7.462 0 0 0-.478-.198.798.798 0 0 1-.517-.608l-.091-.55a1.875 1.875 0 0 0-1.85-1.566h-.344ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function I2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z",clipRule:"evenodd"},child:[]}]})(e)}function jR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"},child:[]}]})(e)}function RR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"},child:[]},{tag:"path",attr:{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"},child:[]}]})(e)}function MR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},child:[]}]})(e)}function DR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},child:[]}]})(e)}function Ih(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"},child:[]}]})(e)}function vv(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.055 7.06C3.805 6.347 2.25 7.25 2.25 8.69v8.122c0 1.44 1.555 2.343 2.805 1.628L12 14.471v2.34c0 1.44 1.555 2.343 2.805 1.628l7.108-4.061c1.26-.72 1.26-2.536 0-3.256l-7.108-4.061C13.555 6.346 12 7.249 12 8.689v2.34L5.055 7.061Z"},child:[]}]})(e)}function OR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"},child:[]}]})(e)}function Jc(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},child:[]}]})(e)}function j2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"},child:[]}]})(e)}function PR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"},child:[]}]})(e)}function AR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z",clipRule:"evenodd"},child:[]}]})(e)}function xv(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"},child:[]}]})(e)}function LR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"},child:[]},{tag:"path",attr:{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"},child:[]}]})(e)}function FR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"},child:[]}]})(e)}function $R(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z",clipRule:"evenodd"},child:[]}]})(e)}function jh(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"},child:[]}]})(e)}function or(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function R2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},child:[]}]})(e)}function Rh(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 0 1 .75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 0 1 9.75 22.5a.75.75 0 0 1-.75-.75v-4.131A15.838 15.838 0 0 1 6.382 15H2.25a.75.75 0 0 1-.75-.75 6.75 6.75 0 0 1 7.815-6.666ZM15 6.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M5.26 17.242a.75.75 0 1 0-.897-1.203 5.243 5.243 0 0 0-2.05 5.022.75.75 0 0 0 .625.627 5.243 5.243 0 0 0 5.022-2.051.75.75 0 1 0-1.202-.897 3.744 3.744 0 0 1-3.008 1.51c0-1.23.592-2.323 1.51-3.008Z"},child:[]}]})(e)}function UR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4.08 5.227A3 3 0 0 1 6.979 3H17.02a3 3 0 0 1 2.9 2.227l2.113 7.926A5.228 5.228 0 0 0 18.75 12H5.25a5.228 5.228 0 0 0-3.284 1.153L4.08 5.227Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M5.25 13.5a3.75 3.75 0 1 0 0 7.5h13.5a3.75 3.75 0 1 0 0-7.5H5.25Zm10.5 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm3.75-.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z",clipRule:"evenodd"},child:[]}]})(e)}function M2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"},child:[]},{tag:"path",attr:{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"},child:[]}]})(e)}function D2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"},child:[]}]})(e)}function BR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"},child:[]}]})(e)}function Mh(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 0 0 5.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 0 0-2.122-.879H5.25ZM6.375 7.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",clipRule:"evenodd"},child:[]}]})(e)}function di(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"},child:[]}]})(e)}function HR(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z"},child:[]}]})(e)}function dr(e){return ve({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(e)}function VR(e){return ve({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"},child:[]}]})(e)}function zR(e){return ve({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"},child:[]}]})(e)}function WR(e){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 6.75A.75.75 0 0 1 2.75 6h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 6.75Zm0 6.5a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}const je=async({url:e,method:t,params:n,data:r,headers:s})=>{let i=e;if(n){const l=Object.entries(n).filter(([,d])=>d!==""&&d!==null&&d!==void 0),u=new URLSearchParams(l);i+="?"+u.toString()}let o;r instanceof FormData?(o=r,s&&delete s["Content-Type"]):typeof r<"u"&&(o=JSON.stringify(r));const a=await fetch(i,{method:t,body:o,headers:s});if(a.ok)return a.json();{const l=await a.text();throw TI({error:l,request:e},{status:a.status,headers:a.headers,statusText:a.statusText})}},as={tempVideo:"tempVideo",compilationVideo:"compilationVideo",downloadedVideo:"downloadedVideo",music:"music",database:"database",config:"config",previewImages:"previewImages"},qR=()=>je({url:"/api/handy/connected",method:"GET"}),GR=()=>je({url:"/api/handy/pause",method:"POST"}),YR=e=>je({url:"/api/handy/start",method:"POST",headers:{"Content-Type":"application/json"},data:e}),KR=e=>je({url:`/api/library/cleanup/${e}`,method:"POST"}),XR=e=>je({url:"/api/library/directory",method:"GET",params:e}),ZR=e=>je({url:"/api/library/marker",method:"GET",params:e}),QR=e=>je({url:"/api/library/marker",method:"POST",headers:{"Content-Type":"application/json"},data:e}),JR=e=>je({url:"/api/library/marker/title",method:"GET",params:e}),O2=(e,t)=>je({url:`/api/library/marker/${e}`,method:"PUT",headers:{"Content-Type":"application/json"},data:t}),Mb=e=>je({url:`/api/library/marker/${e}`,method:"DELETE"}),eM=(e,t)=>je({url:`/api/library/marker/${e}/split`,method:"POST",params:t}),tM=()=>je({url:"/api/library/migrate/preview",method:"POST"}),nM=e=>je({url:"/api/library/performers",method:"GET",params:e}),rM=()=>je({url:"/api/library/stats",method:"GET"}),sM=e=>je({url:"/api/library/video",method:"GET",params:e}),Sf=e=>je({url:"/api/library/video",method:"POST",headers:{"Content-Type":"application/json"},data:e}),iM=()=>je({url:"/api/library/video/cleanup",method:"POST"}),oM=e=>je({url:"/api/library/video/need-encoding",method:"POST",headers:{"Content-Type":"application/json"},data:e}),aM=e=>je({url:"/api/library/video/stash",method:"GET",params:e}),lM=()=>je({url:"/api/library/video/tags",method:"GET"}),cM=e=>je({url:`/api/library/video/${e}`,method:"GET"}),Db=(e,t)=>je({url:`/api/library/video/${e}`,method:"PUT",headers:{"Content-Type":"application/json"},data:t}),uM=e=>je({url:`/api/library/video/${e}`,method:"DELETE"}),dM=(e,t)=>je({url:`/api/library/video/${e}/detect-markers`,method:"POST",params:t}),fM=e=>je({url:`/api/library/video/${e}/stash/merge`,method:"POST"}),P2=e=>je({url:`/api/progress/${e}`,method:"DELETE"}),hM=e=>je({url:`/api/progress/${e}/info`,method:"GET"}),pM=e=>je({url:"/api/project/clips",method:"POST",headers:{"Content-Type":"application/json"},data:e}),mM=e=>je({url:"/api/project/clips/interactive",method:"POST",headers:{"Content-Type":"application/json"},data:e}),gM=e=>je({url:"/api/project/create",method:"POST",headers:{"Content-Type":"application/json"},data:e}),yM=(e,t)=>je({url:`/api/project/description/${e}`,method:"POST",headers:{"Content-Type":"application/json"},data:t}),vM=()=>je({url:"/api/project/finished",method:"GET"}),xM=e=>je({url:"/api/project/funscript/beat",method:"POST",headers:{"Content-Type":"application/json"},data:e}),bM=e=>je({url:"/api/project/funscript/combined",method:"POST",headers:{"Content-Type":"application/json"},data:e}),SM=()=>je({url:"/api/project/id",method:"GET"}),wM=()=>je({url:"/api/project/random-seed",method:"GET"}),A2=e=>je({url:"/api/song",method:"GET",params:e}),_M=e=>je({url:"/api/song/download",method:"POST",params:e}),EM=e=>{const t=new FormData;return t.append("file",e.file),je({url:"/api/song/upload",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:t})},kM=e=>je({url:`/api/song/${e}/beats`,method:"GET"}),CM=e=>je({url:"/api/stash/health",method:"GET",params:e}),TM=()=>je({url:"/api/system/configuration",method:"GET"}),NM=e=>je({url:"/api/system/configuration",method:"POST",headers:{"Content-Type":"application/json"},data:e}),IM=()=>je({url:"/api/system/version",method:"GET"});function bv(){const e=sessionStorage.getItem("form-state");return e?JSON.parse(e).data:null}const jM=async()=>{try{const e=bv();return await oM(e.videoIds||[])}catch(e){return console.warn("failed to check video encoding status, returning true",e),!0}},RM={outputFps:30,videoCodec:"h264",videoQuality:"medium",encodingEffort:"medium",outputWidth:1920,outputHeight:1080};function MM(){const e=zn(),{actions:t,state:n}=Ft({updateForm:hr}),r=Rt(),{register:s,handleSubmit:i,setValue:o,watch:a}=es({defaultValues:{...RM,...n.data}}),l=a("outputWidth"),u=a("outputHeight"),d=h=>{t.updateForm({...h,stage:Kt.PreviewClips,outputResolution:[h.outputWidth,h.outputHeight]}),r("/clips")},f=()=>{o("outputWidth",u),o("outputHeight",l)};return c.jsx(c.Fragment,{children:c.jsxs("form",{className:"grid grid-cols-3",onSubmit:i(d),children:[c.jsx("div",{}),!e&&c.jsxs("div",{className:"place-self-center alert alert-info",children:[c.jsx(Jc,{})," All videos have the same encoding parameters, no encoding will be performed."]}),e&&c.jsxs("div",{className:"flex flex-col gap-4 self-center max-w-lg",children:[c.jsxs("div",{className:"form-control w-full",children:[c.jsx("label",{className:"label",htmlFor:"outputWidth",children:c.jsx("span",{className:"label-text",children:"Output resolution"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",className:"input input-bordered w-1/2",...s("outputWidth",{valueAsNumber:!0})}),c.jsx("span",{children:"x"}),c.jsx("input",{type:"number",className:"input input-bordered w-1/2",...s("outputHeight",{valueAsNumber:!0})}),c.jsx("button",{onClick:f,type:"button",className:"btn btn-square btn-sm",children:c.jsx(kR,{})})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",htmlFor:"outputFps",children:c.jsx("span",{className:"label-text",children:"Output frames per second"})}),c.jsx("input",{type:"number",placeholder:"Type here",className:"input input-bordered",...s("outputFps",{valueAsNumber:!0})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",htmlFor:"videoCodec",children:c.jsx("span",{className:"label-text",children:"Video codec"})}),c.jsxs("select",{className:"select select-bordered",...s("videoCodec"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Select codec"}),c.jsx("option",{value:"h264",children:"H.264 (most common, quick to encode)"}),c.jsx("option",{value:"h265",children:"H.265 (more efficient, slower to encode)"}),c.jsx("option",{value:"av1",children:"AV1 (even more efficient, slower to encode)"})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",htmlFor:"videoQuality",children:c.jsx("span",{className:"label-text",children:"Video quality"})}),c.jsxs("select",{className:"select select-bordered",...s("videoQuality"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Select quality"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"lossless",children:"Almost lossless"})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",htmlFor:"encodingEffort",children:c.jsx("span",{className:"label-text",children:"Encoding effort"})}),c.jsxs("select",{className:"select select-bordered",...s("encodingEffort"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Select encoding effort"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"high",children:"High"})]})]}),c.jsx("div",{className:"form-control",children:c.jsxs("label",{className:"label",htmlFor:"includeOriginalFileName",children:[c.jsx("span",{className:"label-text",children:"Include original file name in clip filename?"}),c.jsx("input",{type:"checkbox",className:"checkbox",...s("includeOriginalFileName")})]})}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",htmlFor:"padding",children:c.jsx("span",{className:"label-text",children:"Padding for videos with different aspect ratios"})}),c.jsxs("select",{className:"select select-bordered",...s("padding"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Select padding"}),c.jsx("option",{value:"black",children:"Black"}),c.jsx("option",{value:"blur",children:"Blurred video content (experimental)"})]})]})]}),c.jsxs("div",{className:"w-full flex justify-between mb-4",children:[c.jsx("span",{}),c.jsxs("button",{type:"submit",className:"btn btn-success",children:["Next",c.jsx(Rs,{className:"ml-1"})]})]})]})})}let DM={};function OM(){return DM}const PM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AM=(e,t,n)=>{let r;const s=PM[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const LM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$M={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UM={date:tm({formats:LM,defaultWidth:"full"}),time:tm({formats:FM,defaultWidth:"full"}),dateTime:tm({formats:$M,defaultWidth:"full"})},BM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HM=(e,t,n,r)=>BM[e];function gl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const VM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KM=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},XM={ordinalNumber:KM,era:gl({values:VM,defaultWidth:"wide"}),quarter:gl({values:zM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gl({values:WM,defaultWidth:"wide"}),day:gl({values:qM,defaultWidth:"wide"}),dayPeriod:gl({values:GM,defaultWidth:"wide",formattingValues:YM,defaultFormattingWidth:"wide"})};function yl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?QM(a,f=>f.test(o)):ZM(a,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function ZM(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function QM(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function JM(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const eD=/^(\d+)(th|st|nd|rd)?/i,tD=/\d+/i,nD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rD={any:[/^b/i,/^(a|c)/i]},sD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iD={any:[/1/i,/2/i,/3/i,/4/i]},oD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fD={ordinalNumber:JM({matchPattern:eD,parsePattern:tD,valueCallback:e=>parseInt(e,10)}),era:yl({matchPatterns:nD,defaultMatchWidth:"wide",parsePatterns:rD,defaultParseWidth:"any"}),quarter:yl({matchPatterns:sD,defaultMatchWidth:"wide",parsePatterns:iD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yl({matchPatterns:oD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any"}),day:yl({matchPatterns:lD,defaultMatchWidth:"wide",parsePatterns:cD,defaultParseWidth:"any"}),dayPeriod:yl({matchPatterns:uD,defaultMatchWidth:"any",parsePatterns:dD,defaultParseWidth:"any"})},hD={code:"en-US",formatDistance:AM,formatLong:UM,formatRelative:HM,localize:XM,match:fD,options:{weekStartsOn:0,firstWeekContainsDate:1}},pD=["years","months","weeks","days","hours","minutes","seconds"];function mD(e,t){const n=OM(),r=(t==null?void 0:t.locale)??n.locale??hD,s=(t==null?void 0:t.format)??pD,i=(t==null?void 0:t.zero)??!1,o=(t==null?void 0:t.delimiter)??" ";return r.formatDistance?s.reduce((l,u)=>{const d=`x${u.replace(/(^.)/,h=>h.toUpperCase())}`,f=e[u];return f!==void 0&&(i||e[u])?l.concat(r.formatDistance(d,f)):l},[]).join(o):""}function Hu(e,t=2){return e.toString().padStart(t,"0")}function at(e,t="long"){let n=0;if(typeof e=="number"?n=e:Array.isArray(e)&&(n=e[1]-e[0]),n===0)return t==="long"?"0 seconds":t==="short"?"00:00":"00:00.0000";const r=Math.floor(n/3600),s=Math.floor(n%3600/60),i=Math.floor(n%60),o=Math.floor(n%1*1e3);if(t==="long")return mD({hours:r,minutes:s,seconds:i},{format:["hours","minutes","seconds"]});{let a=`${Hu(s)}:${Hu(i)}`;return r>0&&(a=`${Hu(r)}:${a}`),t==="short-with-ms"&&(a=`${a}.${Hu(o,3)}`),a}}const gD=/^(?<hours>(\d+):)?(?<minutes>\d+):(?<seconds>\d+)\.?(?<millis>\d*)$/;function _c(e){if(typeof e=="string"){const t=e.match(gD);if(t!=null&&t.groups){const{hours:n,minutes:r,seconds:s,millis:i}=t.groups,o=parseInt(n||"0",10),a=parseInt(r,10),l=parseInt(s,10),u=parseInt(i||"0",10);return o*3600+a*60+l+u/1e3}else return 0}else return e}function Dh(e){return e?e.filter(t=>t.selected).reduce((t,{selectedRange:[n,r],loops:s})=>t+(r-n)*s,0):0}const L2=new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"});function yD(){const[e,t]=w.useState();return w.useEffect(()=>{document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?t(!0):t(!1)})},[]),e}const Ob={icon:"/android-chrome-192x192.png"};function Oh(){const e=yD();return w.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification("Notifications enabled.",Ob)})},[]),w.useCallback((n,r)=>{e&&Notification.permission==="granted"&&new Notification(n,{...Ob,body:r})},[e])}const ar=({href:e,children:t,...n})=>c.jsx("a",{...n,href:e,target:"_blank",rel:"noopener noreferrer",className:n.className||"link link-primary",children:t});function F2(e){const t=["Bytes","KB","MB","GB","TB"];if(e===0)return"0 Bytes";const n=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,n)).toFixed(2))} ${t[n]}`}function io(e,t){return t===1?e:`${e}s`}const vD=120,Pb=3600,xD=e=>{if(e>Pb){const t=Math.round(e/Pb),n=io("hour",t);return`${t} ${n}`}else if(e>vD){const t=Math.round(e/60),n=io("minute",t);return`${t} ${n}`}else return`${Math.round(e)} seconds`};function bD(){var m;const{state:e}=Ft(),[t,n]=w.useState(),r=`${e.data.fileName||"Compilation"} [${e.data.videoId}].mp4`,s=Oh(),i=w.useRef(),{videoId:o}=e.data,a=Rt(),[l,u]=w.useState(),d=w.useCallback(y=>{var b,v;y.done&&y.message==="Finished!"?((b=i.current)==null||b.close(),s("Success","Video generation finished!"),a(`/${o}/download`)):y.done&&((v=i.current)==null||v.close(),u(y.message),P2(e.data.videoId).then(()=>{s("Error","Video generation failed. See the page for details.")})),n(y)},[a,o]),f=w.useCallback(()=>{const y=new EventSource(`/api/progress/${o}/stream`);return y.onmessage=b=>{const v=JSON.parse(b.data);v&&d(v)},y},[d,o]);w.useEffect(()=>(hM(o).then(y=>{y&&y.itemsTotal>0&&(d(y),i.current=f())}),()=>{var y;(y=i.current)==null||y.close()}),[d,f,o]);const h=e.data.clips.reduce((y,b)=>y+(b.range[1]-b.range[0]),0),p=async y=>{var v;y.preventDefault();const b={clips:e.data.clips,fileName:r,songIds:((v=e.data.songs)==null?void 0:v.map(g=>g.songId))||[],videoId:e.data.videoId,encodingEffort:e.data.encodingEffort,outputFps:e.data.outputFps,outputResolution:e.data.outputResolution,selectedMarkers:e.data.selectedMarkers,videoCodec:e.data.videoCodec,videoQuality:e.data.videoQuality,musicVolume:e.data.musicVolume,padding:e.data.padding,forceReEncode:!1,includeOriginalFileName:e.data.includeOriginalFileName??!1};await gM(b),i.current=f(),n({itemsFinished:0,etaSeconds:0,done:!1,itemsTotal:h,message:"Starting...",timestamp:Date.now().toString(),videoId:e.data.videoId})};return c.jsxs("div",{className:"mt-2 w-full self-center flex flex-col items-center",children:[!t&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("p",{children:["Generating video with ",c.jsx("strong",{children:(m=e.data.clips)==null?void 0:m.length})," ","clips."]}),c.jsxs("p",{children:["Estimated final duration:"," ",c.jsx("strong",{children:at(h)}),"."]}),c.jsxs("p",{children:["File name: ",c.jsx("strong",{children:r})]})]}),c.jsxs("button",{onClick:p,className:"btn btn-lg btn-success",children:[c.jsx(Rh,{className:"mr-2 w-6 h-6"}),"Create video"]})]}),l&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl mb-1 font-bold",children:"Error"}),c.jsxs("p",{className:"mb-4",children:["Sorry, something went wrong creating your video. Please create an issue on"," ",c.jsx(ar,{href:"https://github.com/soundchaser128/clip-mash/issues",children:"GitHub"})," ","and include the following information:"]}),c.jsx("pre",{className:"text-sm",children:l})]}),t&&!l&&c.jsxs("div",{className:"w-full",children:[c.jsx("progress",{className:"progress h-6 progress-primary w-full",value:t==null?void 0:t.itemsFinished,max:t==null?void 0:t.itemsTotal}),c.jsxs("section",{className:"text-center",children:[c.jsxs("p",{children:[c.jsx("strong",{children:at(t.itemsFinished,"short")})," ","/ ",c.jsx("strong",{children:at(t.itemsTotal,"short")})," ","of the compilation finished"]}),t.etaSeconds!=null&&c.jsxs("p",{children:["Estimated time remaining:"," ",c.jsx("strong",{className:"tooltip","data-tip":at(t.etaSeconds),children:xD(t.etaSeconds)})]}),c.jsx("p",{children:t.message})]})]})]})}function $2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ue(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$2(e))&&(r&&(r+=" "),r+=t);return r}function kd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SD(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function U2(e){let t,n,r;e.length!==2?(t=kd,n=(a,l)=>kd(e(a),l),r=(a,l)=>e(a)-l):(t=e===kd||e===SD?e:wD,n=e,r=e);function s(a,l,u=0,d=a.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(a,l,u=0,d=a.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(a,l,u=0,d=a.length){const f=s(a,l,u,d-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:s,center:o,right:i}}function wD(){return 0}function _D(e){return e===null?NaN:+e}const ED=U2(kd),kD=ED.right;U2(_D).center;const CD=Math.sqrt(50),TD=Math.sqrt(10),ND=Math.sqrt(2);function wf(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=CD?10:i>=TD?5:i>=ND?2:1;let a,l,u;return s<0?(u=Math.pow(10,-s)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?wf(e,t,n*2):[a,l,u]}function ID(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?wf(t,e,n):wf(e,t,n);if(!(i>=s))return[];const a=i-s+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(i-u)/-o;else for(let u=0;u<a;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(s+u)/-o;else for(let u=0;u<a;++u)l[u]=(s+u)*o;return l}function Hg(e,t,n){return t=+t,e=+e,n=+n,wf(e,t,n)[2]}function jD(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?Hg(t,e,n):Hg(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function RD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function MD(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function Sv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function B2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eu(){}var Ec=.7,_f=1/Ec,sa="\\s*([+-]?\\d+)\\s*",kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DD=/^#([0-9a-f]{3,8})$/,OD=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),PD=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),AD=new RegExp(`^rgba\\(${sa},${sa},${sa},${kc}\\)$`),LD=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${kc}\\)$`),FD=new RegExp(`^hsl\\(${kc},${Qr},${Qr}\\)$`),$D=new RegExp(`^hsla\\(${kc},${Qr},${Qr},${kc}\\)$`),Ab={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sv(eu,oo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lb,formatHex:Lb,formatHex8:UD,formatHsl:BD,formatRgb:Fb,toString:Fb});function Lb(){return this.rgb().formatHex()}function UD(){return this.rgb().formatHex8()}function BD(){return H2(this).formatHsl()}function Fb(){return this.rgb().formatRgb()}function oo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=DD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$b(t):n===3?new Cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=OD.exec(e))?new Cn(t[1],t[2],t[3],1):(t=PD.exec(e))?new Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AD.exec(e))?Vu(t[1],t[2],t[3],t[4]):(t=LD.exec(e))?Vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FD.exec(e))?Hb(t[1],t[2]/100,t[3]/100,1):(t=$D.exec(e))?Hb(t[1],t[2]/100,t[3]/100,t[4]):Ab.hasOwnProperty(e)?$b(Ab[e]):e==="transparent"?new Cn(NaN,NaN,NaN,0):null}function $b(e){return new Cn(e>>16&255,e>>8&255,e&255,1)}function Vu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Cn(e,t,n,r)}function HD(e){return e instanceof eu||(e=oo(e)),e?(e=e.rgb(),new Cn(e.r,e.g,e.b,e.opacity)):new Cn}function Vg(e,t,n,r){return arguments.length===1?HD(e):new Cn(e,t,n,r??1)}function Cn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Sv(Cn,Vg,B2(eu,{brighter(e){return e=e==null?_f:Math.pow(_f,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ec:Math.pow(Ec,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cn(Gi(this.r),Gi(this.g),Gi(this.b),Ef(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ub,formatHex:Ub,formatHex8:VD,formatRgb:Bb,toString:Bb}));function Ub(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}`}function VD(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}${Bi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bb(){const e=Ef(this.opacity);return`${e===1?"rgb(":"rgba("}${Gi(this.r)}, ${Gi(this.g)}, ${Gi(this.b)}${e===1?")":`, ${e})`}`}function Ef(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bi(e){return e=Gi(e),(e<16?"0":"")+e.toString(16)}function Hb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nr(e,t,n,r)}function H2(e){if(e instanceof Nr)return new Nr(e.h,e.s,e.l,e.opacity);if(e instanceof eu||(e=oo(e)),!e)return new Nr;if(e instanceof Nr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Nr(o,a,l,e.opacity)}function zD(e,t,n,r){return arguments.length===1?H2(e):new Nr(e,t,n,r??1)}function Nr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Sv(Nr,zD,B2(eu,{brighter(e){return e=e==null?_f:Math.pow(_f,e),new Nr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ec:Math.pow(Ec,e),new Nr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Cn(nm(e>=240?e-240:e+120,s,r),nm(e,s,r),nm(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Nr(Vb(this.h),zu(this.s),zu(this.l),Ef(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ef(this.opacity);return`${e===1?"hsl(":"hsla("}${Vb(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vb(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function nm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wv=e=>()=>e;function WD(e,t){return function(n){return e+n*t}}function qD(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function GD(e){return(e=+e)==1?V2:function(t,n){return n-t?qD(t,n,e):wv(isNaN(t)?n:t)}}function V2(e,t){var n=t-e;return n?WD(e,n):wv(isNaN(e)?t:e)}const kf=function e(t){var n=GD(t);function r(s,i){var o=n((s=Vg(s)).r,(i=Vg(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),u=V2(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function YD(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function KD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XD(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ph(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(a){for(o=0;o<r;++o)i[o]=s[o](a);return i}}function ZD(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function QD(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ph(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var zg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rm=new RegExp(zg.source,"g");function JD(e){return function(){return e}}function e6(e){return function(t){return e(t)+""}}function z2(e,t){var n=zg.lastIndex=rm.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=zg.exec(e))&&(s=rm.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:wr(r,s)})),n=rm.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?e6(l[0].x):JD(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(u);return a.join("")})}function Ph(e,t){var n=typeof t,r;return t==null||n==="boolean"?wv(t):(n==="number"?wr:n==="string"?(r=oo(t))?(t=r,kf):z2:t instanceof oo?kf:t instanceof Date?ZD:KD(t)?YD:Array.isArray(t)?XD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QD:wr)(e,t)}function W2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var zb=180/Math.PI,Wg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function q2(e,t,n,r,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*zb,skewX:Math.atan(l)*zb,scaleX:o,scaleY:a}}var Wu;function t6(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wg:q2(t.a,t.b,t.c,t.d,t.e,t.f)}function n6(e){return e==null||(Wu||(Wu=document.createElementNS("http://www.w3.org/2000/svg","g")),Wu.setAttribute("transform",e),!(e=Wu.transform.baseVal.consolidate()))?Wg:(e=e.matrix,q2(e.a,e.b,e.c,e.d,e.e,e.f))}function G2(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,f,h,p,m){if(u!==f||d!==h){var y=p.push("translate(",null,t,null,n);m.push({i:y-4,x:wr(u,f)},{i:y-2,x:wr(d,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function o(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:wr(u,d)})):d&&f.push(s(f)+"rotate("+d+r)}function a(u,d,f,h){u!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:wr(u,d)}):d&&f.push(s(f)+"skewX("+d+r)}function l(u,d,f,h,p,m){if(u!==f||d!==h){var y=p.push(s(p)+"scale(",null,",",null,")");m.push({i:y-4,x:wr(u,f)},{i:y-2,x:wr(d,h)})}else(f!==1||h!==1)&&p.push(s(p)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,h),o(u.rotate,d.rotate,f,h),a(u.skewX,d.skewX,f,h),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(p){for(var m=-1,y=h.length,b;++m<y;)f[(b=h[m]).i]=b.x(p);return f.join("")}}}var r6=G2(t6,"px, ","px)","deg)"),s6=G2(n6,", ",")",")");function i6(e){return function(){return e}}function o6(e){return+e}var Wb=[0,1];function Ks(e){return e}function qg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:i6(isNaN(t)?NaN:.5)}function a6(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function l6(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=qg(s,r),i=n(o,i)):(r=qg(r,s),i=n(i,o)),function(a){return i(r(a))}}function c6(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=qg(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(a){var l=kD(e,a,1,r)-1;return i[l](s[l](a))}}function u6(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function d6(){var e=Wb,t=Wb,n=Ph,r,s,i,o=Ks,a,l,u;function d(){var h=Math.min(e.length,t.length);return o!==Ks&&(o=a6(e[0],e[h-1])),a=h>2?c6:l6,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=a(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=a(t,e.map(r),wr)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,o6),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=W2,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ks,d()):o!==Ks},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return r=h,s=p,d()}}function f6(){return d6()(Ks,Ks)}function h6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xa(e){return e=Cf(Math.abs(e)),e?e[1]:NaN}function p6(e,t){return function(n,r){for(var s=n.length,i=[],o=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),i.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return i.reverse().join(t)}}function m6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var g6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tf(e){if(!(t=g6.exec(e)))throw new Error("invalid format: "+e);var t;return new _v({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tf.prototype=_v.prototype;function _v(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y6(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var Y2;function v6(e,t){var n=Cf(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(Y2=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Cf(e,Math.max(0,t+i-1))[0]}function qb(e,t){var n=Cf(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Gb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:h6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qb(e*100,t),r:qb,s:v6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yb(e){return e}var Kb=Array.prototype.map,Xb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function x6(e){var t=e.grouping===void 0||e.thousands===void 0?Yb:p6(Kb.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Yb:m6(Kb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Tf(f);var h=f.fill,p=f.align,m=f.sign,y=f.symbol,b=f.zero,v=f.width,g=f.comma,S=f.precision,E=f.trim,C=f.type;C==="n"?(g=!0,C="g"):Gb[C]||(S===void 0&&(S=12),E=!0,C="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",x=y==="$"?r:/[%p]/.test(C)?o:"",_=Gb[C],T=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(M){var R=k,$=x,L,H,W;if(C==="c")$=_(M)+$,M="";else{M=+M;var ie=M<0||1/M<0;if(M=isNaN(M)?l:_(Math.abs(M),S),E&&(M=y6(M)),ie&&+M==0&&m!=="+"&&(ie=!1),R=(ie?m==="("?m:a:m==="-"||m==="("?"":m)+R,$=(C==="s"?Xb[8+Y2/3]:"")+$+(ie&&m==="("?")":""),T){for(L=-1,H=M.length;++L<H;)if(W=M.charCodeAt(L),48>W||W>57){$=(W===46?s+M.slice(L+1):M.slice(L))+$,M=M.slice(0,L);break}}}g&&!b&&(M=t(M,1/0));var A=R.length+M.length+$.length,V=A<v?new Array(v-A+1).join(h):"";switch(g&&b&&(M=t(V+M,V.length?v-$.length:1/0),V=""),p){case"<":M=R+M+$+V;break;case"=":M=R+V+M+$;break;case"^":M=V.slice(0,A=V.length>>1)+R+M+$+V.slice(A);break;default:M=V+R+M+$;break}return i(M)}return I.toString=function(){return f+""},I}function d(f,h){var p=u((f=Tf(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(xa(h)/3)))*3,y=Math.pow(10,-m),b=Xb[8+m/3];return function(v){return p(y*v)+b}}return{format:u,formatPrefix:d}}var qu,K2,X2;b6({thousands:",",grouping:[3],currency:["$",""]});function b6(e){return qu=x6(e),K2=qu.format,X2=qu.formatPrefix,qu}function S6(e){return Math.max(0,-xa(Math.abs(e)))}function w6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xa(t)/3)))*3-xa(Math.abs(e)))}function _6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xa(t)-xa(e))+1}function E6(e,t,n,r){var s=jD(e,t,n),i;switch(r=Tf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=w6(s,o))&&(r.precision=i),X2(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=_6(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=S6(s))&&(r.precision=i-(r.type==="%")*2);break}}return K2(r)}function Z2(e){var t=e.domain;return e.ticks=function(n){var r=t();return ID(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return E6(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],a=r[i],l,u,d=10;for(a<o&&(u=o,o=a,a=u,u=s,s=i,i=u);d-- >0;){if(u=Hg(o,a,n),u===l)return r[s]=o,r[i]=a,t(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Q2(){var e=f6();return e.copy=function(){return u6(e,Q2())},RD.apply(e,arguments),Z2(e)}function k6(){var e=0,t=1,n,r,s,i,o=Ks,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(s===0?.5:(f=(i(f)-n)*s,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(Ph),u.rangeRound=d(W2),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function C6(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function J2(){var e=Z2(k6()(Ks));return e.copy=function(){return C6(e,J2())},MD.apply(e,arguments)}function Ah(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Lh(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Lh(Ah("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Lh(Ah("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Lh(Ah("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));var T6=Lh(Ah("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ek(e,t){return J2().domain([0,t-1]).interpolator(T6)(e)}function tk(e){const[t,n,r]=e.slice(1).match(/.{1,2}/g).map(i=>parseInt(i,16));return .2126*t+.7152*n+.0722*r<140?"#ffffff":"#000000"}function N6(e,t){const n=ek(e,t),r=tk(n);return{backgroundColor:n,color:r}}function Zb(e,t,n){return e>=t&&e<=n}function Ev(e,t,n){return Math.min(Math.max(e,t),n)}function Nf(){return Nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}var Vr;(function(e){e.Undo="UNDO",e.Redo="REDO",e.Set="SET",e.Reset="RESET"})(Vr||(Vr={}));var I6={past:[],present:null,future:[]},j6=function(t,n){n===void 0&&(n={});var r=Nf({useCheckpoints:!1},n),s=r.useCheckpoints,i=function(b,v){var g=b.past,S=b.present,E=b.future;switch(v.type){case Vr.Undo:{if(g.length===0)return b;var C=g[g.length-1],k=g.slice(0,g.length-1);return{past:k,present:C,future:[S].concat(E)}}case Vr.Redo:{if(E.length===0)return b;var x=E[0],_=E.slice(1);return{past:[].concat(g,[S]),present:x,future:_}}case Vr.Set:{var T=s?!!v.historyCheckpoint:!0,I=v.newPresent;return I===S?b:{past:T===!1?g:[].concat(g,[S]),present:I,future:[]}}case Vr.Reset:{var M=v.newPresent;return{past:[],present:M,future:[]}}}},o=w.useReducer(i,Nf({},I6,{present:t})),a=o[0],l=o[1],u=a.past.length!==0,d=a.future.length!==0,f=w.useCallback(function(){u&&l({type:Vr.Undo})},[u]),h=w.useCallback(function(){d&&l({type:Vr.Redo})},[d]),p=w.useCallback(function(y,b){b===void 0&&(b=!1),l({type:Vr.Set,newPresent:y,historyCheckpoint:b})},[]),m=w.useCallback(function(y){return l({type:Vr.Reset,newPresent:y})},[]);return[a,{set:p,reset:m,undo:f,redo:h,canUndo:u,canRedo:d}]},nk=Symbol.for("immer-nothing"),Qb=Symbol.for("immer-draftable"),Un=Symbol.for("immer-state");function Ir(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ba=Object.getPrototypeOf;function Sa(e){return!!e&&!!e[Un]}function ao(e){var t;return e?rk(e)||Array.isArray(e)||!!e[Qb]||!!((t=e.constructor)!=null&&t[Qb])||$h(e)||Uh(e):!1}var R6=Object.prototype.constructor.toString();function rk(e){if(!e||typeof e!="object")return!1;const t=ba(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===R6}function If(e,t){Fh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Fh(e){const t=e[Un];return t?t.type_:Array.isArray(e)?1:$h(e)?2:Uh(e)?3:0}function Gg(e,t){return Fh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sk(e,t,n){const r=Fh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function M6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $h(e){return e instanceof Map}function Uh(e){return e instanceof Set}function Mi(e){return e.copy_||e.base_}function Yg(e,t){if($h(e))return new Map(e);if(Uh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=rk(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Un];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(ba(e),r)}else{const r=ba(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Cc(e,t=!1){return Bh(e)||Sa(e)||!ao(e)||(Fh(e)>1&&(e.set=e.add=e.clear=e.delete=D6),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Cc(r,!0))),e}function D6(){Ir(2)}function Bh(e){return Object.isFrozen(e)}var O6={};function lo(e){const t=O6[e];return t||Ir(0,e),t}var Tc;function ik(){return Tc}function P6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jb(e,t){t&&(lo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kg(e){Xg(e),e.drafts_.forEach(A6),e.drafts_=null}function Xg(e){e===Tc&&(Tc=e.parent_)}function eS(e){return Tc=P6(Tc,e)}function A6(e){const t=e[Un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Un].modified_&&(Kg(t),Ir(4)),ao(e)&&(e=jf(t,e),t.parent_||Rf(t,e)),t.patches_&&lo("Patches").generateReplacementPatches_(n[Un].base_,e,t.patches_,t.inversePatches_)):e=jf(t,n,[]),Kg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nk?e:void 0}function jf(e,t,n){if(Bh(t))return t;const r=t[Un];if(!r)return If(t,(s,i)=>nS(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Rf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),If(i,(a,l)=>nS(e,r,s,a,l,n,o)),Rf(e,s,!1),n&&e.patches_&&lo("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function nS(e,t,n,r,s,i,o){if(Sa(s)){const a=i&&t&&t.type_!==3&&!Gg(t.assigned_,r)?i.concat(r):void 0,l=jf(e,s,a);if(sk(n,r,l),Sa(l))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(ao(s)&&!Bh(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;jf(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Rf(e,s)}}function Rf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cc(t,n)}function L6(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ik(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=kv;n&&(s=[r],i=Nc);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var kv={get(e,t){if(t===Un)return e;const n=Mi(e);if(!Gg(n,t))return F6(e,n,t);const r=n[t];return e.finalized_||!ao(r)?r:r===sm(e.base_,t)?(im(e),e.copy_[t]=Qg(r,e)):r},has(e,t){return t in Mi(e)},ownKeys(e){return Reflect.ownKeys(Mi(e))},set(e,t,n){const r=ok(Mi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=sm(Mi(e),t),i=s==null?void 0:s[Un];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(M6(n,s)&&(n!==void 0||Gg(e.base_,t)))return!0;im(e),Zg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,im(e),Zg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Mi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ir(11)},getPrototypeOf(e){return ba(e.base_)},setPrototypeOf(){Ir(12)}},Nc={};If(kv,(e,t)=>{Nc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nc.deleteProperty=function(e,t){return Nc.set.call(this,e,t,void 0)};Nc.set=function(e,t,n){return kv.set.call(this,e[0],t,n,e[0])};function sm(e,t){const n=e[Un];return(n?Mi(n):e)[t]}function F6(e,t,n){var s;const r=ok(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function ok(e,t){if(!(t in e))return;let n=ba(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ba(n)}}function Zg(e){e.modified_||(e.modified_=!0,e.parent_&&Zg(e.parent_))}function im(e){e.copy_||(e.copy_=Yg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(l=i,...u){return o.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&Ir(6),r!==void 0&&typeof r!="function"&&Ir(7);let s;if(ao(t)){const i=eS(this),o=Qg(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?Kg(i):Xg(i)}return Jb(i,r),tS(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===nk&&(s=void 0),this.autoFreeze_&&Cc(s,!0),r){const i=[],o=[];lo("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else Ir(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,s;return[this.produce(t,n,(o,a)=>{r=o,s=a}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ao(e)||Ir(8),Sa(e)&&(e=U6(e));const t=eS(this),n=Qg(e,void 0);return n[Un].isManual_=!0,Xg(t),n}finishDraft(e,t){const n=e&&e[Un];(!n||!n.isManual_)&&Ir(9);const{scope_:r}=n;return Jb(r,t),tS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=lo("Patches").applyPatches_;return Sa(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Qg(e,t){const n=$h(e)?lo("MapSet").proxyMap_(e,t):Uh(e)?lo("MapSet").proxySet_(e,t):L6(e,t);return(t?t.scope_:ik()).drafts_.push(n),n}function U6(e){return Sa(e)||Ir(10,e),ak(e)}function ak(e){if(!ao(e)||Bh(e))return e;const t=e[Un];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Yg(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Yg(e,!0);return If(n,(r,s)=>{sk(n,r,ak(s))}),t&&(t.finalized_=!1),n}var Bn=new $6,wa=Bn.produce;Bn.produceWithPatches.bind(Bn);Bn.setAutoFreeze.bind(Bn);Bn.setUseStrictShallowCopy.bind(Bn);Bn.applyPatches.bind(Bn);Bn.createDraft.bind(Bn);Bn.finishDraft.bind(Bn);const lk=({totalClipDuration:e})=>{const{register:t,watch:n}=Wn(),r=n("maxDuration");return c.jsxs("div",{children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Compilation length"})}),c.jsx("input",{type:"range",className:"range range-primary w-full",min:0,max:e,...t("maxDuration",{valueAsNumber:!0})}),c.jsxs("div",{className:"text-xs text-center",children:[at(r,"short")," /"," ",at(e,"short")]})]})},ck=()=>{const{register:e}=Wn();return c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Minimum clip length (seconds)"})}),c.jsx("input",{type:"number",className:"input input-bordered w-full",required:!0,min:"0",step:"0.1",...e("minClipDuration",{valueAsNumber:!0})})]})},uk=()=>{const{register:e}=Wn();return c.jsxs("div",{children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Clip duration spread"})}),c.jsx("input",{type:"range",className:"range range-primary w-full",min:0,max:1,step:.05,...e("clipDurationSpread",{valueAsNumber:!0})}),c.jsxs("div",{className:"text-xs flex justify-between",children:[c.jsx("span",{children:"Clips have same length"}),c.jsx("span",{children:"Clips have random length"})]})]})},dk=({strategy:e})=>{const{register:t,watch:n}=Wn(),r=n(`${e}.clipLengths.cutAfterMeasures.type`);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Beats per measure"})}),c.jsx("input",{type:"hidden",...t(`${e}.clipLengths.type`,{value:"songs"})}),c.jsx("input",{type:"number",className:"input input-bordered",required:!0,...t(`${e}.clipLengths.beatsPerMeasure`,{valueAsNumber:!0})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Cut after ... measures"})}),c.jsxs("select",{className:"select select-bordered",...t(`${e}.clipLengths.cutAfterMeasures.type`),children:[c.jsx("option",{disabled:!0,value:"none",children:"Select how to cut..."}),c.jsx("option",{value:"random",children:"Randomized"}),c.jsx("option",{value:"fixed",children:"Fixed"})]})]}),r==="fixed"&&c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label cursor-pointer",children:c.jsx("span",{className:"label-text",children:"Cut after how many measures?"})}),c.jsx("input",{type:"number",className:"input input-bordered",required:!0,...t(`${e}.clipLengths.cutAfterMeasures.count`,{valueAsNumber:!0})})]}),r==="random"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label cursor-pointer",children:c.jsx("span",{className:"label-text",children:"Minimum"})}),c.jsx("input",{type:"number",className:"input input-bordered",required:!0,...t(`${e}.clipLengths.cutAfterMeasures.min`,{valueAsNumber:!0})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label cursor-pointer",children:c.jsx("span",{className:"label-text",children:"Maximum"})}),c.jsx("input",{type:"number",className:"input input-bordered",required:!0,...t(`${e}.clipLengths.cutAfterMeasures.max`,{valueAsNumber:!0})})]})]})]})},fk=({strategy:e,totalClipDuration:t})=>{const{register:n}=Wn();return c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"hidden",...n(`${e}.clipLengths.type`,{value:"randomized"})}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Maximum clip length (seconds)"})}),c.jsx("input",{type:"number",className:"input input-bordered w-full",required:!0,...n(`${e}.clipLengths.baseDuration`,{valueAsNumber:!0})})]}),c.jsx(lk,{totalClipDuration:t}),c.jsx(ck,{}),c.jsx(uk,{})]})},B6=({totalClipDuration:e})=>{var i;const{state:t}=Ft(),{watch:n}=Wn(),r=((i=t.data.songs)==null?void 0:i.length)||!1,s=n("useMusic");return c.jsx(c.Fragment,{children:s&&r?c.jsx(dk,{strategy:"roundRobin"}):c.jsx(fk,{strategy:"roundRobin",totalClipDuration:e})})};var hk={exports:{}};(function(e){(function(t,n,r){if(!t)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,u=1;u<20;++u)s[111+u]="f"+u;for(u=0;u<=9;++u)s[u+96]=u.toString();function d(x,_,T){if(x.addEventListener){x.addEventListener(_,T,!1);return}x.attachEvent("on"+_,T)}function f(x){if(x.type=="keypress"){var _=String.fromCharCode(x.which);return x.shiftKey||(_=_.toLowerCase()),_}return s[x.which]?s[x.which]:i[x.which]?i[x.which]:String.fromCharCode(x.which).toLowerCase()}function h(x,_){return x.sort().join(",")===_.sort().join(",")}function p(x){var _=[];return x.shiftKey&&_.push("shift"),x.altKey&&_.push("alt"),x.ctrlKey&&_.push("ctrl"),x.metaKey&&_.push("meta"),_}function m(x){if(x.preventDefault){x.preventDefault();return}x.returnValue=!1}function y(x){if(x.stopPropagation){x.stopPropagation();return}x.cancelBubble=!0}function b(x){return x=="shift"||x=="ctrl"||x=="alt"||x=="meta"}function v(){if(!l){l={};for(var x in s)x>95&&x<112||s.hasOwnProperty(x)&&(l[s[x]]=x)}return l}function g(x,_,T){return T||(T=v()[x]?"keydown":"keypress"),T=="keypress"&&_.length&&(T="keydown"),T}function S(x){return x==="+"?["+"]:(x=x.replace(/\+{2}/g,"+plus"),x.split("+"))}function E(x,_){var T,I,M,R=[];for(T=S(x),M=0;M<T.length;++M)I=T[M],a[I]&&(I=a[I]),_&&_!="keypress"&&o[I]&&(I=o[I],R.push("shift")),b(I)&&R.push(I);return _=g(I,R,_),{key:I,modifiers:R,action:_}}function C(x,_){return x===null||x===n?!1:x===_?!0:C(x.parentNode,_)}function k(x){var _=this;if(x=x||n,!(_ instanceof k))return new k(x);_.target=x,_._callbacks={},_._directMap={};var T={},I,M=!1,R=!1,$=!1;function L(B){B=B||{};var te=!1,fe;for(fe in T){if(B[fe]){te=!0;continue}T[fe]=0}te||($=!1)}function H(B,te,fe,oe,ae,J){var z,xe,Pe=[],Te=fe.type;if(!_._callbacks[B])return[];for(Te=="keyup"&&b(B)&&(te=[B]),z=0;z<_._callbacks[B].length;++z)if(xe=_._callbacks[B][z],!(!oe&&xe.seq&&T[xe.seq]!=xe.level)&&Te==xe.action&&(Te=="keypress"&&!fe.metaKey&&!fe.ctrlKey||h(te,xe.modifiers))){var X=!oe&&xe.combo==ae,ee=oe&&xe.seq==oe&&xe.level==J;(X||ee)&&_._callbacks[B].splice(z,1),Pe.push(xe)}return Pe}function W(B,te,fe,oe){_.stopCallback(te,te.target||te.srcElement,fe,oe)||B(te,fe)===!1&&(m(te),y(te))}_._handleKey=function(B,te,fe){var oe=H(B,te,fe),ae,J={},z=0,xe=!1;for(ae=0;ae<oe.length;++ae)oe[ae].seq&&(z=Math.max(z,oe[ae].level));for(ae=0;ae<oe.length;++ae){if(oe[ae].seq){if(oe[ae].level!=z)continue;xe=!0,J[oe[ae].seq]=1,W(oe[ae].callback,fe,oe[ae].combo,oe[ae].seq);continue}xe||W(oe[ae].callback,fe,oe[ae].combo)}var Pe=fe.type=="keypress"&&R;fe.type==$&&!b(B)&&!Pe&&L(J),R=xe&&fe.type=="keydown"};function ie(B){typeof B.which!="number"&&(B.which=B.keyCode);var te=f(B);if(te){if(B.type=="keyup"&&M===te){M=!1;return}_.handleKey(te,p(B),B)}}function A(){clearTimeout(I),I=setTimeout(L,1e3)}function V(B,te,fe,oe){T[B]=0;function ae(Te){return function(){$=Te,++T[B],A()}}function J(Te){W(fe,Te,B),oe!=="keyup"&&(M=f(Te)),setTimeout(L,10)}for(var z=0;z<te.length;++z){var xe=z+1===te.length,Pe=xe?J:ae(oe||E(te[z+1]).action);ne(te[z],Pe,oe,B,z)}}function ne(B,te,fe,oe,ae){_._directMap[B+":"+fe]=te,B=B.replace(/\s+/g," ");var J=B.split(" "),z;if(J.length>1){V(B,J,te,fe);return}z=E(B,fe),_._callbacks[z.key]=_._callbacks[z.key]||[],H(z.key,z.modifiers,{type:z.action},oe,B,ae),_._callbacks[z.key][oe?"unshift":"push"]({callback:te,modifiers:z.modifiers,action:z.action,seq:oe,level:ae,combo:B})}_._bindMultiple=function(B,te,fe){for(var oe=0;oe<B.length;++oe)ne(B[oe],te,fe)},d(x,"keypress",ie),d(x,"keydown",ie),d(x,"keyup",ie)}k.prototype.bind=function(x,_,T){var I=this;return x=x instanceof Array?x:[x],I._bindMultiple.call(I,x,_,T),I},k.prototype.unbind=function(x,_){var T=this;return T.bind.call(T,x,function(){},_)},k.prototype.trigger=function(x,_){var T=this;return T._directMap[x+":"+_]&&T._directMap[x+":"+_]({},x),T},k.prototype.reset=function(){var x=this;return x._callbacks={},x._directMap={},x},k.prototype.stopCallback=function(x,_){var T=this;if((" "+_.className+" ").indexOf(" mousetrap ")>-1||C(_,T.target))return!1;if("composedPath"in x&&typeof x.composedPath=="function"){var I=x.composedPath()[0];I!==x.target&&(_=I)}return _.tagName=="INPUT"||_.tagName=="SELECT"||_.tagName=="TEXTAREA"||_.isContentEditable},k.prototype.handleKey=function(){var x=this;return x._handleKey.apply(x,arguments)},k.addKeycodes=function(x){for(var _ in x)x.hasOwnProperty(_)&&(s[_]=x[_]);l=null},k.init=function(){var x=k(n);for(var _ in x)_.charAt(0)!=="_"&&(k[_]=function(T){return function(){return x[T].apply(x,arguments)}}(_))},k.init(),t.Mousetrap=k,e.exports&&(e.exports=k)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(hk);var H6=hk.exports;const rS=zc(H6),Qn=(e,t,n)=>{w.useEffect(()=>(rS.bind(e,(r,s)=>{t(r,s)},n),()=>{rS.unbind(e)}),[e,n,t])};var Cv=nu(),Re=e=>tu(e,Cv),Tv=nu();Re.write=e=>tu(e,Tv);var Hh=nu();Re.onStart=e=>tu(e,Hh);var Nv=nu();Re.onFrame=e=>tu(e,Nv);var Iv=nu();Re.onFinish=e=>tu(e,Iv);var ia=[];Re.setTimeout=(e,t)=>{const n=Re.now()+t,r=()=>{const i=ia.findIndex(o=>o.cancel==r);~i&&ia.splice(i,1),Zs-=~i?1:0},s={time:n,handler:e,cancel:r};return ia.splice(pk(n),0,s),Zs+=1,mk(),s};var pk=e=>~(~ia.findIndex(t=>t.time>e)||~ia.length);Re.cancel=e=>{Hh.delete(e),Nv.delete(e),Iv.delete(e),Cv.delete(e),Tv.delete(e)};Re.sync=e=>{Jg=!0,Re.batchedUpdates(e),Jg=!1};Re.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,Re.onStart(n)}return r.handler=e,r.cancel=()=>{Hh.delete(n),t=null},r};var jv=typeof window<"u"?window.requestAnimationFrame:()=>{};Re.use=e=>jv=e;Re.now=typeof performance<"u"?()=>performance.now():Date.now;Re.batchedUpdates=e=>e();Re.catch=console.error;Re.frameLoop="always";Re.advance=()=>{Re.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):yk()};var Xs=-1,Zs=0,Jg=!1;function tu(e,t){Jg?(t.delete(e),e(0)):(t.add(e),mk())}function mk(){Xs<0&&(Xs=0,Re.frameLoop!=="demand"&&jv(gk))}function V6(){Xs=-1}function gk(){~Xs&&(jv(gk),Re.batchedUpdates(yk))}function yk(){const e=Xs;Xs=Re.now();const t=pk(Xs);if(t&&(vk(ia.splice(0,t),n=>n.handler()),Zs-=t),!Zs){V6();return}Hh.flush(),Cv.flush(e?Math.min(64,Xs-e):16.667),Nv.flush(),Tv.flush(),Iv.flush()}function nu(){let e=new Set,t=e;return{add(n){Zs+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Zs-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Zs-=t.size,vk(t,r=>r(n)&&e.add(r)),Zs+=e.size,t=e)}}}function vk(e,t){e.forEach(n=>{try{t(n)}catch(r){Re.catch(r)}})}var z6=Object.defineProperty,W6=(e,t)=>{for(var n in t)z6(e,n,{get:t[n],enumerable:!0})},Or={};W6(Or,{assign:()=>G6,colors:()=>oi,createStringInterpolator:()=>Mv,skipAnimation:()=>bk,to:()=>xk,willAdvance:()=>Dv});function e0(){}var q6=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Q={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function ls(e,t){if(Q.arr(e)){if(!Q.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Le=(e,t)=>e.forEach(t);function Jr(e,t,n){if(Q.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var hn=e=>Q.und(e)?[]:Q.arr(e)?e:[e];function Gl(e,t){if(e.size){const n=Array.from(e);e.clear(),Le(n,t)}}var Rl=(e,...t)=>Gl(e,n=>n(...t)),Rv=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Mv,xk,oi=null,bk=!1,Dv=e0,G6=e=>{e.to&&(xk=e.to),e.now&&(Re.now=e.now),e.colors!==void 0&&(oi=e.colors),e.skipAnimation!=null&&(bk=e.skipAnimation),e.createStringInterpolator&&(Mv=e.createStringInterpolator),e.requestAnimationFrame&&Re.use(e.requestAnimationFrame),e.batchedUpdates&&(Re.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Dv=e.willAdvance),e.frameLoop&&(Re.frameLoop=e.frameLoop)},Yl=new Set,rr=[],om=[],Mf=0,Vh={get idle(){return!Yl.size&&!rr.length},start(e){Mf>e.priority?(Yl.add(e),Re.onStart(Y6)):(Sk(e),Re(t0))},advance:t0,sort(e){if(Mf)Re.onFrame(()=>Vh.sort(e));else{const t=rr.indexOf(e);~t&&(rr.splice(t,1),wk(e))}},clear(){rr=[],Yl.clear()}};function Y6(){Yl.forEach(Sk),Yl.clear(),Re(t0)}function Sk(e){rr.includes(e)||wk(e)}function wk(e){rr.splice(K6(rr,t=>t.priority>e.priority),0,e)}function t0(e){const t=om;for(let n=0;n<rr.length;n++){const r=rr[n];Mf=r.priority,r.idle||(Dv(r),r.advance(e),r.idle||t.push(r))}return Mf=0,om=rr,om.length=0,rr=t,rr.length>0}function K6(e,t){const n=e.findIndex(t);return n<0?e.length:n}var X6={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},jr="[-+]?\\d*\\.?\\d+",Df=jr+"%";function zh(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Z6=new RegExp("rgb"+zh(jr,jr,jr)),Q6=new RegExp("rgba"+zh(jr,jr,jr,jr)),J6=new RegExp("hsl"+zh(jr,Df,Df)),e8=new RegExp("hsla"+zh(jr,Df,Df,jr)),t8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,n8=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,r8=/^#([0-9a-fA-F]{6})$/,s8=/^#([0-9a-fA-F]{8})$/;function i8(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=r8.exec(e))?parseInt(t[1]+"ff",16)>>>0:oi&&oi[e]!==void 0?oi[e]:(t=Z6.exec(e))?(Ro(t[1])<<24|Ro(t[2])<<16|Ro(t[3])<<8|255)>>>0:(t=Q6.exec(e))?(Ro(t[1])<<24|Ro(t[2])<<16|Ro(t[3])<<8|oS(t[4]))>>>0:(t=t8.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=s8.exec(e))?parseInt(t[1],16)>>>0:(t=n8.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=J6.exec(e))?(sS(iS(t[1]),Gu(t[2]),Gu(t[3]))|255)>>>0:(t=e8.exec(e))?(sS(iS(t[1]),Gu(t[2]),Gu(t[3]))|oS(t[4]))>>>0:null}function am(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sS(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=am(s,r,e+1/3),o=am(s,r,e),a=am(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Ro(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function iS(e){return(parseFloat(e)%360+360)%360/360}function oS(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Gu(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function aS(e){let t=i8(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var Ic=(e,t,n)=>{if(Q.fun(e))return e;if(Q.arr(e))return Ic({range:e,output:t,extrapolate:n});if(Q.str(e.output[0]))return Mv(e);const r=e,s=r.output,i=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const d=a8(u,i);return o8(u,i[d],i[d+1],s[d],s[d+1],l,o,a,r.map)}};function o8(e,t,n,r,s,i,o,a,l){let u=l?l(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=i(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function a8(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var l8={linear:e=>e},jc=Symbol.for("FluidValue.get"),_a=Symbol.for("FluidValue.observers"),Jn=e=>!!(e&&e[jc]),wn=e=>e&&e[jc]?e[jc]():e,lS=e=>e[_a]||null;function c8(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Rc(e,t){const n=e[_a];n&&n.forEach(r=>{c8(r,t)})}var _k=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");u8(this,e)}},u8=(e,t)=>Ek(e,jc,t);function Ha(e,t){if(e[jc]){let n=e[_a];n||Ek(e,_a,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Mc(e,t){const n=e[_a];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[_a]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Ek=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Cd=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,d8=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,cS=new RegExp(`(${Cd.source})(%|[a-z]+)`,"i"),f8=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Wh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,kk=e=>{const[t,n]=h8(e);if(!t||Rv())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&Wh.test(n))return kk(n);if(n)return n}return e},h8=e=>{const t=Wh.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},lm,p8=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,Ck=e=>{lm||(lm=oi?new RegExp(`(${Object.keys(oi).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>wn(i).replace(Wh,kk).replace(d8,aS).replace(lm,aS)),n=t.map(i=>i.match(Cd).map(Number)),s=n[0].map((i,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(i=>Ic({...e,output:i}));return i=>{var l;const o=!cS.test(t[0])&&((l=t.find(u=>cS.test(u)))==null?void 0:l.replace(Cd,""));let a=0;return t[0].replace(Cd,()=>`${s[a++](i)}${o||""}`).replace(f8,p8)}},Ov="react-spring: ",Tk=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Ov}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},m8=Tk(console.warn);function g8(){m8(`${Ov}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var y8=Tk(console.warn);function v8(){y8(`${Ov}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function qh(e){return Q.str(e)&&(e[0]=="#"||/\d/.test(e)||!Rv()&&Wh.test(e)||e in(oi||{}))}var Go=Rv()?w.useEffect:w.useLayoutEffect,x8=()=>{const e=w.useRef(!1);return Go(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Nk(){const e=w.useState()[1],t=x8();return()=>{t.current&&e(Math.random())}}function b8(e,t){const[n]=w.useState(()=>({inputs:t,result:e()})),r=w.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&S8(t,i.inputs)||(i={inputs:t,result:e()}):i=n,w.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function S8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Ik=e=>w.useEffect(e,w8),w8=[];function _8(e){const t=w.useRef();return w.useEffect(()=>{t.current=e}),t.current}var Dc=Symbol.for("Animated:node"),E8=e=>!!e&&e[Dc]===e,zr=e=>e&&e[Dc],Pv=(e,t)=>q6(e,Dc,t),Gh=e=>e&&e[Dc]&&e[Dc].getPayload(),jk=class{constructor(){Pv(this,this)}getPayload(){return this.payload||[]}},ru=class extends jk{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Q.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new ru(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Q.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Q.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Oc=class extends ru{constructor(e){super(0),this._string=null,this._toString=Ic({output:[e,e]})}static create(e){return new Oc(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Q.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Ic({output:[this.getValue(),e]})),this._value=0,super.reset()}},Of={dependencies:null},Yh=class extends jk{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Jr(this.source,(n,r)=>{E8(n)?t[r]=n.getValue(e):Jn(n)?t[r]=wn(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Le(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Jr(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Of.dependencies&&Jn(e)&&Of.dependencies.add(e);const t=Gh(e);t&&Le(t,n=>this.add(n))}},Rk=class extends Yh{constructor(e){super(e)}static create(e){return new Rk(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(k8)),!0)}};function k8(e){return(qh(e)?Oc:ru).create(e)}function n0(e){const t=zr(e);return t?t.constructor:Q.arr(e)?Rk:qh(e)?Oc:ru}var uS=(e,t)=>{const n=!Q.fun(e)||e.prototype&&e.prototype.isReactComponent;return w.forwardRef((r,s)=>{const i=w.useRef(null),o=n&&w.useCallback(m=>{i.current=N8(s,m)},[s]),[a,l]=T8(r,t),u=Nk(),d=()=>{const m=i.current;if(n&&!m)return;(m?t.applyAnimatedValues(m,a.getValue(!0)):!1)===!1&&u()},f=new C8(d,l),h=w.useRef();Go(()=>(h.current=f,Le(l,m=>Ha(m,f)),()=>{h.current&&(Le(h.current.deps,m=>Mc(m,h.current)),Re.cancel(h.current.update))})),w.useEffect(d,[]),Ik(()=>()=>{const m=h.current;Le(m.deps,y=>Mc(y,m))});const p=t.getComponentProps(a.getValue());return w.createElement(e,{...p,ref:o})})},C8=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Re.write(this.update)}};function T8(e,t){const n=new Set;return Of.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Yh(e),Of.dependencies=null,[e,n]}function N8(e,t){return e&&(Q.fun(e)?e(t):e.current=t),t}var dS=Symbol.for("AnimatedComponent"),I8=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new Yh(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=o=>{const a=fS(o)||"Anonymous";return Q.str(o)?o=i[o]||(i[o]=uS(o,s)):o=o[dS]||(o[dS]=uS(o,s)),o.displayName=`Animated(${a})`,o};return Jr(e,(o,a)=>{Q.arr(e)&&(a=fS(o)),i[a]=i(o)}),{animated:i}},fS=e=>Q.str(e)?e:e&&Q.str(e.displayName)?e.displayName:Q.fun(e)&&e.name||null;function _n(e,...t){return Q.fun(e)?e(...t):e}var Kl=(e,t)=>e===!0||!!(t&&e&&(Q.fun(e)?e(t):hn(e).includes(t))),Mk=(e,t)=>Q.obj(e)?t&&e[t]:e,Dk=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,j8=e=>e,Av=(e,t=j8)=>{let n=R8;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);Q.und(i)||(r[s]=i)}return r},R8=["config","onProps","onStart","onChange","onPause","onResume","onRest"],M8={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function D8(e){const t={};let n=0;if(Jr(e,(r,s)=>{M8[s]||(t[s]=r,n++)}),n)return t}function Lv(e){const t=D8(e);if(t){const n={to:t};return Jr(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function Pc(e){return e=wn(e),Q.arr(e)?e.map(Pc):qh(e)?Or.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function O8(e){for(const t in e)return!0;return!1}function r0(e){return Q.fun(e)||Q.arr(e)&&Q.obj(e[0])}function hS(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function P8(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var A8={default:{tension:170,friction:26}},s0={...A8.default,mass:1,damping:1,easing:l8.linear,clamp:!1},L8=class{constructor(){this.velocity=0,Object.assign(this,s0)}};function F8(e,t,n){n&&(n={...n},pS(n,t),t={...n,...t}),pS(e,t),Object.assign(e,t);for(const o in s0)e[o]==null&&(e[o]=s0[o]);let{frequency:r,damping:s}=e;const{mass:i}=e;return Q.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*s*i/r),e}function pS(e,t){if(!Q.und(t.decay))e.duration=void 0;else{const n=!Q.und(t.tension)||!Q.und(t.friction);(n||!Q.und(t.frequency)||!Q.und(t.damping)||!Q.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var mS=[],$8=class{constructor(){this.changed=!1,this.values=mS,this.toValues=null,this.fromValues=mS,this.config=new L8,this.immediate=!1}};function Ok(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((o,a)=>{let l,u,d=Kl(n.cancel??(r==null?void 0:r.cancel),t);if(d)p();else{Q.und(n.pause)||(s.paused=Kl(n.pause,t));let m=r==null?void 0:r.pause;m!==!0&&(m=s.paused||Kl(m,t)),l=_n(n.delay||0,t),m?(s.resumeQueue.add(h),i.pause()):(i.resume(),h())}function f(){s.resumeQueue.add(h),s.timeouts.delete(u),u.cancel(),l=u.time-Re.now()}function h(){l>0&&!Or.skipAnimation?(s.delayed=!0,u=Re.setTimeout(p,l),s.pauseQueue.add(f),s.timeouts.add(u)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(f),s.timeouts.delete(u),e<=(s.cancelId||0)&&(d=!0);try{i.start({...n,callId:e,cancel:d},o)}catch(m){a(m)}}})}var Fv=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?oa(e.get()):t.every(n=>n.noop)?Pk(e.get()):_r(e.get(),t.every(n=>n.finished)),Pk=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),_r=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),oa=e=>({value:e,cancelled:!0,finished:!1});function Ak(e,t,n,r){const{callId:s,parentId:i,onRest:o}=t,{asyncTo:a,promise:l}=n;return!i&&e===a&&!t.reset?l:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const u=Av(t,(b,v)=>v==="onRest"?void 0:b);let d,f;const h=new Promise((b,v)=>(d=b,f=v)),p=b=>{const v=s<=(n.cancelId||0)&&oa(r)||s!==n.asyncId&&_r(r,!1);if(v)throw b.result=v,f(b),b},m=(b,v)=>{const g=new gS,S=new yS;return(async()=>{if(Or.skipAnimation)throw Ac(n),S.result=_r(r,!1),f(S),S;p(g);const E=Q.obj(b)?{...b}:{...v,to:b};E.parentId=s,Jr(u,(k,x)=>{Q.und(E[x])&&(E[x]=k)});const C=await r.start(E);return p(g),n.paused&&await new Promise(k=>{n.resumeQueue.add(k)}),C})()};let y;if(Or.skipAnimation)return Ac(n),_r(r,!1);try{let b;Q.arr(e)?b=(async v=>{for(const g of v)await m(g)})(e):b=Promise.resolve(e(m,r.stop.bind(r))),await Promise.all([b.then(d),h]),y=_r(r.get(),!0,!1)}catch(b){if(b instanceof gS)y=b.result;else if(b instanceof yS)y=b.result;else throw b}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?a:void 0,n.promise=i?l:void 0)}return Q.fun(o)&&Re.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function Ac(e,t){Gl(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var gS=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},yS=class extends Error{constructor(){super("SkipAnimationSignal")}},i0=e=>e instanceof $v,U8=1,$v=class extends _k{constructor(){super(...arguments),this.id=U8++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=zr(this);return e&&e.getValue()}to(...e){return Or.to(this,e)}interpolate(...e){return g8(),Or.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Rc(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Vh.sort(this),Rc(this,{type:"priority",parent:this,priority:e})}},co=Symbol.for("SpringPhase"),Lk=1,o0=2,a0=4,cm=e=>(e[co]&Lk)>0,Os=e=>(e[co]&o0)>0,vl=e=>(e[co]&a0)>0,vS=(e,t)=>t?e[co]|=o0|Lk:e[co]&=~o0,xS=(e,t)=>t?e[co]|=a0:e[co]&=~a0,B8=class extends $v{constructor(e,t){if(super(),this.animation=new $8,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Q.und(e)||!Q.und(t)){const n=Q.obj(e)?{...e}:{...t,from:e};Q.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Os(this)||this._state.asyncTo)||vl(this)}get goal(){return wn(this.animation.to)}get velocity(){const e=zr(this);return e instanceof ru?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return cm(this)}get isAnimating(){return Os(this)}get isPaused(){return vl(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,o=Gh(r.to);!o&&Jn(r.to)&&(s=hn(wn(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const f=u.constructor==Oc?1:o?o[d].lastPosition:s[d];let h=r.immediate,p=f;if(!h){if(p=u.lastPosition,i.tension<=0){u.done=!0;return}let m=u.elapsedTime+=e;const y=r.fromValues[d],b=u.v0!=null?u.v0:u.v0=Q.arr(i.velocity)?i.velocity[d]:i.velocity;let v;const g=i.precision||(y==f?.005:Math.min(1,Math.abs(f-y)*.001));if(Q.und(i.duration))if(i.decay){const S=i.decay===!0?.998:i.decay,E=Math.exp(-(1-S)*m);p=y+b/(1-S)*(1-E),h=Math.abs(u.lastPosition-p)<=g,v=b*E}else{v=u.lastVelocity==null?b:u.lastVelocity;const S=i.restVelocity||g/10,E=i.clamp?0:i.bounce,C=!Q.und(E),k=y==f?u.v0>0:y<f;let x,_=!1;const T=1,I=Math.ceil(e/T);for(let M=0;M<I&&(x=Math.abs(v)>S,!(!x&&(h=Math.abs(f-p)<=g,h)));++M){C&&(_=p==f||p>f==k,_&&(v=-v*E,p=f));const R=-i.tension*1e-6*(p-f),$=-i.friction*.001*v,L=(R+$)/i.mass;v=v+L*T,p=p+v*T}}else{let S=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,m=u.elapsedTime+=e)),S=(i.progress||0)+m/this._memoizedDuration,S=S>1?1:S<0?0:S,u.durationProgress=S),p=y+i.easing(S)*(f-y),v=(p-u.lastPosition)/e,h=S==1}u.lastVelocity=v,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[d].done&&(h=!1),h?u.done=!0:t=!1,u.setValue(p,i.round)&&(n=!0)});const a=zr(this),l=a.getValue();if(t){const u=wn(r.to);(l!==u||n)&&!i.decay?(a.setValue(u),this._onChange(u)):n&&i.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return Re.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Os(this)){const{to:e,config:t}=this.animation;Re.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Q.und(e)?(n=this.queue||[],this.queue=[]):n=[Q.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Fv(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ac(this._state,e&&this._lastCallId),Re.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Q.obj(n)?n[t]:n,(n==null||r0(n))&&(n=void 0),r=Q.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return cm(this)||(e.reverse&&([n,r]=[r,n]),r=wn(r),Q.und(r)?zr(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Av(e,(o,a)=>/^on/.test(a)?Mk(o,n):o)),SS(this,e,"onProps"),bl(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return Ok(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{vl(this)||(xS(this,!0),Rl(i.pauseQueue),bl(this,"onPause",_r(this,xl(this,this.animation.to)),this))},resume:()=>{vl(this)&&(xS(this,!1),Os(this)&&this._resume(),Rl(i.resumeQueue),bl(this,"onResume",_r(this,xl(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=Fk(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(oa(this));const r=!Q.und(e.to),s=!Q.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(oa(this));const{key:i,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:d=l,from:f=u}=e;s&&!r&&(!t.default||Q.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const h=!ls(f,u);h&&(a.from=f),f=wn(f);const p=!ls(d,l);p&&this._focus(d);const m=r0(t.to),{config:y}=a,{decay:b,velocity:v}=y;(r||s)&&(y.velocity=0),t.config&&!m&&F8(y,_n(t.config,i),t.config!==o.config?_n(o.config,i):void 0);let g=zr(this);if(!g||Q.und(d))return n(_r(this,!0));const S=Q.und(t.reset)?s&&!t.default:!Q.und(f)&&Kl(t.reset,i),E=S?f:this.get(),C=Pc(d),k=Q.num(C)||Q.arr(C)||qh(C),x=!m&&(!k||Kl(o.immediate||t.immediate,i));if(p){const M=n0(d);if(M!==g.constructor)if(x)g=this._set(C);else throw Error(`Cannot animate between ${g.constructor.name} and ${M.name}, as the "to" prop suggests`)}const _=g.constructor;let T=Jn(d),I=!1;if(!T){const M=S||!cm(this)&&h;(p||M)&&(I=ls(Pc(E),C),T=!I),(!ls(a.immediate,x)&&!x||!ls(y.decay,b)||!ls(y.velocity,v))&&(T=!0)}if(I&&Os(this)&&(a.changed&&!S?T=!0:T||this._stop(l)),!m&&((T||Jn(l))&&(a.values=g.getPayload(),a.toValues=Jn(d)?null:_==Oc?[1]:hn(C)),a.immediate!=x&&(a.immediate=x,!x&&!S&&this._set(l)),T)){const{onRest:M}=a;Le(H8,$=>SS(this,t,$));const R=_r(this,xl(this,l));Rl(this._pendingCalls,R),this._pendingCalls.add(n),a.changed&&Re.batchedUpdates(()=>{var $;a.changed=!S,M==null||M(R,this),S?_n(o.onRest,R):($=a.onStart)==null||$.call(a,R,this)})}S&&this._set(E),m?n(Ak(t.to,t,this._state,this)):T?this._start():Os(this)&&!p?this._pendingCalls.add(n):n(Pk(E))}_focus(e){const t=this.animation;e!==t.to&&(lS(this)&&this._detach(),t.to=e,lS(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Jn(t)&&(Ha(t,this),i0(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Jn(e)&&Mc(e,this)}_set(e,t=!0){const n=wn(e);if(!Q.und(n)){const r=zr(this);if(!r||!ls(n,r.getValue())){const s=n0(n);!r||r.constructor!=s?Pv(this,s.create(n)):r.setValue(n),r&&Re.batchedUpdates(()=>{this._onChange(n,t)})}}return zr(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,bl(this,"onStart",_r(this,xl(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),_n(this.animation.onChange,e,this)),_n(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;zr(this).reset(wn(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Os(this)||(vS(this,!0),vl(this)||this._resume())}_resume(){Or.skipAnimation?this.finish():Vh.start(this)}_stop(e,t){if(Os(this)){vS(this,!1);const n=this.animation;Le(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Rc(this,{type:"idle",parent:this});const r=t?oa(this.get()):_r(this.get(),xl(this,e??n.to));Rl(this._pendingCalls,r),n.changed&&(n.changed=!1,bl(this,"onRest",r,this))}}};function xl(e,t){const n=Pc(t),r=Pc(e.get());return ls(r,n)}function Fk(e,t=e.loop,n=e.to){const r=_n(t);if(r){const s=r!==!0&&Lv(r),i=(s||e).reverse,o=!s||s.reset;return Pf({...e,loop:t,default:!1,pause:void 0,to:!i||r0(n)?n:void 0,from:o?e.from:void 0,reset:o,...s})}}function Pf(e){const{to:t,from:n}=e=Lv(e),r=new Set;return Q.obj(t)&&bS(t,r),Q.obj(n)&&bS(n,r),e.keys=r.size?Array.from(r):null,e}function bS(e,t){Jr(e,(n,r)=>n!=null&&t.add(r))}var H8=["onStart","onRest","onChange","onPause","onResume"];function SS(e,t,n){e.animation[n]=t[n]!==Dk(t,n)?Mk(t[n],e.key):void 0}function bl(e,t,...n){var r,s,i,o;(s=(r=e.animation)[t])==null||s.call(r,...n),(o=(i=e.defaultProps)[t])==null||o.call(i,...n)}var V8=["onStart","onChange","onRest"],z8=1,W8=class{constructor(e,t){this.id=z8++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];Q.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Pf(e)),this}start(e){let{queue:t}=this;return e?t=hn(e).map(Pf):this.queue=[],this._flush?this._flush(this,t):(Hk(this,t),q8(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Le(hn(t),r=>n[r].stop(!!e))}else Ac(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(Q.und(e))this.start({pause:!0});else{const t=this.springs;Le(hn(e),n=>t[n].pause())}return this}resume(e){if(Q.und(e))this.start({pause:!1});else{const t=this.springs;Le(hn(e),n=>t[n].resume())}return this}each(e){Jr(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,Gl(e,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const i=!r&&this._started,o=s||i&&n.size?this.get():null;s&&t.size&&Gl(t,([a,l])=>{l.value=o,a(l,this,this._item)}),i&&(this._started=!1,Gl(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Re.onFrame(this._onFrame)}};function q8(e,t){return Promise.all(t.map(n=>$k(e,n))).then(n=>Fv(e,n))}async function $k(e,t,n){const{keys:r,to:s,from:i,loop:o,onRest:a,onResolve:l}=t,u=Q.obj(t.default)&&t.default;o&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const d=Q.arr(s)||Q.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):Le(V8,y=>{const b=t[y];if(Q.fun(b)){const v=e._events[y];t[y]=({finished:g,cancelled:S})=>{const E=v.get(b);E?(g||(E.finished=!1),S&&(E.cancelled=!0)):v.set(b,{value:null,finished:g||!1,cancelled:S||!1})},u&&(u[y]=t[y])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,Rl(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map(y=>e.springs[y].start(t)),p=t.cancel===!0||Dk(t,"cancel")===!0;(d||p&&f.asyncId)&&h.push(Ok(++e._lastAsyncId,{props:t,state:f,actions:{pause:e0,resume:e0,start(y,b){p?(Ac(f,e._lastAsyncId),b(oa(e))):(y.onRest=a,b(Ak(d,y,f,e)))}}})),f.paused&&await new Promise(y=>{f.resumeQueue.add(y)});const m=Fv(e,await Promise.all(h));if(o&&m.finished&&!(n&&m.noop)){const y=Fk(t,o,s);if(y)return Hk(e,[y]),$k(e,y,!0)}return l&&Re.batchedUpdates(()=>l(m,e,e.item)),m}function G8(e,t){const n={...e.springs};return t&&Le(hn(t),r=>{Q.und(r.keys)&&(r=Pf(r)),Q.obj(r.to)||(r={...r,to:void 0}),Bk(n,r,s=>Uk(s))}),Y8(e,n),n}function Y8(e,t){Jr(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Ha(n,e))})}function Uk(e,t){const n=new B8;return n.key=e,t&&Ha(n,t),n}function Bk(e,t,n){t.keys&&Le(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Hk(e,t){Le(t,n=>{Bk(e.springs,n,r=>Uk(r,e))})}var Kh=({children:e,...t})=>{const n=w.useContext(Af),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=b8(()=>({pause:r,immediate:s}),[r,s]);const{Provider:i}=Af;return w.createElement(i,{value:t},e)},Af=K8(Kh,{});Kh.Provider=Af.Provider;Kh.Consumer=Af.Consumer;function K8(e,t){return Object.assign(e,w.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var X8=()=>{const e=[],t=function(r){v8();const s=[];return Le(e,(i,o)=>{if(Q.und(r))s.push(i.start());else{const a=n(r,i,o);a&&s.push(i.start(a))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return Le(e,r=>r.pause(...arguments)),this},t.resume=function(){return Le(e,r=>r.resume(...arguments)),this},t.set=function(r){Le(e,(s,i)=>{const o=Q.fun(r)?r(i,s):r;o&&s.set(o)})},t.start=function(r){const s=[];return Le(e,(i,o)=>{if(Q.und(r))s.push(i.start());else{const a=this._getProps(r,i,o);a&&s.push(i.start(a))}}),s},t.stop=function(){return Le(e,r=>r.stop(...arguments)),this},t.update=function(r){return Le(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return Q.fun(r)?r(i,s):r};return t._getProps=n,t};function Z8(e,t,n){const r=Q.fun(t)&&t,{reset:s,sort:i,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:d,config:f}=r?r():t,h=w.useMemo(()=>r||arguments.length==3?X8():void 0,[]),p=hn(e),m=[],y=w.useRef(null),b=s?null:y.current;Go(()=>{y.current=m}),Ik(()=>(Le(m,L=>{h==null||h.add(L.ctrl),L.ctrl.ref=h}),()=>{Le(y.current,L=>{L.expired&&clearTimeout(L.expirationId),hS(L.ctrl,h),L.ctrl.stop(!0)})}));const v=J8(p,r?r():t,b),g=s&&y.current||[];Go(()=>Le(g,({ctrl:L,item:H,key:W})=>{hS(L,h),_n(u,H,W)}));const S=[];if(b&&Le(b,(L,H)=>{L.expired?(clearTimeout(L.expirationId),g.push(L)):(H=S[H]=v.indexOf(L.key),~H&&(m[H]=L))}),Le(p,(L,H)=>{m[H]||(m[H]={key:v[H],item:L,phase:"mount",ctrl:new W8},m[H].ctrl.item=L)}),S.length){let L=-1;const{leave:H}=r?r():t;Le(S,(W,ie)=>{const A=b[ie];~W?(L=m.indexOf(A),m[L]={...A,item:p[W]}):H&&m.splice(++L,0,A)})}Q.fun(i)&&m.sort((L,H)=>i(L.item,H.item));let E=-o;const C=Nk(),k=Av(t),x=new Map,_=w.useRef(new Map),T=w.useRef(!1);Le(m,(L,H)=>{const W=L.key,ie=L.phase,A=r?r():t;let V,ne;const B=_n(A.delay||0,W);if(ie=="mount")V=A.enter,ne="enter";else{const ae=v.indexOf(W)<0;if(ie!="leave")if(ae)V=A.leave,ne="leave";else if(V=A.update)ne="update";else return;else if(!ae)V=A.enter,ne="enter";else return}if(V=_n(V,L.item,H),V=Q.obj(V)?Lv(V):{to:V},!V.config){const ae=f||k.config;V.config=_n(ae,L.item,H,ne)}E+=o;const te={...k,delay:B+E,ref:d,immediate:A.immediate,reset:!1,...V};if(ne=="enter"&&Q.und(te.from)){const ae=r?r():t,J=Q.und(ae.initial)||b?ae.from:ae.initial;te.from=_n(J,L.item,H)}const{onResolve:fe}=te;te.onResolve=ae=>{_n(fe,ae);const J=y.current,z=J.find(xe=>xe.key===W);if(z&&!(ae.cancelled&&z.phase!="update")&&z.ctrl.idle){const xe=J.every(Pe=>Pe.ctrl.idle);if(z.phase=="leave"){const Pe=_n(a,z.item);if(Pe!==!1){const Te=Pe===!0?0:Pe;if(z.expired=!0,!xe&&Te>0){Te<=2147483647&&(z.expirationId=setTimeout(C,Te));return}}}xe&&J.some(Pe=>Pe.expired)&&(_.current.delete(z),l&&(T.current=!0),C())}};const oe=G8(L.ctrl,te);ne==="leave"&&l?_.current.set(L,{phase:ne,springs:oe,payload:te}):x.set(L,{phase:ne,springs:oe,payload:te})});const I=w.useContext(Kh),M=_8(I),R=I!==M&&O8(I);Go(()=>{R&&Le(m,L=>{L.ctrl.start({default:I})})},[I]),Le(x,(L,H)=>{if(_.current.size){const W=m.findIndex(ie=>ie.key===H.key);m.splice(W,1)}}),Go(()=>{Le(_.current.size?_.current:x,({phase:L,payload:H},W)=>{const{ctrl:ie}=W;W.phase=L,h==null||h.add(ie),R&&L=="enter"&&ie.start({default:I}),H&&(P8(ie,H.ref),(ie.ref||h)&&!T.current?ie.update(H):(ie.start(H),T.current&&(T.current=!1)))})},s?void 0:n);const $=L=>w.createElement(w.Fragment,null,m.map((H,W)=>{const{springs:ie}=x.get(H)||H.ctrl,A=L({...ie},H.item,H,W);return A&&A.type?w.createElement(A.type,{...A.props,key:Q.str(H.key)||Q.num(H.key)?H.key:H.ctrl.id,ref:A.ref}):A}));return h?[$,h]:$}var Q8=1;function J8(e,{key:t,keys:n=t},r){if(n===null){const s=new Set;return e.map(i=>{const o=r&&r.find(a=>a.item===i&&a.phase!=="leave"&&!s.has(a));return o?(s.add(o),o.key):Q8++})}return Q.und(n)?e:Q.fun(n)?e.map(n):hn(n)}var eO=class extends $v{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Ic(...t);const n=this._get(),r=n0(n);Pv(this,r.create(n))}advance(e){const t=this._get(),n=this.get();ls(t,n)||(zr(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&wS(this._active)&&um(this)}_get(){const e=Q.arr(this.source)?this.source.map(wn):hn(wn(this.source));return this.calc(...e)}_start(){this.idle&&!wS(this._active)&&(this.idle=!1,Le(Gh(this),e=>{e.done=!1}),Or.skipAnimation?(Re.batchedUpdates(()=>this.advance()),um(this)):Vh.start(this))}_attach(){let e=1;Le(hn(this.source),t=>{Jn(t)&&Ha(t,this),i0(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Le(hn(this.source),e=>{Jn(e)&&Mc(e,this)}),this._active.clear(),um(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=hn(this.source).reduce((t,n)=>Math.max(t,(i0(n)?n.priority:0)+1),0))}};function tO(e){return e.idle!==!1}function wS(e){return!e.size||Array.from(e).every(tO)}function um(e){e.idle||(e.idle=!0,Le(Gh(e),t=>{t.done=!0}),Rc(e,{type:"idle",parent:e}))}Or.assign({createStringInterpolator:Ck,to:(e,t)=>new eO(e,t)});var Vk=/^--/;function nO(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Vk.test(e)&&!(Xl.hasOwnProperty(e)&&Xl[e])?t+"px":(""+t).trim()}var _S={};function rO(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:s,children:i,scrollTop:o,scrollLeft:a,viewBox:l,...u}=t,d=Object.values(u),f=Object.keys(u).map(h=>n||e.hasAttribute(h)?h:_S[h]||(_S[h]=h.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in s)if(s.hasOwnProperty(h)){const p=nO(h,s[h]);Vk.test(h)?e.style.setProperty(h,p):e.style[h]=p}f.forEach((h,p)=>{e.setAttribute(h,d[p])}),r!==void 0&&(e.className=r),o!==void 0&&(e.scrollTop=o),a!==void 0&&(e.scrollLeft=a),l!==void 0&&e.setAttribute("viewBox",l)}var Xl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sO=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),iO=["Webkit","Ms","Moz","O"];Xl=Object.keys(Xl).reduce((e,t)=>(iO.forEach(n=>e[sO(n,t)]=e[t]),e),Xl);var oO=/^(matrix|translate|scale|rotate|skew)/,aO=/^(translate)/,lO=/^(rotate|skew)/,dm=(e,t)=>Q.num(e)&&e!==0?e+t:e,Td=(e,t)=>Q.arr(e)?e.every(n=>Td(n,t)):Q.num(e)?e===t:parseFloat(e)===t,cO=class extends Yh{constructor({x:e,y:t,z:n,...r}){const s=[],i=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),i.push(o=>[`translate3d(${o.map(a=>dm(a,"px")).join(",")})`,Td(o,0)])),Jr(r,(o,a)=>{if(a==="transform")s.push([o||""]),i.push(l=>[l,l===""]);else if(oO.test(a)){if(delete r[a],Q.und(o))return;const l=aO.test(a)?"px":lO.test(a)?"deg":"";s.push(hn(o)),i.push(a==="rotate3d"?([u,d,f,h])=>[`rotate3d(${u},${d},${f},${dm(h,l)})`,Td(h,0)]:u=>[`${a}(${u.map(d=>dm(d,l)).join(",")})`,Td(u,a.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new uO(s,i)),super(r)}},uO=class extends _k{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Le(this.inputs,(n,r)=>{const s=wn(n[0]),[i,o]=this.transforms[r](Q.arr(s)?s:n.map(wn));e+=" "+i,t=t&&o}),t?"none":e}observerAdded(e){e==1&&Le(this.inputs,t=>Le(t,n=>Jn(n)&&Ha(n,this)))}observerRemoved(e){e==0&&Le(this.inputs,t=>Le(t,n=>Jn(n)&&Mc(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Rc(this,e)}},dO=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Or.assign({batchedUpdates:kh.unstable_batchedUpdates,createStringInterpolator:Ck,colors:X6});var fO=I8(dO,{applyAnimatedValues:rO,createAnimatedStyle:e=>new cO(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),ES=fO.animated;const su=({isOpen:e,onClose:t,children:n,className:r,onAnimationFinished:s,size:i="lg",position:o="off-center"})=>{const a=w.useRef(null),l=w.useCallback(()=>{t&&t()},[t]),u=w.useCallback(f=>{a.current&&!a.current.contains(f.target)&&l()},[l]);w.useEffect(()=>(e?(document.body.style.overflow="hidden",document.addEventListener("mousedown",u)):(document.body.style.overflow="unset",document.removeEventListener("mousedown",u)),()=>{document.body.style.overflow="unset",document.removeEventListener("mousedown",u)}),[e,u]),Qn("esc",l);const d=Z8(e,{from:{scale:0,opacity:0,x:"-50%"},enter:{scale:1,opacity:1,x:"-50%"},leave:{scale:0,opacity:0,x:"-50%"},onRest:()=>{e&&s&&s()}});return e?d((f,h)=>c.jsxs("div",{"data-testid":"modal-root",className:Ue(h&&"fixed inset-0 z-50 overflow-auto",!h&&"hidden"),children:[h?c.jsx(ES.div,{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",style:{opacity:f.opacity}}):null,h?c.jsxs(ES.div,{ref:a,className:Ue("fixed left-1/2 ",i==="lg"&&"w-[95vw] top-4 h-[90vh]",i!=="lg"&&o==="off-center"&&"top-32",i!=="lg"&&o==="top"&&"top-4",i==="md"&&"w-[50vw]"),style:f,children:[c.jsx("div",{"data-testid":"modal-content",className:Ue("bg-base-100 rounded-lg p-4 flex flex-col overflow-y-auto max-h-[95vh]",r),children:n}),c.jsx("button",{"data-testid":"modal-close-button",className:"absolute top-1 right-1 text-gray-700 hover:text-gray-800",onClick:l,children:c.jsx(dr,{className:"w-6 h-6 inline"})})]}):null]})):null};function Ea(e){var t=w.useState(function(){return Cc(typeof e=="function"?e():e,!0)}),n=t[1];return[t[0],w.useCallback(function(r){n(typeof r=="function"?wa(r):Cc(r))},[])]}const hO=({className:e,clips:t})=>{var y;const n=js(),{state:r,actions:s}=Ft({updateForm:hr}),{formState:{errors:i},setValue:o}=Wn(),a=(y=i.weightedRandom)==null?void 0:y.weights,l=w.useMemo(()=>{var v;const b=new Map;for(const g of r.data.selectedMarkers??[])if(g.selected){const S=b.get(g.title)??{total:0,current:0};b.set(g.title,{total:S.total+1,current:S.current})}for(const g of t){const S=(v=r.data.selectedMarkers)==null?void 0:v.find(E=>E.id===g.markerId);if(S&&S.title&&S.selected){const E=b.get(S.title)??{total:0,current:0};b.set(S.title,{total:E.total,current:E.current+1})}}return b},[r.data,t]),[u,d]=Ea(()=>{var v;const b=Array.from(new Set((v=r.data.selectedMarkers)==null?void 0:v.map(g=>g.title.trim()))).sort();if(r.data.clipWeights)return r.data.clipWeights.filter(([g])=>b.includes(g));{const g=Array.from(new Set(r.data.selectedMarkers.filter(S=>S.selected).map(S=>S.title.trim()))).sort();return Array.from(g).map(S=>[S,1])}}),[f,h]=w.useState(!1),p=(b,v)=>{d(g=>{const S=g.findIndex(E=>E[0]===b);S!==-1&&(g[S][1]=v/100),o("weightedRandom.weights",g)})},m=()=>{h(!1),s.updateForm({clipWeights:u}),o("weightedRandom.weights",u),n.revalidate()};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{type:"button",onClick:()=>h(!0),className:Ue("btn btn-secondary",e),children:[c.jsx(IR,{className:"mr-2"}),"Adjust marker ratios"]}),a&&c.jsx("p",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:a.message})}),c.jsxs(su,{position:"top",size:"fluid",isOpen:f,onClose:m,children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Marker ratios"}),c.jsx("p",{className:"text-sm mb-4",children:"Here, you can adjust the likelihood of each marker type to be included in the compilation."}),c.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[u.map(([b,v])=>{const g=l.get(b),S=io("marker",(g==null?void 0:g.total)??0),E=io("clip",(g==null?void 0:g.current)??0);return c.jsxs("div",{className:Ue("form-control",!1),children:[c.jsx("label",{className:"label",children:c.jsxs("span",{className:"label-text",children:[c.jsx("strong",{children:b})," (",g==null?void 0:g.total," ",S,","," ",g==null?void 0:g.current," ",E,")"]})}),c.jsx("input",{disabled:!1,type:"range",min:"0",max:"100",className:"range range-sm w-72",step:"5",value:v*100,onChange:C=>p(b,C.target.valueAsNumber)}),c.jsxs("div",{className:"w-full flex justify-between text-xs px-2",children:[c.jsx("span",{children:"0%"}),c.jsxs("span",{className:"font-bold",children:[Math.round(v*100),"%"]}),c.jsx("span",{children:"100%"})]})]},b)}),c.jsxs("button",{onClick:m,className:"btn btn-success self-end",children:[c.jsx(Rn,{}),"Done"]})]})]})]})},pO=({totalClipDuration:e})=>{var o;const t=zn(),{state:n}=Ft(),{watch:r}=Wn(),s=((o=n.data.songs)==null?void 0:o.length)||!1,i=r("useMusic");return c.jsxs(c.Fragment,{children:[i&&s?c.jsx(dk,{strategy:"weightedRandom"}):c.jsx(fk,{strategy:"weightedRandom",totalClipDuration:e}),c.jsx(hO,{className:"mt-4",clips:t.clips})]})},mO=({totalClipDuration:e})=>{const{register:t}=Wn();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Base clip duration (seconds)"})}),c.jsx("input",{type:"number",className:"input input-bordered",...t("equalLength.clipDuration",{valueAsNumber:!0})})]}),c.jsx(lk,{totalClipDuration:e}),c.jsx(ck,{}),c.jsx(uk,{})]})};function gO(e){const t=new Map;for(const r of e){const s=r.primaryTag.trim();t.set(s,(t.get(s)||0)+1)}return Array.from(t).map(([r,s])=>({title:r,count:s}))}const yO=({markers:e,onSave:t,groups:n,onClose:r})=>{const[s,i]=w.useState(n==null?void 0:n.at(0)),o=e.some(h=>h.title==="Untitled"),a=h=>{if(!s)return;const p=wa(n,m=>{for(const b of m)b.markers=b.markers.filter(v=>v.title!==h.title);const y=m.find(b=>b.name===s.name);y&&y.markers.push(h)});t(p,e)},l=(h,p)=>{const m=wa(n,y=>{const b=y.find(v=>v.name===p);b&&(b.markers=b.markers.filter(v=>v.title!==h.title))});t(m,e)},u=()=>{t([],e),i(void 0)},d=()=>{const h={name:`Group ${n.length+1}`,markers:[]},p=[...n,h];t(p,e),i(h)},f=h=>{const p=n.filter(m=>m.name!==h);t(p,e)};return c.jsxs("div",{className:"flex flex-col",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Marker groups"}),o&&c.jsxs("div",{className:"alert alert-info my-2",children:[c.jsx(Jc,{className:"w-6 h-6"}),'You have at least one marker called "Untitled", which is the default title for a newly created marker. This feature works best if you can give each marker a meaningful title.']}),c.jsx("p",{children:"You can group multiple markers together, so that they appear together in the finished compilation. You can also change the order of the groups in the next step."}),c.jsxs("section",{className:"flex flex-col",children:[c.jsx("h2",{className:"mb-2 mt-4 font-bold text-xl",children:"All marker titles"}),c.jsx("div",{className:"flex items-start flex-wrap flex-row gap-1",children:e.map(h=>{const p=!!n.find(y=>y.markers.find(b=>b.title===h.title)),m=p?Rn:or;return c.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>a(h),type:"button",disabled:p,children:[c.jsx(m,{}),h.title," (",h.count,")"]},h.title)})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"mb-2 mt-4 font-bold text-xl",children:"Groups"}),c.jsxs("button",{type:"button",onClick:d,className:"btn btn-success self-end my-4",children:[c.jsx(or,{className:"mr-2"}),"Add new group"]})]}),c.jsxs("div",{className:"w-full grid grid-flow-col auto-cols-fr gap-2",children:[n.length===0&&c.jsx("p",{className:"text-center w-full",children:"No groups yet. Add a new group to get started. Select a group by clicking on its title, then add markers to it by clicking on the marker titles above."}),n.map(h=>{const p=(s==null?void 0:s.name)===h.name,m=h.markers.reduce((y,b)=>y+b.count,0);return c.jsx("article",{className:Ue("card card-compact bg-base-100 border-4",p&&"border-primary"),children:c.jsxs("div",{className:"card-body",children:[c.jsxs("h3",{onClick:()=>i(h),className:"card-title flex-grow-0 cursor-pointer hover:underline transition",children:[h.name," (",m," ",io("marker",m),")",c.jsx("button",{onClick:()=>f(h.name),className:"btn btn-error btn-xs btn-square btn-ghost ml-1 text-red-500",children:c.jsx(di,{})})]}),c.jsx("ul",{className:"text-base flex flex-wrap gap-1",children:h.markers.map(y=>c.jsxs("li",{className:"badge badge-ghost badge-lg",children:[y.title,c.jsx("button",{onClick:()=>l(y,h.name),className:"btn btn-error btn-xs btn-square btn-ghost ml-1 text-red-500",children:c.jsx(di,{})})]},y.title))})]})},h.name)})]})]}),c.jsxs("div",{className:"flex w-full justify-between mt-4",children:[c.jsx("button",{className:"btn btn-warning",onClick:u,type:"button",children:"Reset"}),c.jsxs("button",{onClick:()=>r(n,e),type:"button",className:"btn btn-success",children:["Save",c.jsx(Rs,{className:"ml-1"})]})]})]})},vO=({className:e})=>{var m,y;const[t,n]=w.useState(!1),{state:r,actions:s}=Ft({updateForm:hr}),i=gO(r.data.markers||[]),o=(m=r.data.clipOptions)==null?void 0:m.clipOrder,a=(o==null?void 0:o.type)==="fixed"?o==null?void 0:o.markerTitleGroups:[],{setValue:l,formState:{errors:u}}=Wn(),d=(y=u==null?void 0:u.clipOrder)==null?void 0:y.markerTitleGroups,f=()=>{n(!1)},h=b=>{const v={...r.data.clipOptions,clipOrder:{type:"fixed",markerTitleGroups:b}};l("clipOrder.markerTitleGroups",b),s.updateForm({clipOptions:v})},p=(b,v)=>{for(const g of v)b.find(E=>E.markers.find(C=>C.title===g.title))||b.push({name:g.title,markers:[g]});h(b),f()};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>n(!0),type:"button",className:Ue("btn btn-primary",e),children:[c.jsx(T2,{}),"Set marker order"]}),c.jsx(su,{position:"top",size:"md",isOpen:t,onClose:f,children:c.jsx(yO,{groups:a,markers:i,onSave:h,onClose:p})}),d&&c.jsx("p",{className:"label",children:c.jsx("span",{className:"label-text-alt text-error",children:d.message})})]})};var xO="Expected a function",kS=NaN,bO="[object Symbol]",SO=/^\s+|\s+$/g,wO=/^[-+]0x[0-9a-f]+$/i,_O=/^0b[01]+$/i,EO=/^0o[0-7]+$/i,kO=parseInt,CO=typeof wu=="object"&&wu&&wu.Object===Object&&wu,TO=typeof self=="object"&&self&&self.Object===Object&&self,NO=CO||TO||Function("return this")(),IO=Object.prototype,jO=IO.toString,RO=Math.max,MO=Math.min,fm=function(){return NO.Date.now()};function DO(e,t,n){var r,s,i,o,a,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(xO);t=CS(t)||0,l0(n)&&(d=!!n.leading,f="maxWait"in n,i=f?RO(CS(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function p(k){var x=r,_=s;return r=s=void 0,u=k,o=e.apply(_,x),o}function m(k){return u=k,a=setTimeout(v,t),d?p(k):o}function y(k){var x=k-l,_=k-u,T=t-x;return f?MO(T,i-_):T}function b(k){var x=k-l,_=k-u;return l===void 0||x>=t||x<0||f&&_>=i}function v(){var k=fm();if(b(k))return g(k);a=setTimeout(v,y(k))}function g(k){return a=void 0,h&&r?p(k):(r=s=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function E(){return a===void 0?o:g(fm())}function C(){var k=fm(),x=b(k);if(r=arguments,s=this,l=k,x){if(a===void 0)return m(l);if(f)return a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return C.cancel=S,C.flush=E,C}function l0(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function OO(e){return!!e&&typeof e=="object"}function PO(e){return typeof e=="symbol"||OO(e)&&jO.call(e)==bO}function CS(e){if(typeof e=="number")return e;if(PO(e))return kS;if(l0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=l0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(SO,"");var n=_O.test(e);return n||EO.test(e)?kO(e.slice(2),n?2:8):wO.test(e)?kS:+e}var AO=DO;const LO=zc(AO);function Xh({wait:e=500,parameterName:t="query",replaceAll:n=!0}={}){const[r,s]=wi(),i=u=>{u.trim().length>0&&(n?s({[t]:u}):o(t,u))},o=(u,d)=>{a([[u,d]])},a=u=>{const d=new URLSearchParams(r);for(const[f,h]of u)switch(typeof h){case"boolean":h?d.set(f,h.toString()):d.delete(f);break;case"string":h.trim().length>0&&d.set(f,h);break;case"undefined":d.delete(f)}s(d)};return{setQueryDebounced:w.useCallback(LO(i,e),[]),addOrReplaceParam:o,addOrReplaceParams:a}}function iu(e,t){const[n,r]=w.useState(()=>{try{let i;return typeof window<"u"&&(i=window.localStorage.getItem(e)),i?JSON.parse(i):t}catch(i){return console.error(i),t}});return[n,i=>{try{const o=i instanceof Function?i(n):i;r(o),typeof window<"u"&&window.localStorage.setItem(e,JSON.stringify(o))}catch(o){console.error(o)}}]}const zk=30;function Wk(e){const t=window.localStorage.getItem("pageSize"),n=e.get("size");return n?Number(n):t?Number(t):zk}const qk=()=>{const{addOrReplaceParams:e}=Xh(),[t,n]=iu("pageSize",zk),r=s=>{n(s),e([["size",s.toString()],["page","0"]])};return c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Items per page"})}),c.jsxs("select",{value:t,onChange:s=>r(Number(s.target.value)),className:"select select-sm select-bordered",children:[c.jsx("option",{children:"15"}),c.jsx("option",{children:"30"}),c.jsx("option",{children:"60"}),c.jsx("option",{children:"120"}),c.jsx("option",{children:"240"}),c.jsx("option",{children:"480"})]})]})},Yu=10,c0=.25,hm=e=>{var t;return((t=e.songs)==null?void 0:t.reduce((n,r)=>n+r.duration,0))||0},TS=e=>{var t;return((t=e.markers)==null?void 0:t.reduce((n,r)=>n+(r.end-r.start),0))||0},NS=(e,t,n)=>{var r;return!e.clipLengths||!e.clipLengths.type?{type:"randomized",baseDuration:20,spread:n}:e.clipLengths.type==="songs"?{type:"songs",songs:((r=t.songs)==null?void 0:r.map(s=>({offsets:s.beats,length:s.duration})))||[],beatsPerMeasure:e.clipLengths.beatsPerMeasure,cutAfterMeasures:e.clipLengths.cutAfterMeasures}:{type:"randomized",baseDuration:e.clipLengths.baseDuration,spread:n}},FO=(e,t)=>{var n,r,s;if(!e)return{type:"equalLength",clipDuration:20,spread:c0,minClipDuration:1.5};switch(e.clipStrategy){case"roundRobin":return{type:"roundRobin",length:(n=t.songs)!=null&&n.length?hm(t):(e==null?void 0:e.maxDuration)||TS(t),clipLengths:NS(e.roundRobin,t,e.clipDurationSpread),lenientDuration:!e.useMusic,minClipDuration:e.minClipDuration};case"weightedRandom":{const i=(r=t.songs)!=null&&r.length?hm(t):(e==null?void 0:e.maxDuration)||TS(t);return{type:"weightedRandom",clipLengths:NS(e.weightedRandom,t,e.clipDurationSpread),length:i,weights:t.clipWeights,minClipDuration:e.minClipDuration}}case"equalLength":{const i=(s=t.songs)!=null&&s.length?hm(t):e==null?void 0:e.maxDuration;return{type:"equalLength",clipDuration:e.equalLength.clipDuration,spread:e.clipDurationSpread,length:i,minClipDuration:e.minClipDuration}}case"noSplit":return{type:"noSplit"}}},$O=async()=>{var a;const e=bv(),t=e.clipOptions||Gk(e),n=t.clipOrder||{type:"scene"},r=((a=t.seed)==null?void 0:a.length)===0?void 0:t.seed,s={markers:e.selectedMarkers.filter(l=>l.selected),seed:r,clips:{order:n,clipPicker:FO(t,e)}},i=await pM(s),o={};return i.videos.forEach(l=>{o[l.id]=l}),{...i,videos:o}},UO=async()=>{const e=bv(),t=((e==null?void 0:e.videoIds)??[]).join(",");return ZR({videoIds:t})},BO=async()=>(await SM()).id,HO=async({params:e})=>{const{id:t}=e;return await cM(t)},VO=async()=>await A2(),zO=async()=>{try{return await IM()}catch(e){return console.warn("Failed to get version",e),{currentVersion:"0.0.0",needsUpdate:!1,newestVersion:"0.0.0"}}},WO=async({request:e})=>{const t=new URL(e.url),n=t.searchParams.get("query"),r=t.searchParams.get("withMarkers")==="true";return await aM({query:n,page:Number(t.searchParams.get("page"))||1,size:Wk(t.searchParams),withMarkers:r?!0:null})};function IS(e){return e==="true"?!0:e==="false"?!1:null}const jS=e=>async({request:t})=>{const n=new URL(t.url),r=n.searchParams;return await sM({hasMarkers:e.hasMarkers||IS(r.get("hasMarkers")),page:Number(r.get("page"))||0,size:Wk(n.searchParams),query:r.get("query"),sort:r.get("sort"),source:r.get("source"),isInteractive:e.isInteractive||IS(r.get("isInteractive"))})},qO=e=>e?[{value:"roundRobin",label:"Round-robin"},{value:"weightedRandom",label:"Weighted random"}]:[{value:"equalLength",label:"Equal length"},{value:"weightedRandom",label:"Weighted random"},{value:"noSplit",label:"No splitting"}],Gk=e=>{var t;return e.clipOptions?e.clipOptions:(t=e.songs)!=null&&t.length?{useMusic:!0,clipStrategy:"roundRobin",roundRobin:{clipLengths:{type:"songs",beatsPerMeasure:4,songs:e.songs.map(n=>({offsets:n.beats,length:n.duration})),cutAfterMeasures:{type:"fixed",count:4}}},clipOrder:{type:"scene"},minClipDuration:1.5,clipDurationSpread:c0}:{useMusic:!1,clipStrategy:"equalLength",equalLength:{clipDuration:30},clipOrder:{type:"scene"},maxDuration:Dh(e.selectedMarkers||[]),minClipDuration:1.5,clipDurationSpread:c0}},GO=({onRemoveClip:e,onUndo:t,onRedo:n,canUndo:r,canRedo:s,onShiftClips:i,canShiftLeft:o,canShiftRight:a,confirmBeforeSubmit:l,setHelpOpen:u})=>{var M;const{actions:d,state:f}=Ft({updateForm:hr}),h=es({defaultValues:Gk(f.data),mode:"onChange",reValidateMode:"onChange"}),{register:p,watch:m,handleSubmit:y,setValue:b,formState:v,setError:g}=h,S=js(),E=m("clipStrategy"),C=m("clipOrder.type"),k=m("useMusic"),x=((M=f.data.songs)==null?void 0:M.length)||!1,_=Dh(f.data.selectedMarkers||[]),T=R=>{var L,H;let $=!0;return R.clipStrategy==="weightedRandom"&&((L=R.weightedRandom.weights)!=null&&L.length||(g("weightedRandom.weights",{message:"You must add at least one weight"}),$=!1)),R.clipOrder.type==="fixed"&&((H=R.clipOrder.markerTitleGroups)!=null&&H.length||(g("clipOrder.markerTitleGroups",{message:"You must add at least one marker group"}),$=!1)),$},I=R=>{if(!(l&&!window.confirm("You have made manual changes to the clips, this would reset them. Are you sure you want to re-generate the clips?"))&&T(R))return d.updateForm({clipOptions:R}),S.revalidate(),!0};return w.useEffect(()=>{var R,$;if(k)switch(E){case"equalLength":b("equalLength.clipDuration",Yu);break;case"roundRobin":b("roundRobin.clipLengths.type","songs"),b("roundRobin.clipLengths.cutAfterMeasures.type","fixed"),b("roundRobin.clipLengths.cutAfterMeasures.count",4),b("roundRobin.clipLengths.beatsPerMeasure",4),b("roundRobin.clipLengths.songs",((R=f.data.songs)==null?void 0:R.map(L=>({offsets:L.beats,length:L.duration})))||[]);break;case"weightedRandom":b("weightedRandom.clipLengths.type","songs"),b("weightedRandom.clipLengths.cutAfterMeasures.type","fixed"),b("weightedRandom.clipLengths.cutAfterMeasures.count",4),b("weightedRandom.clipLengths.beatsPerMeasure",4),b("weightedRandom.weights",[]),b("weightedRandom.clipLengths.songs",(($=f.data.songs)==null?void 0:$.map(L=>({offsets:L.beats,length:L.duration})))||[]);break}else switch(E){case"equalLength":b("equalLength.clipDuration",Yu);break;case"roundRobin":b("roundRobin.clipLengths.baseDuration",Yu),b("roundRobin.clipLengths.type","randomized");break;case"weightedRandom":b("weightedRandom.clipLengths.baseDuration",Yu),b("weightedRandom.clipLengths.type","randomized");break}},[E,b,k,f.data.songs]),c.jsx(qj,{...h,children:c.jsxs("form",{onSubmit:y(I),className:"flex flex-col mb-4",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Clips"}),c.jsxs("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>u(!0),children:[c.jsx(R2,{}),"Help"]})]}),c.jsxs("div",{className:"w-full flex justify-between mb-4 mt-2",children:[c.jsxs("div",{className:"join",children:[c.jsx("div",{className:"tooltip","data-tip":"Undo",children:c.jsx("button",{disabled:!r,onClick:t,type:"button",className:"join-item btn btn-sm btn-ghost btn-square",children:c.jsx(_R,{})})}),c.jsx("div",{className:"tooltip","data-tip":"Redo",children:c.jsx("button",{disabled:!s,onClick:n,type:"button",className:"join-item btn btn-sm btn-ghost btn-square",children:c.jsx(ER,{})})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"join",children:[c.jsx("div",{className:"tooltip","data-tip":"Move clip left",children:c.jsx("button",{disabled:!o,onClick:()=>i("left"),className:"btn btn-sm btn-ghost join-item",type:"button",children:c.jsx(yv,{})})}),c.jsx("div",{className:"tooltip","data-tip":"Move clip right",children:c.jsx("button",{disabled:!a,onClick:()=>i("right"),className:"btn btn-sm btn-ghost join-item",type:"button",children:c.jsx(vv,{})})})]}),c.jsx("div",{className:"tooltip","data-tip":"Delete current clip",children:c.jsx("button",{onClick:e,type:"button",className:"btn btn-sm btn-error",children:c.jsx(di,{})})})]})]}),!k&&c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Clip order"})}),c.jsxs("select",{className:"select select-bordered",...p("clipOrder.type"),children:[c.jsx("option",{value:"none",disabled:!0,children:"Select..."}),c.jsx("option",{value:"scene",children:"Scene order"}),c.jsx("option",{value:"random",children:"Random"}),c.jsx("option",{value:"fixed",children:"Fixed"})]})]}),C==="fixed"&&c.jsx(vO,{className:"mt-4"}),x&&c.jsx("div",{className:"form-control mt-2",children:c.jsxs("label",{className:"label",children:[c.jsx("span",{className:"label-text",children:"Use music for clip generation?"}),c.jsx("input",{type:"checkbox",className:"checkbox",...p("useMusic")})]})}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Clip generation method"})}),c.jsxs("select",{className:"select select-bordered",...p("clipStrategy"),children:[c.jsx("option",{value:"none",disabled:!0,children:"Select..."}),qO(k??!1).map(R=>c.jsx("option",{value:R.value,children:R.label},R.value))]})]}),E==="roundRobin"&&c.jsx(B6,{totalClipDuration:_}),E==="weightedRandom"&&c.jsx(pO,{totalClipDuration:_}),E==="equalLength"&&c.jsx(mO,{totalClipDuration:_}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Random seed"})}),c.jsx("input",{className:"input input-bordered",type:"text",placeholder:"Enter a value to control random number generation (optional)",...p("seed")})]}),c.jsxs("div",{className:"flex flex-row justify-between mt-4",children:[c.jsx("span",{}),c.jsxs("button",{disabled:!v.isValid,type:"submit",className:"btn btn-success ",children:[c.jsx(Rh,{}),"Generate"]})]})]})})};function u0(e,t){if(t){const n=e[t.videoId],r=`t=${t.range[0]},${t.range[1]}`;if(n.startsWith("/"))return[{src:n+"#"+r,type:"video/mp4"}];{const s=new URL(n);return s.searchParams.append("resolution","ORIGINAL"),s.hash=r,[{src:n+"#"+r,type:"video/mp4"},{src:s.toString(),type:"video/mp4"}]}}else return}const YO=({currentClipIndex:e,clips:t,totalLength:n,onNextStage:r,currentMarker:s})=>{var o;const i=(o=t.at(e))==null?void 0:o.clip;return c.jsxs("div",{className:"mb-4 grid grid-cols-3",children:[c.jsx("div",{className:"text-sm text-opacity-80",children:"Preview the clips included in the final compilation. You can change the settings for clip generation and apply to see changes instantly. The number and color of the timeline segment identify the video it comes from."}),c.jsxs("div",{className:"text-center text-sm",children:[c.jsxs("p",{children:["Showing clip"," ",c.jsxs("strong",{children:[e+1," / ",t.length]})]}),i&&c.jsxs("p",{children:["Current clip duration:"," ",c.jsx("span",{className:"font-semibold",children:at(i.range,"short-with-ms")})]}),c.jsxs("p",{children:["Total video duration:"," ",c.jsx("span",{className:"font-semibold",children:at(n,"short")})]}),c.jsxs("p",{children:["Marker title:"," ",c.jsx("span",{className:"font-semibold",children:s==null?void 0:s.title})]})]}),c.jsxs("button",{type:"button",onClick:r,className:"btn btn-success place-self-end",children:["Next",c.jsx(Rs,{className:"ml-1"})]})]})},KO=({onBack:e})=>c.jsxs("div",{className:"text-sm",children:[c.jsxs("p",{className:"text-sm link mb-2",onClick:e,children:[c.jsx(so,{className:"mr-1 inline"}),"Back"]}),c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Information"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Clip order"})," - The order in which the clips will be played."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Use music for clip generation?"})," - If checked, the clips will be generated based on the music's beats and measures. If unchecked, the clips will be generated based on the video's duration."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Clip generation method"})," - TODO write help text"]})]}),XO=({clips:e,currentClipIndex:t,setCurrentClipIndex:n})=>{const[r,s]=w.useMemo(()=>{const i=e.map(({clip:d})=>d.range[1]-d.range[0]),o=i.reduce((d,f)=>d+f,0),a=i.map(d=>`${d/o*100}%`),l=Array.from(new Set(e.map(d=>d.clip.videoId)));l.sort();const u=new Map;return l.forEach((d,f)=>{const h=N6(f,l.length);u.set(d,[h,f])}),[a,u]},[e]);return c.jsx("div",{className:"flex h-10 mt-2 gap-0.5",children:r.map((i,o)=>{const a=e[o].clip,[l,u]=s.get(a.videoId);return c.jsx("div",{className:Ue("flex justify-center items-center text-sm cursor-pointer text-white tooltip tooltip-bottom",o!==t&&"opacity-30 hover:opacity-60",o===t&&"opacity-100 "),style:{width:i,...l},onClick:()=>n(o),"data-tip":a.markerTitle,children:u+1},o)})})};function ZO(){var xe,Pe,Te;const e=js(),[t,n]=w.useState(!1),[r,s]=w.useState(!1),[i,o]=w.useState(!1),{actions:a,state:l}=Ft({updateForm:hr}),u=zn(),d=t?u.clips:l.data.clips||u.clips,f=u.streams,h=l.data.songs??[],[p,{set:m,undo:y,redo:b,canUndo:v,canRedo:g}]=j6(d.map(X=>({clip:X,included:!0}))),S=p.present.filter(X=>X.included),[E,C]=w.useState(0),[k,x]=w.useState(!1),_=(xe=S.at(E))==null?void 0:xe.clip,T=u0(f,_),I=Rt(),M=w.useRef(null),R=w.useRef(null),$=_?(Pe=l.data.selectedMarkers)==null?void 0:Pe.find(X=>_.markerId===X.id):void 0,L=S.reduce((X,{clip:ee})=>X+(ee.range[1]-ee.range[0]),0),[H,W]=w.useState(!1),[ie,A]=w.useState(!0),V=l.data.songs&&l.data.songs.length>0,[ne,B]=w.useState(0);w.useEffect(()=>{e.state==="loading"&&(s(!1),n(!0))},[e.state]),w.useEffect(()=>{t&&e.state==="idle"&&m(d.map(X=>({clip:X,included:!0})))},[d,e.state,m,t]),w.useEffect(()=>{M.current&&M.current.load()},[E]);const te=()=>{a.updateForm({stage:Kt.CreateVideo,clips:S.map(X=>X.clip)}),I("/generate")},fe=X=>{if(_){const ee=_.range[1],me=X.currentTarget.currentTime;Math.abs(ee-me)<=.5&&k&&C(Se=>(Se+1)%S.length)}},oe=X=>{const ee=X.currentTarget.duration,me=X.currentTarget.currentTime;Math.abs(ee-me)<=.1&&k&&B(Se=>Math.min(h.length-1,Se+1))},ae=()=>{var X,ee,me,Se;k?((X=M.current)==null||X.pause(),(ee=R.current)==null||ee.pause()):((me=M.current)==null||me.play(),(Se=R.current)==null||Se.play()),x(!k)},J=()=>{m(S.map(({clip:X},ee)=>({clip:X,included:ee!==E}))),C(Ev(E,0,S.length-2)),s(!0)},z=X=>{const ee=X==="left"?E-1:E+1,me=wa(S,Se=>{const Qe=Se[E];Se[E]=Se[ee],Se[ee]=Qe});m(me),C(ee),s(!0)};return c.jsxs(c.Fragment,{children:[c.jsx(YO,{currentClipIndex:E,clips:S,totalLength:L,onNextStage:te,currentMarker:$}),V&&c.jsx("audio",{ref:R,src:`/api/song/${(Te=h[ne])==null?void 0:Te.songId}/stream`,autoPlay:k,muted:!H,onTimeUpdate:oe}),c.jsxs("section",{className:"flex",children:[S.length===0&&c.jsx("div",{className:"w-3/4 h-[650px] flex justify-center items-center",children:"No clips were generated. Check the clip duration and minimum clip length settings."}),S.length>0&&c.jsx("video",{className:"w-3/4 h-[650px]",muted:ie,autoPlay:k,onTimeUpdate:fe,ref:M,children:T==null?void 0:T.map((X,ee)=>c.jsx("source",{src:X.src,type:X.type},ee))}),c.jsxs("section",{className:"flex flex-col px-4 py-2 w-2/5 bg-base-200 justify-between",children:[i&&c.jsx(KO,{onBack:()=>o(!1)}),!i&&c.jsxs(c.Fragment,{children:[c.jsx(GO,{onRemoveClip:J,onUndo:y,onRedo:b,canUndo:v,canRedo:g,onShiftClips:z,canShiftLeft:E>0,canShiftRight:E<S.length-1,confirmBeforeSubmit:r,setHelpOpen:o}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"join justify-center",children:[c.jsx("button",{type:"button",className:"btn btn-square btn-lg join-item",onClick:()=>C(X=>X-1),disabled:E===0,children:c.jsx(yv,{})}),c.jsx("button",{type:"button",className:Ue("btn btn-square btn-lg join-item",k?"btn-neutral":"btn-success"),onClick:ae,children:k?c.jsx(xv,{}):c.jsx(jh,{})}),c.jsx("button",{type:"button",className:"btn btn-square btn-lg join-item",onClick:()=>C(X=>X+1),disabled:E>=S.length-1,children:c.jsx(vv,{})})]}),c.jsx("div",{className:"form-control",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text mr-2",children:"Mute video"}),c.jsx("input",{type:"checkbox",className:"toggle",checked:ie,onChange:X=>A(X.target.checked)})]})}),V&&c.jsx("div",{className:"form-control",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text mr-2",children:"Enable music"}),c.jsx("input",{type:"checkbox",className:"toggle",checked:H,onChange:X=>W(X.target.checked)})]})})]})]})]})]}),c.jsx(XO,{clips:S,currentClipIndex:E,setCurrentClipIndex:C})]})}const Uv=()=>c.jsx("a",{href:"#top",className:"btn btn-circle btn-md fixed right-4 bottom-4 shadow-lg",children:c.jsx(wR,{className:"w-5 h-5"})}),QO="grow w-full block p-0 border-0 border-b-2 border-primary appearance-none focus:outline-none focus:ring-0 focus:border-primary-focus",Yk=({value:e,className:t,onSave:n})=>{const[r,s]=w.useState("view"),[i,o]=w.useState(e??""),a=u=>{o(u.target.value)},l=u=>{u.preventDefault(),s("view"),n&&n(i)};return r==="edit"?c.jsxs("form",{onSubmit:l,className:"flex grow gap-2",children:[c.jsx("input",{onChange:a,className:QO,type:"text",value:i}),c.jsx("button",{title:"Save",className:"btn btn-square btn-sm btn-success",children:c.jsx(Rn,{})})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:Ue("truncate",t),children:i}),c.jsx("button",{onClick:()=>s("edit"),className:"btn btn-sm btn-square ml-1",children:c.jsx(FR,{title:"Edit"})})]})};var JO=Object.defineProperty,eP=Object.defineProperties,tP=Object.getOwnPropertyDescriptors,Lf=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,Xk=Object.prototype.propertyIsEnumerable,RS=(e,t,n)=>t in e?JO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vn=(e,t)=>{for(var n in t||(t={}))Kk.call(t,n)&&RS(e,n,t[n]);if(Lf)for(var n of Lf(t))Xk.call(t,n)&&RS(e,n,t[n]);return e},Sl=(e,t)=>eP(e,tP(t)),nP=(e,t)=>{var n={};for(var r in e)Kk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lf)for(var r of Lf(e))t.indexOf(r)<0&&Xk.call(e,r)&&(n[r]=e[r]);return n},ka={position:"absolute",width:"100%",height:"100%",top:0,bottom:0,left:0,right:0},MS={display:"inline-block"},rP={video:MS,overlay:MS,container:null,manual:null},sP={video:ka,overlay:{position:"relative"},container:ka,manual:null},iP={video:{display:"block",width:"100%"},overlay:ka,container:ka,manual:null},Ff="--hvp-overlay-transition-duration",pm={visibility:"visible",opacity:1,transitionProperty:"opacity",transitionDuration:`var(${Ff})`},mm={visibility:"hidden",opacity:0,transitionProperty:"opacity, visibility",transitionDuration:`var(${Ff}), 0s`,transitionDelay:`0s, var(${Ff})`};function oP(e){var t=e,{videoSrc:n,videoCaptions:r=null,focused:s=!1,disableDefaultEventHandling:i=!1,hoverTarget:o=null,onHoverStart:a=null,onHoverEnd:l=null,hoverOverlay:u=null,pausedOverlay:d=null,loadingOverlay:f=null,loadingStateTimeout:h=200,overlayTransitionDuration:p=400,playbackStartDelay:m=0,restartOnPaused:y=!1,unloadVideoOnPaused:b=!1,playbackRangeStart:v=null,playbackRangeEnd:g=null,muted:S=!0,volume:E=1,loop:C=!0,preload:k=void 0,crossOrigin:x=void 0,controls:_=!1,controlsList:T=void 0,disableRemotePlayback:I=!0,disablePictureInPicture:M=!0,style:R=void 0,hoverOverlayWrapperClassName:$=void 0,hoverOverlayWrapperStyle:L=void 0,pausedOverlayWrapperClassName:H=void 0,pausedOverlayWrapperStyle:W=void 0,loadingOverlayWrapperClassName:ie=void 0,loadingOverlayWrapperStyle:A=void 0,videoId:V=void 0,videoClassName:ne=void 0,videoRef:B=null,videoStyle:te=void 0,sizingMode:fe="video"}=t,oe=nP(t,["videoSrc","videoCaptions","focused","disableDefaultEventHandling","hoverTarget","onHoverStart","onHoverEnd","hoverOverlay","pausedOverlay","loadingOverlay","loadingStateTimeout","overlayTransitionDuration","playbackStartDelay","restartOnPaused","unloadVideoOnPaused","playbackRangeStart","playbackRangeEnd","muted","volume","loop","preload","crossOrigin","controls","controlsList","disableRemotePlayback","disablePictureInPicture","style","hoverOverlayWrapperClassName","hoverOverlayWrapperStyle","pausedOverlayWrapperClassName","pausedOverlayWrapperStyle","loadingOverlayWrapperClassName","loadingOverlayWrapperStyle","videoId","videoClassName","videoRef","videoStyle","sizingMode"]);const ae=w.useRef(null),J=w.useRef(null);w.useImperativeHandle(B,()=>J.current),w.useEffect(()=>{J.current&&(J.current.muted=S)},[S]),w.useEffect(()=>{J.current&&(J.current.volume=E)},[E]),w.useEffect(()=>{J.current&&(J.current.disableRemotePlayback=I)},[I]),w.useEffect(()=>{J.current&&(J.current.disablePictureInPicture=M)},[M]),w.useEffect(()=>{const ye=J.current;ye&&v&&(ye.currentTime=v)},[v]);const[z,xe]=w.useState(null);w.useEffect(()=>{let ye=ae.current;o&&(typeof o=="function"?ye=o():o instanceof Node?ye=o:o&&o.hasOwnProperty("current")?ye=o.current:console.error("HoverVideoPlayer was unable to get a usable hover target element. Please check your usage of the `hoverTarget` prop.")),xe(ye)},[o]);const Pe=w.useRef(null),[Te,X]=w.useState(!1),[ee,me]=w.useState(!1),[Se,Qe]=w.useState(!1),kt=w.useRef();kt.current=Te;const qn=w.useRef(),Fr=w.useRef(),rn=w.useCallback(()=>{window.clearTimeout(qn.current),window.clearTimeout(Fr.current)},[]),N=!!d,O=!!u,P=N||O;w.useEffect(()=>{const ye=J.current;if(!z||!ye)return;const ct=()=>{kt.current||(rn(),X(!0))},an=()=>{rn(),X(!1)};return z.addEventListener("hvp:hoverStart",ct),z.addEventListener("hvp:hoverEnd",an),()=>{z.removeEventListener("hvp:hoverStart",ct),z.removeEventListener("hvp:hoverEnd",an)}},[rn,z,p,v,y,P]);const G=w.useCallback(()=>{const ye=J.current;ye&&ye.play().catch(ct=>{if(ct.name!=="AbortError")if(!ye.muted&&ct.name==="NotAllowedError"){console.warn("HoverVideoPlayer: Playback with sound was blocked by the browser. Attempting to play again with the video muted; audio will be restored if the user clicks on the page."),ye.muted=!0,G();const an=()=>{ye.muted=!1,document.removeEventListener("click",an)};document.addEventListener("click",an)}else console.error(`HoverVideoPlayer: ${ct.message}`)})},[]);w.useEffect(()=>{const ye=J.current;ye&&Te&&!ee&&!Se&&(Pe.current!==null&&ye.currentTime!==Pe.current&&(ye.currentTime=Pe.current),m?qn.current=window.setTimeout(G,m):G())},[Te,ee,Se,G,m]),w.useEffect(()=>{const ye=J.current;if(ye&&!Te&&(Se||ee)){const ct=()=>{ye.pause(),y&&(ye.currentTime=v||0),Pe.current=ye.currentTime};P?Fr.current=window.setTimeout(ct,p):ct()}},[Te,ee,Se,p,v,y,P]),w.useEffect(()=>()=>rn(),[rn]);const U=w.useRef();U.current=a;const q=w.useRef();q.current=l,w.useEffect(()=>{if(i||!z)return;const ye=()=>{var ln;z.dispatchEvent(new Event("hvp:hoverStart")),(ln=U.current)==null||ln.call(U)},ct=()=>{var ln;z.dispatchEvent(new Event("hvp:hoverEnd")),(ln=q.current)==null||ln.call(q)};z.addEventListener("mouseenter",ye),z.addEventListener("mouseleave",ct),z.addEventListener("focus",ye),z.addEventListener("blur",ct);const an={passive:!0};z.addEventListener("touchstart",ye,an);const Yn=ln=>{(!(ln.target instanceof Node)||!z.contains(ln.target))&&ct()};return window.addEventListener("touchstart",Yn,an),()=>{z.removeEventListener("mouseenter",ye),z.removeEventListener("mouseleave",ct),z.removeEventListener("focus",ye),z.removeEventListener("blur",ct),z.removeEventListener("touchstart",ye),window.removeEventListener("touchstart",Yn)}},[i,z]);const ce=w.useRef(!1);w.useEffect(()=>{z&&ce.current!==s&&(ce.current=s,s?z.dispatchEvent(new Event("hvp:hoverStart")):z.dispatchEvent(new Event("hvp:hoverEnd")))},[z,s]);const Me=w.useRef(n);let Fe=!1;n!==Me.current&&!Te&&!Se&&(Me.current=n,Fe=!0);const lt=typeof Me.current=="string";w.useEffect(()=>{const ye=J.current;ye&&Fe&&(ye.load(),Pe.current=v||0)},[v,Fe]);const Gn=b&&!Te&&!Se;w.useEffect(()=>{var ye;Gn&&((ye=J.current)==null||ye.load())},[Gn]);const sn=Te&&!Se,Ja=!Te||Te&&!Se,on=v!==null||g!==null,Ms=!!f;return Ee.createElement("div",vn({ref:ae,style:vn(Sl(vn({[Ff]:`${p}ms`},rP[fe]),{position:"relative"}),R)},oe),N?Ee.createElement("div",{style:vn(vn(Sl(vn({},sP[fe]),{zIndex:1}),Ja?pm:mm),W),className:H},d):null,Ms?Ee.createElement("div",{style:vn(vn(Sl(vn({},ka),{zIndex:2,transitionDelay:h?`${h}ms`:void 0}),sn?pm:mm),A),className:ie},f):null,O?Ee.createElement("div",{style:vn(vn(Sl(vn({},ka),{zIndex:3}),Te?pm:mm),L),className:$},u):null,Ee.createElement("video",{src:lt&&!Gn?Me.current:void 0,loop:on?!1:C,playsInline:!0,preload:k,crossOrigin:x,ref:J,style:vn(Sl(vn({},iP[fe]),{objectFit:"cover"}),te),controls:_,controlsList:T,className:ne,id:V,onPlaying:()=>Qe(!0),onPause:()=>Qe(!1),onEnded:()=>Qe(!1),onLoadStart:()=>me(!0),onSuspend:()=>me(!1),onWaiting:()=>me(!0),onLoadedData:()=>{var ye;me((((ye=J.current)==null?void 0:ye.readyState)||0)<HTMLMediaElement.HAVE_ENOUGH_DATA)},onAbort:()=>{me(!1)},onTimeUpdate:on?()=>{const ye=J.current;if(!ye)return;const ct=g||ye.duration,an=v||0,{currentTime:Yn}=ye;if(C&&Yn>=ct){const ln=v||0;ye.currentTime=ln,Te&&(ye.paused||ye.ended)&&G()}else Yn>ct?(ye.pause(),ye.currentTime=ct):Yn<an&&(ye.currentTime=an)}:void 0},Gn||lt?null:Me.current,r))}/**
 * @component HoverVideoPlayer
 * @license MIT
 *
 * @param {HoverVideoPlayerProps} props
 */const Va=({children:e,className:t})=>c.jsxs("div",{className:Ue("flex gap-4 items-center",t),children:[c.jsx("span",{className:"loading loading-ring w-16"}),e&&w.Children.count(e)>=1&&c.jsx("p",{children:e})]});function Bv({videoSource:e,imageSource:t,onImageClick:n,disabled:r,className:s,overlay:i,aspectRatio:o}){const a=Ue(s,"object-cover w-full h-full",{grayscale:r,"cursor-pointer":n,"aspect-[16/9]":o==="wide","aspect-square":o==="square","aspect-[9/16]":o==="tall"});return c.jsx(oP,{className:a,videoSrc:e,pausedOverlay:c.jsx("img",{width:499,height:280,onClick:n,src:t,className:a}),loadingOverlay:c.jsx(Va,{}),videoClassName:a,loop:!0,muted:!0,preload:"none",unloadVideoOnPaused:!0,onClick:n,hoverOverlay:i})}function aP(e,t){const n=new URLSearchParams(e.search);return n.set("query",t),{search:n.toString()}}const wl=({children:e,aspectRatio:t})=>t==="tall"?null:c.jsx(c.Fragment,{children:e}),gm=({children:e,className:t})=>c.jsx("span",{style:{textShadow:"0px 0px 8px black"},className:Ue("absolute text-white truncate max-w-full text-xs",t),children:e});function Zk(e,t){if(e.source==="Stash"&&t){const n=`${t.stashUrl}/scene/${e.stashSceneId}/screenshot`;return t.apiKey?`${n}?apikey=${t.apiKey}`:n}else return`/api/library/video/${e.id}/preview`}function Qk(e,t){if(e.source==="Stash"&&t){const n=`${t.stashUrl}/scene/${e.stashSceneId}/stream`;return t.apiKey?`${n}?apikey=${t.apiKey}`:n}else return`/api/library/video/${e.id}/file`}const lP=({onImageClick:e,video:t,stashConfig:n,disabled:r,aspectRatio:s,zoomOnHover:i})=>c.jsx(Bv,{onImageClick:()=>e&&e(t.video.id),imageSource:Zk(t.video,n),videoSource:Qk(t.video,n),disabled:r,aspectRatio:s,className:Ue("rounded-lg",{"transition-transform duration-150 hover:scale-105 hover:z-40 hover:shadow-2xl":i,"border border-green-500":t.markerCount>0}),overlay:c.jsxs(c.Fragment,{children:[c.jsx(gm,{className:"top-2 left-2",children:t.video.title}),c.jsxs(gm,{className:Ue({"bottom-2 right-2":s!=="tall","bottom-2 left-2":s==="tall"}),children:[c.jsx(wc,{className:"inline mr-1"}),at(t.video.duration)]}),s!=="tall"&&c.jsxs(gm,{className:"left-2 bottom-2",children:[c.jsx(Mh,{className:"inline mr-1"}),"Markers: ",c.jsx("strong",{children:t.markerCount})]})]})}),cP=({video:e,disabled:t,zoomOnHover:n,onAddTag:r,onImageClick:s,onEditTitle:i,stashConfig:o,aspectRatio:a,actionChildren:l})=>{var m;const u=xo(),d=((m=e.video.tags)==null?void 0:m.filter(Boolean))??[],f=new Date(e.video.createdOn*1e3),h=f.toISOString(),p=L2.format(f);return c.jsxs("article",{className:Ue("card card-compact bg-base-200 shadow-xl animate-in fade-in",{"ring ring-green-500":e.markerCount>0,"opacity-50":t,"transition-transform duration-150 hover:scale-105 hover:z-40 hover:shadow-2xl":n}),children:[c.jsx("figure",{children:c.jsx(Bv,{onImageClick:()=>s&&s(e.video.id),imageSource:Zk(e.video,o),videoSource:Qk(e.video,o),disabled:t,aspectRatio:a})}),c.jsxs("section",{className:"card-body gap-0",children:[c.jsxs("h2",{className:"card-title",children:[i&&c.jsx(Yk,{value:e.video.title||e.video.fileName,onSave:i}),!i&&c.jsx("span",{className:"truncate",children:e.video.title||e.video.fileName})]}),c.jsxs("ul",{className:"flex flex-col gap-2 self-start mb-2",children:[c.jsxs("li",{className:"mb-2 flex items-center",children:[d.length>0&&c.jsx("span",{className:"inline-flex flex-wrap gap-y-1 gap-x-0.5 -ml-2",children:d.map(y=>c.jsx(jt,{to:aP(u,y),className:"badge",children:y},y))}),d.length===0&&c.jsx("span",{className:"text-gray-400",children:"No tags"}),r&&c.jsx("button",{onClick:()=>r(e),type:"button",className:"btn btn-square btn-success btn-xs ml-2",children:c.jsx(or,{})})]}),c.jsxs("li",{children:[c.jsx(vR,{className:"inline mr-2"}),c.jsx(wl,{aspectRatio:a,children:"Interactive: "}),c.jsx("strong",{children:e.video.interactive?c.jsx(Rn,{className:"text-green-600 inline"}):c.jsx(dr,{className:"text-red-600 inline"})})]}),c.jsxs("li",{children:[c.jsx(Mh,{className:"inline mr-2"}),c.jsx(wl,{aspectRatio:a,children:"Markers: "}),c.jsx("strong",{children:e.markerCount})]}),c.jsxs("li",{children:[c.jsx(Nh,{className:"inline mr-2"}),c.jsx(wl,{aspectRatio:a,children:"Source: "}),c.jsx("strong",{children:e.video.source})]}),c.jsxs("li",{children:[c.jsx(wc,{className:"inline mr-2"}),c.jsx(wl,{aspectRatio:a,children:"Duration: "}),c.jsx("strong",{children:at(e.video.duration)})]}),c.jsxs("li",{children:[c.jsx(N2,{className:"inline mr-2"}),c.jsx(wl,{aspectRatio:a,children:"Created: "}),c.jsx("strong",{children:c.jsx("time",{dateTime:h,children:p})})]})]}),c.jsx("div",{className:Ue("card-actions justify-between grow",{"items-end":a!=="tall","items-center":a==="tall"}),children:l})]})]})},Jk=e=>e.hideDetails?c.jsx(lP,{...e}):c.jsx(cP,{...e});function DS(e,t,n){const r=new URLSearchParams(e);return r.set(t,n.toString()),{search:`?${r.toString()}`}}const eC=({currentPage:e,totalPages:t,startIndex:n=0})=>{const r=n===1?e<t:e<t-1,s=e>n,[i]=wi(),o=DS(i,"page",(e+1).toString()),a=DS(i,"page",(e-1).toString());return t<=1?null:c.jsxs("div",{className:"w-full flex justify-between items-center",children:[c.jsxs(jt,{to:a,className:Ue("btn",s&&"btn-primary",!s&&"btn-disabled"),children:[c.jsx(so,{className:"mr-2"}),"Previous"]}),c.jsxs("span",{children:["Page ",c.jsx("strong",{children:n===0?e+1:e})," ","of ",c.jsx("strong",{children:t})]}),c.jsxs(jt,{to:o,className:Ue("btn",r&&"btn-primary",!r&&"btn-disabled"),children:["Next",c.jsx(Rs,{className:"ml-2"})]})]})},tC=w.createContext(void 0),ou=()=>w.useContext(tC),uP=({children:e})=>{const[t,n]=w.useState();return w.useEffect(()=>{t||TM().then(r=>n(r)).catch(r=>console.error(r))},[]),c.jsx(tC.Provider,{value:t,children:e})},Hv=({onSubmit:e,onClose:t,isOpen:n})=>{const[r,s]=w.useState(""),i=async o=>{o.preventDefault(),e(r)};return c.jsxs(su,{size:"fluid",onClose:t,isOpen:n,children:[c.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Add tag to video"}),c.jsxs("form",{onSubmit:i,className:"flex flex-col self-center px-8",children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{htmlFor:"newTag",className:"label",children:c.jsx("span",{className:"label-text",children:"Tag"})}),c.jsx("input",{type:"text",className:"input input-primary",placeholder:"Enter new tag",value:r,onChange:o=>s(o.target.value),autoFocus:!0,name:"newTag"})]}),c.jsxs("button",{className:"btn btn-success self-end mt-2",type:"submit",children:[c.jsx(or,{}),"Add"]})]})]})};function nC(){const[e,t]=iu("videoGridAspectRatio","wide");return[e,t]}function dP(e){switch(e){case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";case 7:return"grid-cols-7";case 8:return"grid-cols-8";default:return"grid-cols-3"}}const rC=({editableTitles:e,editableTags:t,actionChildren:n,onVideoClick:r,hideMarkerCountFilter:s,isVideoDisabled:i,noVideosFoundMessage:o})=>{var ne;const a=zn(),[l]=wi(),[u,d]=w.useState(void 0),[f]=nC(),[h,p]=iu("videoGridRowCount",3),m=dP(h),{addOrReplaceParams:y,addOrReplaceParam:b,setQueryDebounced:v}=Xh(),g=l.get("details")==="true",S=B=>{B?b("details","true"):b("details",void 0)},E=ou(),C=js(),k=a.content,{register:x,handleSubmit:_,watch:T}=es({mode:"onChange",defaultValues:Object.fromEntries(l.entries())}),M=cv().state==="loading",R=T(),$=!((ne=R.query)!=null&&ne.trim())&&!R.sort&&!R.hasMarkers&&!R.isInteractive&&!R.source,L=k.length===0&&$&&!M,H=k.length===0&&!$&&!M;function W(B){var oe;const te=!!((oe=B.query)!=null&&oe.trim()),fe=[["sort",B.sort],["hasMarkers",B.hasMarkers],["isInteractive",B.isInteractive],["source",B.source==="All"?void 0:B.source]];te?v(B.query.trim()):fe.push(["query",void 0]),y(fe)}async function ie(B,te){await Db(B,{title:te})}function A(B){d(B)}async function V(B,te){await Db(B.video.id,{tags:[...B.video.tags,te]}),C.revalidate(),d(void 0)}return c.jsxs(c.Fragment,{children:[!L&&c.jsxs("form",{onSubmit:_(W),className:"flex items-center w-full justify-between",children:[c.jsx("input",{type:"text grow",placeholder:"Filter...",className:"input input-primary w-full lg:w-96",...x("query")}),c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("label",{className:"label",htmlFor:"source",children:c.jsx("span",{className:"label-text",children:"Video source"})}),c.jsxs("select",{className:"select select-sm select-bordered",...x("source"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Filter video source"}),c.jsx("option",{value:"All",children:"All"}),c.jsx("option",{value:"Folder",children:"Local folder"}),c.jsx("option",{value:"Stash",children:"Stash"}),c.jsx("option",{value:"Download",children:"Downloaded"})]})]}),c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx("label",{className:"label",htmlFor:"sort",children:c.jsx("span",{className:"label-text",children:"Sort by"})}),c.jsxs("select",{className:"select select-sm select-bordered",...x("sort"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Sort by..."}),c.jsx("option",{value:"markers",children:"Number of markers"}),c.jsx("option",{value:"title",children:"Video title"}),c.jsx("option",{value:"created",children:"Created on"}),c.jsx("option",{value:"duration",children:"Duration"})]})]}),!s&&c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx("label",{className:"label",htmlFor:"hasMarkers",children:c.jsx("span",{className:"label-text",children:"Has markers"})}),c.jsxs("select",{className:"select select-sm select-bordered",...x("hasMarkers"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Has markers"}),c.jsx("option",{value:"",children:"All"}),c.jsx("option",{value:"true",children:"Yes"}),c.jsx("option",{value:"false",children:"No"})]})]}),c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx("label",{className:"label",htmlFor:"isInteractive",children:c.jsx("span",{className:"label-text",children:"Interactive"})}),c.jsxs("select",{className:"select select-sm select-bordered",...x("isInteractive"),children:[c.jsx("option",{disabled:!0,value:"none",children:"Has markers"}),c.jsx("option",{value:"",children:"All"}),c.jsx("option",{value:"true",children:"Yes"}),c.jsx("option",{value:"false",children:"No"})]})]}),c.jsxs("button",{type:"submit",className:"btn btn-primary",children:[c.jsx(j2,{})," Search"]}),c.jsx("button",{type:"reset",className:"btn btn-ghost btn-square",children:c.jsx(dr,{})})]})]}),c.jsxs("section",{className:"w-full flex py-4 items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qk,{}),c.jsx("div",{className:"form-control",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text mr-1",children:"Show details"}),c.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",checked:g,onChange:B=>S(B.target.checked),name:"showDetails"})]})})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("input",{type:"range",className:"range range-sm range-primary w-64",value:h,onChange:B=>p(B.target.valueAsNumber),min:3,max:8}),c.jsxs("div",{className:"w-full flex justify-between text-xs px-2",children:[c.jsx("span",{children:"3"}),c.jsx("span",{children:"8"})]})]})]}),c.jsx(Hv,{isOpen:!!u,onClose:()=>d(void 0),onSubmit:B=>V(u,B)}),L&&c.jsxs("div",{className:"flex flex-col items-center justify-center mt-8",children:[c.jsx(Ih,{className:"text-8xl"}),c.jsx("h1",{className:"text-xl",children:"No videos found"}),c.jsx("p",{children:o||"Add some videos with the button above!"})]}),H&&c.jsxs("div",{className:"flex flex-col items-center justify-center mt-8",children:[c.jsx(dr,{className:"text-8xl"}),c.jsx("h1",{className:"text-xl",children:"No videos found"}),c.jsx("p",{children:"Try changing the filter."})]}),c.jsx("section",{className:Ue("grid w-full mb-4",m,{"gap-3":g,"gap-1":!g}),children:k.map(B=>c.jsx(Jk,{video:B,actionChildren:n&&n(B,f),stashConfig:E==null?void 0:E.stash,onImageClick:r,disabled:i?i(B):!1,onEditTitle:e&&B.video.source!=="Stash"?te=>ie(B.video.id,te):void 0,onAddTag:t&&B.video.source!=="Stash"?te=>A(te):void 0,hideDetails:!g,aspectRatio:f},B.video.id))}),c.jsx(eC,{totalPages:a.totalPages,currentPage:a.pageNumber})]})},Vv=({page:e,className:t,startIndex:n=0})=>{const r=(e.pageNumber-n)*e.pageSize+1,s=r+e.content.length-1;return c.jsxs("p",{className:t,children:["Showing videos"," ",c.jsxs("strong",{children:[r,"-",s]})," ","of ",c.jsx("strong",{children:e.totalItems}),"."]})},zv=w.createContext(void 0),fP=()=>w.useContext(zv),au=()=>{const{setToastData:e}=w.useContext(zv);return e},hP=({children:e})=>{const[t,n]=w.useState();return c.jsx(zv.Provider,{value:{setToastData:n,data:t},children:e})};function pP(){const{actions:e}=Ft({updateForm:hr}),t=Rt(),n=zn(),r=js(),[s,i]=w.useState(),o=n.content,[a]=wi(),l=au(),u=m=>{const y=a.toString();t(`/library/${m}/markers?${y}`)},d=()=>{const m=o.filter(y=>y.markerCount>0).some(y=>y.video.interactive);e.updateForm({stage:Kt.SelectVideos,interactive:m,selectedMarkers:void 0}),t("/library/select")},f=async m=>{confirm("Are you sure you want to remove this video and all its markers?")&&(await uM(m),r.revalidate())},h=async()=>{if(confirm("This will delete all videos from the database that can no longer be found on disk. Are you sure?")){const{deletedCount:m}=await iM();l({type:"success",message:`${m} videos deleted.`}),r.revalidate()}},p=async m=>{i(m),await fM(m),r.revalidate(),i(void 0)};return c.jsxs(c.Fragment,{children:[c.jsx(Uv,{}),c.jsxs("div",{className:"my-4 grid grid-cols-3 items-center",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(jt,{to:"add",className:"btn btn-success",children:[c.jsx(or,{className:"mr-2"}),"Add videos"]}),o.length>0&&c.jsxs("button",{onClick:h,className:"btn btn-error",children:[c.jsx(di,{className:"mr-2"}),"Clean up"]})]}),c.jsx("div",{className:"",children:o.length>0&&c.jsx(Vv,{page:n,className:"mb-1 text-center"})}),o.length>0&&c.jsxs("button",{className:"btn btn-success place-self-end",onClick:d,children:["Next",c.jsx(Rs,{className:"ml-1"})]})]}),c.jsx(rC,{editableTitles:!0,editableTags:!0,onVideoClick:u,actionChildren:(m,y)=>c.jsx(c.Fragment,{children:c.jsxs("div",{className:Ue("flex gap-1 items-center",{"flex-col":y==="tall"}),children:[m.video.source==="Stash"&&c.jsxs("button",{onClick:()=>p(m.video.id),className:"btn btn-sm btn-secondary",disabled:s===m.video.id,children:[c.jsx(VR,{}),"Sync"]}),c.jsxs("button",{onClick:()=>f(m.video.id),className:"btn btn-error btn-sm",children:[c.jsx(di,{})," Delete"]}),c.jsxs("button",{onClick:()=>u(m.video.id),className:"btn btn-sm btn-primary",children:[c.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Markers"]})]})})})]})}function mP({version:e}){return c.jsxs("footer",{className:"w-full text-center text-sm flex flex-col gap-1 my-4",children:[c.jsxs("p",{children:["ClipMash v",e]}),c.jsxs("p",{children:["Made with ",c.jsx("span",{className:"text-red-500",children:"❤️"})," by"," ",c.jsx(ar,{href:"https://soundchaser128.xyz",children:"soundchaser128"}),"."]}),c.jsxs("p",{children:["This project is open source and available on"," ",c.jsx(ar,{href:"https://github.com/soundchaser128/clip-mash",children:"GitHub"}),"."]})]})}const gP=()=>{const[e,t]=iu("theme","clip-mash-light"),n=()=>{t(e==="clip-mash-dark"?"clip-mash-light":"clip-mash-dark")};return w.useEffect(()=>{document.body.dataset.theme=e},[e]),c.jsx("button",{className:"btn btn-circle btn-md fixed left-4 bottom-4 shadow-lg",onClick:n,children:e==="clip-mash-dark"?c.jsx(BR,{className:"w-6 h-6"}):c.jsx(PR,{className:"w-6 h-6"})})},Wv=({type:e,children:t,hideCloseButton:n,onClose:r,className:s})=>{const[i,o]=w.useState(!0),a=()=>{o(!1),r&&r()};if(!i)return null;let l;switch(e){case"success":l=Rn;break;case"error":l=MR;break;case"warning":l=DR;break;default:l=Jc;break}return c.jsx("div",{className:"toast toast-top toast-center text-lg z-50",children:c.jsxs("div",{className:Ue("relative alert shadow-xl min-w-[400px]",{"alert-success":e==="success","alert-error":e==="error","alert-warning":e==="warning","alert-info":e==="info"},s),children:[c.jsx(l,{className:"w-8 h-8"}),c.jsx("div",{className:"w-full text-center",children:t}),!n&&c.jsx(dr,{onClick:a,className:"w-4 h-4 absolute top-2 right-2 cursor-pointer"})]})})},De=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Yi="8.55.0",We=globalThis;function Zh(e,t,n){const r=n||We,s=r.__SENTRY__=r.__SENTRY__||{},i=s[Yi]=s[Yi]||{};return i[e]||(i[e]=t())}const _i=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,yP="Sentry Logger ",d0=["debug","info","warn","error","log","assert","trace"],$f={};function Ei(e){if(!("console"in We))return e();const t=We.console,n={},r=Object.keys($f);r.forEach(s=>{const i=$f[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function vP(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return _i?d0.forEach(n=>{t[n]=(...r)=>{e&&Ei(()=>{We.console[n](`${yP}[${n}]:`,...r)})}}):d0.forEach(n=>{t[n]=()=>{}}),t}const K=Zh("logger",vP),sC=50,uo="?",OS=/\(error: (.*)\)/,PS=/captureMessage|captureException/;function iC(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const u=OS.test(l)?l.replace(OS,"$1"):l;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){i.push(f);break}}if(i.length>=sC+s)break}}return bP(i.slice(s))}}function xP(e){return Array.isArray(e)?iC(...e):e}function bP(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Ku(t).function||"")&&t.pop(),t.reverse(),PS.test(Ku(t).function||"")&&(t.pop(),PS.test(Ku(t).function||"")&&t.pop()),t.slice(0,sC).map(n=>({...n,filename:n.filename||Ku(t).filename,function:n.function||uo}))}function Ku(e){return e[e.length-1]||{}}const ym="<anonymous>";function ws(e){try{return!e||typeof e!="function"?ym:e.name||ym}catch{return ym}}function AS(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Nd={},LS={};function ki(e,t){Nd[e]=Nd[e]||[],Nd[e].push(t)}function Ci(e,t){if(!LS[e]){LS[e]=!0;try{t()}catch(n){_i&&K.error(`Error while instrumenting ${e}`,n)}}}function lr(e,t){const n=e&&Nd[e];if(n)for(const r of n)try{r(t)}catch(s){_i&&K.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ws(r)}
Error:`,s)}}let vm=null;function oC(e){const t="error";ki(t,e),Ci(t,SP)}function SP(){vm=We.onerror,We.onerror=function(e,t,n,r,s){return lr("error",{column:r,error:s,line:n,msg:e,url:t}),vm?vm.apply(this,arguments):!1},We.onerror.__SENTRY_INSTRUMENTED__=!0}let xm=null;function aC(e){const t="unhandledrejection";ki(t,e),Ci(t,wP)}function wP(){xm=We.onunhandledrejection,We.onunhandledrejection=function(e){return lr("unhandledrejection",e),xm?xm.apply(this,arguments):!0},We.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function bo(){return qv(We),We}function qv(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Yi,t[Yi]=t[Yi]||{}}const lC=Object.prototype.toString;function Gv(e){switch(lC.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return _s(e,Error)}}function za(e,t){return lC.call(e)===`[object ${t}]`}function cC(e){return za(e,"ErrorEvent")}function FS(e){return za(e,"DOMError")}function _P(e){return za(e,"DOMException")}function gs(e){return za(e,"String")}function Yv(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Kv(e){return e===null||Yv(e)||typeof e!="object"&&typeof e!="function"}function Ca(e){return za(e,"Object")}function Qh(e){return typeof Event<"u"&&_s(e,Event)}function EP(e){return typeof Element<"u"&&_s(e,Element)}function kP(e){return za(e,"RegExp")}function Jh(e){return!!(e&&e.then&&typeof e.then=="function")}function CP(e){return Ca(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _s(e,t){try{return e instanceof t}catch{return!1}}function uC(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const aa=We,TP=80;function Es(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||TP;for(;n&&i++<r&&(u=NP(n,d),!(u==="html"||i>1&&o+s.length*l+u.length>=f));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function NP(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(aa.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&gs(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function dC(){try{return aa.document.location.href}catch{return""}}function IP(e){return aa.document&&aa.document.querySelector?aa.document.querySelector(e):null}function fC(e){if(!aa.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function la(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function $S(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{uC(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function jP(e,t,n=!1){return gs(e)?kP(t)?t.test(e):gs(t)?n?e===t:e.includes(t):!1:!1}function ai(e,t=[],n=!1){return t.some(r=>jP(e,r,n))}function Tn(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&hC(s,r);try{e[t]=s}catch{_i&&K.log(`Failed to replace method "${t}" in object`,e)}}function fr(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{_i&&K.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function hC(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,fr(e,"__sentry_original__",t)}catch{}}function Xv(e){return e.__sentry_original__}function pC(e){if(Gv(e))return{message:e.message,name:e.name,stack:e.stack,...BS(e)};if(Qh(e)){const t={type:e.type,target:US(e.target),currentTarget:US(e.currentTarget),...BS(e)};return typeof CustomEvent<"u"&&_s(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function US(e){try{return EP(e)?Es(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function BS(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function RP(e,t=40){const n=Object.keys(pC(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return la(r,t);for(let s=n.length;s>0;s--){const i=n.slice(0,s).join(", ");if(!(i.length>t))return s===n.length?i:la(i,t)}return""}function At(e){return f0(e,new Map)}function f0(e,t){if(MP(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))typeof e[s]<"u"&&(r[s]=f0(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(f0(s,t))}),r}return e}function MP(e){if(!Ca(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const mC=1e3;function lu(){return Date.now()/mC}function DP(){const{performance:e}=We;if(!e||!e.now)return lu;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/mC}const zt=DP(),Qt=(()=>{const{performance:e}=We;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,u=l<t;return i||u?s<=l?e.timeOrigin:o:r})();function mn(){const e=We,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function gC(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Fs(e){const{message:t,event_id:n}=e;if(t)return t;const r=gC(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function h0(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ta(e,t){const n=gC(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function HS(e){if(OP(e))return!0;try{fr(e,"__sentry_captured__",!0)}catch{}return!1}function OP(e){try{return e.__sentry_captured__}catch{}}var cs;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(cs||(cs={}));function ks(e){return new er(t=>{t(e)})}function Uf(e){return new er((t,n)=>{n(e)})}class er{constructor(t){er.prototype.__init.call(this),er.prototype.__init2.call(this),er.prototype.__init3.call(this),er.prototype.__init4.call(this),this._state=cs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new er((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new er((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(cs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(cs.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===cs.PENDING){if(Jh(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===cs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===cs.RESOLVED&&n[1](this._value),this._state===cs.REJECTED&&n[2](this._value),n[0]=!0)})}}}function PP(e){const t=zt(),n={sid:mn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>LP(n)};return e&&Na(n,e),n}function Na(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||zt(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:mn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function AP(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Na(e,n)}function LP(e){return At({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function fi(){return mn()}function hi(){return mn().substring(16)}function ep(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=ep(r[s],t[s],n-1));return r}const p0="_sentrySpan";function Lc(e,t){t?fr(e,p0,t):delete e[p0]}function Bf(e){return e[p0]}const FP=100;class Zv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:fi(),spanId:hi()}}clone(){const t=new Zv;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Lc(t,Bf(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Na(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof fo?[n.getScopeData(),n.getRequestSession()]:Ca(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:l,level:u,fingerprint:d=[],propagationContext:f}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Lc(this,void 0),this._attachments=[],this.setPropagationContext({traceId:fi()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:FP;if(r<=0)return this;const s={timestamp:lu(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Bf(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=ep(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:hi(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:mn();if(!this._client)return K.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:mn();if(!this._client)return K.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:mn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(K.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const fo=Zv;function $P(){return Zh("defaultCurrentScope",()=>new fo)}function UP(){return Zh("defaultIsolationScope",()=>new fo)}class BP{constructor(t,n){let r;t?r=t:r=new fo;let s;n?s=n:s=new fo,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Jh(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ia(){const e=bo(),t=qv(e);return t.stack=t.stack||new BP($P(),UP())}function HP(e){return Ia().withScope(e)}function VP(e,t){const n=Ia();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function VS(e){return Ia().withScope(()=>e(Ia().getIsolationScope()))}function zP(){return{withIsolationScope:VS,withScope:HP,withSetScope:VP,withSetIsolationScope:(e,t)=>VS(t),getCurrentScope:()=>Ia().getScope(),getIsolationScope:()=>Ia().getIsolationScope()}}function Wa(e){const t=qv(e);return t.acs?t.acs:zP()}function nt(){const e=bo();return Wa(e).getCurrentScope()}function Ar(){const e=bo();return Wa(e).getIsolationScope()}function WP(){return Zh("globalScope",()=>new fo)}function Qv(...e){const t=bo(),n=Wa(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function He(){return nt().getClient()}function qP(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return At({trace_id:n,span_id:r,parent_span_id:s})}const GP="_sentryMetrics";function m0(e){const t=e[GP];if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(At(s));return n}const Gr="sentry.source",yC="sentry.sample_rate",ho="sentry.op",Wt="sentry.origin",g0="sentry.idle_span_finish_reason",tp="sentry.measurement_unit",np="sentry.measurement_value",zS="sentry.custom_span_name",YP="sentry.profile_id",Jv="sentry.exclusive_time",KP=0,vC=1,Bt=2;function XP(e){if(e<400&&e>=100)return{code:vC};if(e>=400&&e<500)switch(e){case 401:return{code:Bt,message:"unauthenticated"};case 403:return{code:Bt,message:"permission_denied"};case 404:return{code:Bt,message:"not_found"};case 409:return{code:Bt,message:"already_exists"};case 413:return{code:Bt,message:"failed_precondition"};case 429:return{code:Bt,message:"resource_exhausted"};case 499:return{code:Bt,message:"cancelled"};default:return{code:Bt,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Bt,message:"unimplemented"};case 503:return{code:Bt,message:"unavailable"};case 504:return{code:Bt,message:"deadline_exceeded"};default:return{code:Bt,message:"internal_error"}}return{code:Bt,message:"unknown_error"}}function xC(e,t){e.setAttribute("http.response.status_code",t);const n=XP(t);n.message!=="unknown_error"&&e.setStatus(n)}const e1="sentry-",ZP=/^sentry-/,QP=8192;function bC(e){const t=eA(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(ZP)){const o=s.slice(e1.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function JP(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${e1}${r}`]=s),n),{});return tA(t)}function eA(e){if(!(!e||!gs(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=WS(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):WS(e)}function WS(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function tA(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>QP?(_i&&K.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const SC=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function nA(e){if(!e)return;const t=e.match(SC);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function rA(e,t){const n=nA(e),r=bC(t);if(!n||!n.traceId)return{traceId:fi(),spanId:hi()};const{traceId:s,parentSpanId:i,parentSampled:o}=n,a=hi();return{traceId:s,parentSpanId:i,spanId:a,sampled:o,dsc:r||{}}}function wC(e=fi(),t=hi(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const _C=0,EC=1;let qS=!1;function sA(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a}=Ve(e);return At({parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a})}function iA(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:Ve(e).parent_span_id,i=r?hi():t;return At({parent_span_id:s,span_id:i,trace_id:n})}function oA(e){const{traceId:t,spanId:n}=e.spanContext(),r=So(e);return wC(t,n,r)}function Ki(e){return typeof e=="number"?GS(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?GS(e.getTime()):zt()}function GS(e){return e>9999999999?e/1e3:e}function Ve(e){if(lA(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(aA(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l}=e;return At({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:Ki(s),timestamp:Ki(o)||void 0,status:kC(l),op:r[ho],origin:r[Wt],_metrics_summary:m0(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function aA(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function lA(e){return typeof e.getSpanJSON=="function"}function So(e){const{traceFlags:t}=e.spanContext();return t===EC}function kC(e){if(!(!e||e.code===KP))return e.code===vC?"ok":e.message||"unknown_error"}const Xi="_sentryChildSpans",y0="_sentryRootSpan";function CC(e,t){const n=e[y0]||e;fr(t,y0,n),e[Xi]?e[Xi].add(t):fr(e,Xi,new Set([t]))}function cA(e,t){e[Xi]&&e[Xi].delete(t)}function Id(e){const t=new Set;function n(r){if(!t.has(r)&&So(r)){t.add(r);const s=r[Xi]?Array.from(r[Xi]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function Lt(e){return e[y0]||e}function $t(){const e=bo(),t=Wa(e);return t.getActiveSpan?t.getActiveSpan():Bf(nt())}function TC(){qS||(Ei(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),qS=!0)}let YS=!1;function uA(){YS||(YS=!0,oC(v0),aC(v0))}function v0(){const e=$t(),t=e&&Lt(e);if(t){const n="internal_error";De&&K.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Bt,message:n})}}v0.tag="sentry_tracingErrorCallback";const NC="_sentryScope",IC="_sentryIsolationScope";function dA(e,t,n){e&&(fr(e,IC,n),fr(e,NC,t))}function KS(e){return{scope:e[NC],isolationScope:e[IC]}}function pi(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=He(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class qa{constructor(t={}){this._traceId=t.traceId||fi(),this._spanId=t.spanId||hi()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:_C}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const rp="production",jC="_frozenDsc";function XS(e,t){fr(e,jC,t)}function RC(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=At({environment:n.environment||rp,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function MC(e,t){const n=t.getPropagationContext();return n.dsc||RC(n.traceId,e)}function wo(e){const t=He();if(!t)return{};const n=Lt(e),r=n[jC];if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&bC(i);if(o)return o;const a=RC(e.spanContext().traceId,t),l=Ve(n),u=l.data||{},d=u[yC];d!=null&&(a.sample_rate=`${d}`);const f=u[Gr],h=l.description;return f!=="url"&&h&&(a.transaction=h),pi()&&(a.sampled=String(So(n))),t.emit("createDsc",a,n),a}function fA(e){if(!De)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Ve(e),{spanId:s}=e.spanContext(),i=So(e),o=Lt(e),a=o===e,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:f}=Ve(o);u.push(`root ID: ${o.spanContext().spanId}`),d&&u.push(`root op: ${d}`),f&&u.push(`root description: ${f}`)}K.log(`${l}
  ${u.join(`
  `)}`)}function hA(e){if(!De)return;const{description:t="< unknown name >",op:n="< unknown op >"}=Ve(e),{spanId:r}=e.spanContext(),i=Lt(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;K.log(o)}function Hf(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){De&&K.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function pA(e,t){if(!pi(e))return[!1];const n=Ar().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let s;typeof e.tracesSampler=="function"?s=e.tracesSampler(r):r.parentSampled!==void 0?s=r.parentSampled:typeof e.tracesSampleRate<"u"?s=e.tracesSampleRate:s=1;const i=Hf(s);return i===void 0?(De&&K.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):i?Math.random()<i?[!0,i]:(De&&K.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[!1,i]):(De&&K.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i])}const mA=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function gA(e){return e==="http"||e==="https"}function cu(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function yA(e){const t=mA.exec(e);if(!t){Ei(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let l="",u=a;const d=u.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),u=d.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return DC({host:i,pass:s,path:l,projectId:u,port:o,protocol:n,publicKey:r})}function DC(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function vA(e){if(!_i)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(K.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?gA(r)?t&&isNaN(parseInt(t,10))?(K.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(K.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(K.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function xA(e){const t=typeof e=="string"?yA(e):DC(e);if(!(!t||!vA(t)))return t}function bA(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function br(e,t=100,n=1/0){try{return x0("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function OC(e,t=3,n=100*1024){const r=br(e,t);return EA(r)>n?OC(e,t-1,n):r}function x0(e,t,n=1/0,r=1/0,s=bA()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=SA(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return x0("",p,l-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=pC(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=r){d[p]="[MaxProperties ~]";break}const m=h[p];d[p]=x0(p,m,l-1,r,s),f++}return o(t),d}function SA(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(uC(t))return"[VueViewModel]";if(CP(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ws(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=wA(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function wA(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function _A(e){return~-encodeURI(e).split(/%..|./).length}function EA(e){return _A(JSON.stringify(e))}function _o(e,t=[]){return[e,t]}function kA(e,t){const[n,r]=e;return[n,[...r,t]]}function b0(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function S0(e){return We.__SENTRY__&&We.__SENTRY__.encodePolyfill?We.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function CA(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[S0(r),i]:r.push(typeof i=="string"?S0(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(br(a))}s(l)}}return typeof r=="string"?r:TA(r)}function TA(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function NA(e){return[{type:"span"},e]}function IA(e){const t=typeof e.data=="string"?S0(e.data):e.data;return[At({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const jA={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function ZS(e){return jA[e]}function t1(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function PC(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:cu(r)},...s&&{trace:At({...s})}}}function RA(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function MA(e,t,n,r){const s=t1(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:cu(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return _o(i,[o])}function DA(e,t,n,r){const s=t1(n),i=e.type&&e.type!=="replay_event"?e.type:"event";RA(e,n&&n.sdk);const o=PC(e,s,r,t);return delete e.sdkProcessingMetadata,_o(o,[[{type:i},e]])}function OA(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=wo(e[0]),s=t&&t.getDsn(),i=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:cu(s)}},a=t&&t.getOptions().beforeSendSpan,l=a?d=>{const f=a(Ve(d));return f||TC(),f}:d=>Ve(d),u=[];for(const d of e){const f=l(d);f&&u.push(NA(f))}return _o(o,u)}function PA(e,t,n,r=$t()){const s=r&&Lt(r);s&&(De&&K.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[np]:t,[tp]:n}))}function QS(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[tp],i=r[np];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const JS=1e3;class n1{constructor(t={}){this._traceId=t.traceId||fi(),this._spanId=t.spanId||hi(),this._startTime=t.startTimestamp||zt(),this._attributes={},this.setAttributes({[Wt]:"manual",[ho]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?EC:_C}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Ki(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Gr,"custom"),this}end(t){this._endTime||(this._endTime=Ki(t),hA(this),this._onSpanEnded())}getSpanJSON(){return At({data:this._attributes,description:this._name,op:this._attributes[ho],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:kC(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Wt],_metrics_summary:m0(this),profile_id:this._attributes[YP],exclusive_time:this._attributes[Jv],measurements:QS(this._events),is_segment:this._isStandaloneSpan&&Lt(this)===this||void 0,segment_id:this._isStandaloneSpan?Lt(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){De&&K.log("[Tracing] Adding an event to span:",t);const s=ew(n)?n:r||zt(),i=ew(n)?{}:n||{},o={name:t,time:Ki(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=He();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Lt(this)))return;if(this._isStandaloneSpan){this._sampled?LA(OA([this],t)):(De&&K.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(KS(this).scope||nt()).captureEvent(r)}_convertSpanToTransaction(){if(!tw(Ve(this)))return;this._name||(De&&K.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=KS(this),s=(t||nt()).getClient()||He();if(this._sampled!==!0){De&&K.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const o=Id(this).filter(f=>f!==this&&!AA(f)).map(f=>Ve(f)).filter(tw),a=this._attributes[Gr];delete this._attributes[zS],o.forEach(f=>{f.data&&delete f.data[zS]});const l={contexts:{trace:sA(this)},spans:o.length>JS?o.sort((f,h)=>f.start_timestamp-h.start_timestamp).slice(0,JS):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...At({dynamicSamplingContext:wo(this)})},_metrics_summary:m0(this),...a&&{transaction_info:{source:a}}},u=QS(this._events);return u&&Object.keys(u).length&&(De&&K.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),l.measurements=u),l}}function ew(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function tw(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function AA(e){return e instanceof n1&&e.isStandaloneSpan()}function LA(e){const t=He();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const AC="__SENTRY_SUPPRESS_TRACING__";function uu(e){const t=FC();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=$A(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>Qv(e.scope,o):s!==void 0?o=>LC(s,o):o=>o())(()=>{const o=nt(),a=BA(o);return e.onlyIfParent&&!a?new qa:FA({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function LC(e,t){const n=FC();return n.withActiveSpan?n.withActiveSpan(e,t):Qv(r=>(Lc(r,e||void 0),t(r)))}function FA({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!pi())return new qa;const s=Ar();let i;if(e&&!n)i=UA(e,r,t),CC(e,i);else if(e){const o=wo(e),{traceId:a,spanId:l}=e.spanContext(),u=So(e);i=nw({traceId:a,parentSpanId:l,...t},r,u),XS(i,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=nw({traceId:o,parentSpanId:l,...t},r,u),a&&XS(i,a)}return fA(i),dA(i,r,s),i}function $A(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Ki(e.startTime),delete r.startTime,r}return n}function FC(){const e=bo();return Wa(e)}function nw(e,t,n){const r=He(),s=r&&r.getOptions()||{},{name:i="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[AC]?[!1]:pA(s,{name:i,parentSampled:n,attributes:o,transactionContext:{name:i,parentSampled:n}}),u=new n1({...e,attributes:{[Gr]:"custom",...e.attributes},sampled:a});return l!==void 0&&u.setAttribute(yC,l),r&&r.emit("spanStart",u),u}function UA(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[AC]?!1:So(e),o=i?new n1({...n,parentSpanId:r,traceId:s,sampled:i}):new qa({traceId:s});CC(e,o);const a=He();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function BA(e){const t=Bf(e);if(!t)return;const n=He();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Lt(t):t}const jd={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},HA="heartbeatFailed",VA="idleTimeout",zA="finalTimeout",WA="externalFinish";function $C(e,t={}){const n=new Map;let r=!1,s,i=WA,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=jd.idleTimeout,finalTimeout:u=jd.finalTimeout,childSpanTimeout:d=jd.childSpanTimeout,beforeSpanEnd:f}=t,h=He();if(!h||!pi())return new qa;const p=nt(),m=$t(),y=qA(e);y.end=new Proxy(y.end,{apply(k,x,_){f&&f(y);const[T,...I]=_,M=T||zt(),R=Ki(M),$=Id(y).filter(A=>A!==y);if(!$.length)return C(R),Reflect.apply(k,x,[R,...I]);const L=$.map(A=>Ve(A).timestamp).filter(A=>!!A),H=L.length?Math.max(...L):void 0,W=Ve(y).start_timestamp,ie=Math.min(W?W+u/1e3:1/0,Math.max(W||-1/0,Math.min(R,H||1/0)));return C(ie),Reflect.apply(k,x,[ie,...I])}});function b(){s&&(clearTimeout(s),s=void 0)}function v(k){b(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=VA,y.end(k))},l)}function g(k){s=setTimeout(()=>{!r&&o&&(i=HA,y.end(k))},d)}function S(k){b(),n.set(k,!0);const x=zt();g(x+d/1e3)}function E(k){if(n.has(k)&&n.delete(k),n.size===0){const x=zt();v(x+l/1e3)}}function C(k){r=!0,n.clear(),a.forEach(R=>R()),Lc(p,m);const x=Ve(y),{start_timestamp:_}=x;if(!_)return;(x.data||{})[g0]||y.setAttribute(g0,i),K.log(`[Tracing] Idle span "${x.op}" finished`);const I=Id(y).filter(R=>R!==y);let M=0;I.forEach(R=>{R.isRecording()&&(R.setStatus({code:Bt,message:"cancelled"}),R.end(k),De&&K.log("[Tracing] Cancelling span since span ended early",JSON.stringify(R,void 0,2)));const $=Ve(R),{timestamp:L=0,start_timestamp:H=0}=$,W=H<=k,ie=(u+l)/1e3,A=L-H<=ie;if(De){const V=JSON.stringify(R,void 0,2);W?A||K.log("[Tracing] Discarding span since it finished after idle span final timeout",V):K.log("[Tracing] Discarding span since it happened after idle span was finished",V)}(!A||!W)&&(cA(y,R),M++)}),M>0&&y.setAttribute("sentry.idle_span_discarded_spans",M)}return a.push(h.on("spanStart",k=>{if(r||k===y||Ve(k).timestamp)return;Id(y).includes(k)&&S(k.spanContext().spanId)})),a.push(h.on("spanEnd",k=>{r||E(k.spanContext().spanId)})),a.push(h.on("idleSpanEnableAutoFinish",k=>{k===y&&(o=!0,v(),n.size&&g())})),t.disableAutoFinish||v(),setTimeout(()=>{r||(y.setStatus({code:Bt,message:"deadline_exceeded"}),i=zA,y.end())},u),y}function qA(e){const t=uu(e);return Lc(nt(),t),De&&K.log("[Tracing] Started span is an idle span"),t}function w0(e,t,n,r=0){return new er((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);De&&o.id&&a===null&&K.log(`Event processor "${o.id}" dropped event`),Jh(a)?a.then(l=>w0(e,l,n,r+1).then(s)).then(null,i):w0(e,a,n,r+1).then(s).then(null,i)}})}let Xu,rw,Zu;function UC(e){const t=We._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Zu&&n.length===rw||(rw=n.length,Zu=n.reduce((r,s)=>{Xu||(Xu={});const i=Xu[s];if(i)r[i[0]]=i[1];else{const o=e(s);for(let a=o.length-1;a>=0;a--){const l=o[a],u=l&&l.filename,d=t[s];if(u&&d){r[u]=d,Xu[s]=[u,d];break}}}return r},{})),Zu}function GA(e,t){const n=UC(e);if(!n)return[];const r=[];for(const s of t)s&&n[s]&&r.push({type:"sourcemap",code_file:s,debug_id:n[s]});return r}function YA(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;KA(e,t),r&&QA(e,r),JA(e,n),XA(e,s),ZA(e,i)}function sw(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:m}=t;Qu(e,"extra",n),Qu(e,"tags",r),Qu(e,"user",s),Qu(e,"contexts",i),e.sdkProcessingMetadata=ep(e.sdkProcessingMetadata,a,2),o&&(e.level=o),p&&(e.transactionName=p),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function Qu(e,t,n){e[t]=ep(e[t],n,1)}function KA(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,l=At(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=At(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=At(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const f=At(i);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function XA(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function ZA(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function QA(e,t){e.contexts={trace:iA(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:wo(t),...e.sdkProcessingMetadata};const n=Lt(t),r=Ve(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function JA(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function BC(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||mn(),timestamp:t.timestamp||lu()},u=n.integrations||e.integrations.map(b=>b.name);e9(l,e),r9(l,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&t9(l,e.stackParser);const d=i9(r,n.captureContext);n.mechanism&&Ta(l,n.mechanism);const f=s?s.getEventProcessors():[],h=WP().getScopeData();if(i){const b=i.getScopeData();sw(h,b)}if(d){const b=d.getScopeData();sw(h,b)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),YA(l,h);const m=[...f,...h.eventProcessors];return w0(m,l,n).then(b=>(b&&n9(b),typeof o=="number"&&o>0?s9(b,o,a):b))}function e9(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;e.environment=e.environment||n||rp,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s),e.message&&(e.message=la(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=la(o.value,i));const a=e.request;a&&a.url&&(a.url=la(a.url,i))}function t9(e,t){const n=UC(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{n&&s.filename&&(s.debug_id=n[s.filename])})})}catch{}}function n9(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function r9(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function s9(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:br(s.data,t,n)}}))},...e.user&&{user:br(e.user,t,n)},...e.contexts&&{contexts:br(e.contexts,t,n)},...e.extra&&{extra:br(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=br(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:br(s.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=br(e.contexts.flags,3,n)),r}function i9(e,t){if(!t)return e;const n=e?e.clone():new fo;return n.update(t),n}function HC(e,t){return nt().captureException(e,void 0)}function VC(e,t){return nt().captureEvent(e,t)}function zC(e,t){Ar().setContext(e,t)}function o9(){const e=He();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function a9(e){Ar().addEventProcessor(e)}function iw(e){const t=He(),n=Ar(),r=nt(),{release:s,environment:i=rp}=t&&t.getOptions()||{},{userAgent:o}=We.navigator||{},a=PP({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Na(l,{status:"exited"}),WC(),n.setSession(a),r.setSession(a),a}function WC(){const e=Ar(),t=nt(),n=t.getSession()||e.getSession();n&&AP(n),qC(),e.setSession(),t.setSession()}function qC(){const e=Ar(),t=nt(),n=He(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function ow(e=!1){if(e){WC();return}qC()}const l9="7";function c9(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function u9(e){return`${c9(e)}${e.projectId}/envelope/`}function d9(e,t){const n={sentry_version:l9};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function f9(e,t,n){return t||`${u9(e)}?${d9(e,n)}`}const aw=[];function h9(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function p9(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const s=h9(r),i=s.findIndex(o=>o.name==="Debug");if(i>-1){const[o]=s.splice(i,1);s.push(o)}return s}function m9(e,t){const n={};return t.forEach(r=>{r&&GC(e,r,n)}),n}function lw(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function GC(e,t,n){if(n[t.name]){De&&K.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,aw.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),aw.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}De&&K.log(`Integration installed: ${t.name}`)}function g9(e,t,n){const r=[{type:"client_report"},{timestamp:lu(),discarded_events:e}];return _o(t?{dsn:t}:{},[r])}class Er extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const cw="Not capturing exception because it's already been captured.";class y9{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=xA(t.dsn):De&&K.warn("No DSN provided, client will not send events."),this._dsn){const s=f9(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(s=>s in t&&t[s]==null);r&&Ei(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=mn();if(HS(t))return De&&K.log(cw),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:mn(),...r},o=Yv(t)?t:String(t),a=Kv(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(t,n,r){const s=mn();if(n&&n.originalException&&HS(n.originalException))return De&&K.log(cw),s;const i={event_id:s,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,a||r)),i.event_id}captureSession(t){typeof t.release!="string"?De&&K.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Na(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):ks(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];GC(this,t,this._integrations),n||lw(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=DA(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=kA(r,IA(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=MA(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;De&&K.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(De&&K.error("Error while sending envelope:",n),n)):(De&&K.error("Transport disabled"),ks({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=m9(this,t),lw(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const l of i){const u=l.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Na(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new er(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=nt(),s=Ar()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),BC(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:qP(r),...a.contexts};const l=MC(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{De&&(s instanceof Er&&s.logLevel==="log"?K.log(s.message):K.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=KC(t),a=YC(t),l=t.type||"error",u=`before send for type \`${l}\``,d=typeof i>"u"?void 0:Hf(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Uf(new Er(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f,t),new Er("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const b=x9(this,s,m,n);return v9(b,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",f,t),o){const g=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw new Er(`${u} returned \`null\`, will not send event.`,"log")}const y=r&&r.getSession();if(!o&&y&&this._updateSessionFromEvent(y,m),o){const v=m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0,g=m.spans?m.spans.length:0,S=v-g;S>0&&this.recordDroppedEvent("before_send","span",S)}const b=m.transaction_info;if(o&&b&&m.transaction!==t.transaction){const v="custom";m.transaction_info={...b,source:v}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof Er?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Er(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){De&&K.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){De&&K.log("No outcomes to send");return}if(!this._dsn){De&&K.log("No dsn provided, will not send outcomes");return}De&&K.log("Sending outcomes:",t);const n=g9(t,this._options.tunnel&&cu(this._dsn));this.sendEnvelope(n)}}function v9(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Jh(e))return e.then(r=>{if(!Ca(r)&&r!==null)throw new Er(n);return r},r=>{throw new Er(`${t} rejected with ${r}`)});if(!Ca(e)&&e!==null)throw new Er(n);return e}function x9(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o}=t;if(YC(n)&&s)return s(n,r);if(KC(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const u=o(l);u?a.push(u):(TC(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(i){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return i(n,r)}}return n}function YC(e){return e.type===void 0}function KC(e){return e.type==="transaction"}function b9(e,t){t.debug===!0&&(De?K.enable():Ei(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),nt().update(t.initialScope);const r=new e(t);return S9(r),r.init(),r}function S9(e){nt().setClient(e)}function w9(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function s(o){if(!n())return Uf(new Er("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new er((a,l)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(f=>{ks(f).then(()=>{--u||(clearTimeout(d),a(!0))},l)})})}return{$:t,add:s,drain:i}}const _9=60*1e3;function E9(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?_9:r-t}function k9(e,t){return e[t]||e.all||0}function XC(e,t,n=Date.now()){return k9(e,t)>n}function ZC(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,u,,,d]=a.split(":",5),f=parseInt(l,10),h=(isNaN(f)?60:f)*1e3;if(!u)s.all=r+h;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+h):s[p]=r+h}else o?s.all=r+E9(o,r):t===429&&(s.all=r+60*1e3);return s}const C9=64;function T9(e,t,n=w9(e.bufferSize||C9)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(b0(o,(f,h)=>{const p=ZS(h);if(XC(r,p)){const m=uw(f,h);e.recordDroppedEvent("ratelimit_backoff",p,m)}else a.push(f)}),a.length===0)return ks({});const l=_o(o[0],a),u=f=>{b0(l,(h,p)=>{const m=uw(h,p);e.recordDroppedEvent(f,ZS(p),m)})},d=()=>t({body:CA(l)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&De&&K.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=ZC(r,f),f),f=>{throw u("network_error"),f});return n.add(d).then(f=>f,f=>{if(f instanceof Er)return De&&K.error("Skipped sending event because buffer is full."),u("queue_overflow"),ks({});throw f})}return{send:i,flush:s}}function uw(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function N9(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return j9(e,n)||I9(e,r)}function I9(e,t){return t?dw(e)===dw(t):!1}function j9(e,t){return t?e.includes(t.host):!1}function dw(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function QC(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Yi})),version:Yi}),e._metadata=s}function JC(e={}){const t=He();if(!o9()||!t)return{};const n=bo(),r=Wa(n);if(r.getTraceData)return r.getTraceData(e);const s=nt(),i=e.span||$t(),o=i?oA(i):R9(s),a=i?wo(i):MC(t,s),l=JP(a);return SC.test(o)?{"sentry-trace":o,baggage:l}:(K.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function R9(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return wC(t,r,n)}const M9=100;function mi(e,t){const n=He(),r=Ar();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=M9}=n.getOptions();if(i<=0)return;const a={timestamp:lu(),...e},l=s?Ei(()=>s(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let fw;const D9="FunctionToString",hw=new WeakMap,O9=()=>({name:D9,setupOnce(){fw=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Xv(this),n=hw.has(He())&&t!==void 0?t:this;return fw.apply(n,e)}}catch{}},setup(e){hw.set(e,!0)}}),P9=O9,A9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],L9="InboundFilters",F9=(e={})=>({name:L9,processEvent(t,n,r){const s=r.getOptions(),i=U9(e,s);return B9(t,i)?null:t}}),$9=F9;function U9(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:A9],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function B9(e,t){return t.ignoreInternal&&G9(e)?(De&&K.warn(`Event dropped due to being internal Sentry Error.
Event: ${Fs(e)}`),!0):H9(e,t.ignoreErrors)?(De&&K.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Fs(e)}`),!0):K9(e)?(De&&K.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Fs(e)}`),!0):V9(e,t.ignoreTransactions)?(De&&K.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Fs(e)}`),!0):z9(e,t.denyUrls)?(De&&K.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Fs(e)}.
Url: ${Vf(e)}`),!0):W9(e,t.allowUrls)?!1:(De&&K.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Fs(e)}.
Url: ${Vf(e)}`),!0)}function H9(e,t){return e.type||!t||!t.length?!1:q9(e).some(n=>ai(n,t))}function V9(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?ai(n,t):!1}function z9(e,t){if(!t||!t.length)return!1;const n=Vf(e);return n?ai(n,t):!1}function W9(e,t){if(!t||!t.length)return!0;const n=Vf(e);return n?ai(n,t):!0}function q9(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function G9(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Y9(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Vf(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Y9(t):null}catch{return De&&K.error(`Cannot extract url for event ${Fs(e)}`),null}}function K9(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function X9(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!_s(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Z9(_0(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function _0(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(_s(r[s],Error)){pw(o,a);const u=e(t,r[s]),d=l.length;mw(u,s,d,a),l=_0(e,t,n,r[s],s,[u,...l],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(_s(u,Error)){pw(o,a);const f=e(t,u),h=l.length;mw(f,`errors[${d}]`,h,a),l=_0(e,t,n,u,s,[f,...l],f,h)}}),l}function pw(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function mw(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Z9(e,t){return e.map(n=>(n.value&&(n.value=la(n.value,t)),n))}function Zi(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Q9(e){const t="console";ki(t,e),Ci(t,J9)}function J9(){"console"in We&&d0.forEach(function(e){e in We.console&&Tn(We.console,e,function(t){return $f[e]=t,function(...n){lr("console",{args:n,level:e});const s=$f[e];s&&s.apply(We.console,n)}})})}function e7(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const eL="Dedupe",tL=()=>{let e;return{name:eL,processEvent(t){if(t.type)return t;try{if(rL(t,e))return De&&K.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},nL=tL;function rL(e,t){return t?!!(sL(e,t)||iL(e,t)):!1}function sL(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!n7(e,t)||!t7(e,t))}function iL(e,t){const n=gw(t),r=gw(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!n7(e,t)||!t7(e,t))}function t7(e,t){let n=AS(e),r=AS(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function n7(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function gw(e){return e.exception&&e.exception.values&&e.exception.values[0]}function oL(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const i=pi()&&t(e.fetchData.url);if(e.endTimestamp&&i){const h=e.fetchData.__span;if(!h)return;const p=r[h];p&&(cL(p,e),delete r[h]);return}const{method:o,url:a}=e.fetchData,l=lL(a),u=l?Zi(l).host:void 0,d=!!$t(),f=i&&d?uu({name:`${o} ${a}`,attributes:{url:a,type:"fetch","http.method":o,"http.url":l,"server.address":u,[Wt]:s,[ho]:"http.client"}}):new qa;if(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f,n(e.fetchData.url)){const h=e.args[0],p=e.args[1]||{},m=aL(h,p,pi()&&d?f:void 0);m&&(e.args[1]=p,p.headers=m)}return f}function aL(e,t,n){const r=JC({span:n}),s=r["sentry-trace"],i=r.baggage;if(!s)return;const o=t.headers||(uL(e)?e.headers:void 0);if(o)if(dL(o)){const a=new Headers(o);if(a.set("sentry-trace",s),i){const l=a.get("baggage");if(l){const u=Ju(l);a.set("baggage",u?`${u},${i}`:i)}else a.set("baggage",i)}return a}else if(Array.isArray(o)){const a=[...o.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){const[u,d,...f]=l;return[u,Ju(d),...f]}else return l}),["sentry-trace",s]];return i&&a.push(["baggage",i]),a}else{const a="baggage"in o?o.baggage:void 0;let l=[];return Array.isArray(a)?l=a.map(u=>typeof u=="string"?Ju(u):u).filter(u=>u===""):a&&l.push(Ju(a)),i&&l.push(i),{...o,"sentry-trace":s,baggage:l.length>0?l.join(","):void 0}}else return{...r}}function lL(e){try{return new URL(e).href}catch{return}}function cL(e,t){if(t.response){xC(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Bt,message:"internal_error"});e.end()}function Ju(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(e1)).join(",")}function uL(e){return typeof Request<"u"&&_s(e,Request)}function dL(e){return typeof Headers<"u"&&_s(e,Headers)}function r7(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const E0=We;function s7(){if(!("fetch"in E0))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function k0(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function fL(){if(typeof EdgeRuntime=="string")return!0;if(!s7())return!1;if(k0(E0.fetch))return!0;let e=!1;const t=E0.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=k0(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){_i&&K.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function i7(e,t){const n="fetch";ki(n,e),Ci(n,()=>o7(void 0,t))}function hL(e){const t="fetch-body-resolved";ki(t,e),Ci(t,()=>o7(mL))}function o7(e,t=!1){t&&!fL()||Tn(We,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=gL(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:zt()*1e3,virtualError:s};return e||lr("fetch",{...a}),n.apply(We,r).then(async l=>(e?e(l):lr("fetch",{...a,endTimestamp:zt()*1e3,response:l}),l),l=>{throw lr("fetch",{...a,endTimestamp:zt()*1e3,error:l}),Gv(l)&&l.stack===void 0&&(l.stack=s.stack,fr(l,"framesToPop",1)),l})}})}async function pL(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function mL(e){let t;try{t=e.clone()}catch{return}pL(t,()=>{lr("fetch-body-resolved",{endTimestamp:zt()*1e3,response:e})})}function C0(e,t){return!!e&&typeof e=="object"&&!!e[t]}function yw(e){return typeof e=="string"?e:e?C0(e,"url")?e.url:e.toString?e.toString():"":""}function gL(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:yw(n),method:C0(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:yw(t),method:C0(t,"method")?String(t.method).toUpperCase():"GET"}}function yL(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function vL(){return"npm"}function xL(){return!yL()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function vw(){return typeof window<"u"&&(!xL()||bL())}function bL(){const e=We.process;return!!e&&e.type==="renderer"}const ed=We;function SL(){const e=ed.chrome,t=e&&e.app&&e.app.runtime,n="history"in ed&&!!ed.history.pushState&&!!ed.history.replaceState;return!t&&n}function wL(e,t){return e??t()}function Rd(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const ge=We;let T0=0;function a7(){return T0>0}function _L(){T0++,setTimeout(()=>{T0--})}function ja(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Xv(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>ja(o,t));return e.apply(this,i)}catch(i){throw _L(),Qv(o=>{o.addEventProcessor(a=>(t.mechanism&&(h0(a,void 0),Ta(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),HC(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}hC(r,e),fr(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Ze=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function r1(e,t){const n=s1(e,t),r={type:NL(t),value:IL(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function EL(e,t,n,r){const s=He(),i=s&&s.getOptions().normalizeDepth,o=OL(t),a={__serialized__:OC(t,i)};if(o)return{exception:{values:[r1(e,o)]},extra:a};const l={exception:{values:[{type:Qh(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ML(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=s1(e,n);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function bm(e,t){return{exception:{values:[r1(e,t)]}}}function s1(e,t){const n=t.stacktrace||t.stack||"",r=CL(t),s=TL(t);try{return e(n,r,s)}catch{}return[]}const kL=/Minified React error #\d+;/i;function CL(e){return e&&kL.test(e.message)?1:0}function TL(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function l7(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function NL(e){const t=e&&e.name;return!t&&l7(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function IL(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:l7(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function jL(e,t,n,r){const s=n&&n.syntheticException||void 0,i=i1(e,t,s,r);return Ta(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),ks(i)}function RL(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=N0(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ks(o)}function i1(e,t,n,r,s){let i;if(cC(t)&&t.error)return bm(e,t.error);if(FS(t)||_P(t)){const o=t;if("stack"in t)i=bm(e,t);else{const a=o.name||(FS(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=N0(e,l,n,r),h0(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Gv(t)?bm(e,t):Ca(t)||Qh(t)?(i=EL(e,t,n,s),Ta(i,{synthetic:!0}),i):(i=N0(e,t,n,r),h0(i,`${t}`),Ta(i,{synthetic:!0}),i)}function N0(e,t,n,r){const s={};if(r&&n){const i=s1(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ta(s,{synthetic:!0})}if(Yv(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function ML(e,{isUnhandledRejection:t}){const n=RP(e),r=t?"promise rejection":"exception";return cC(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Qh(e)?`Event \`${DL(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function DL(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function OL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function PL(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:cu(r)}},i=AL(e);return _o(s,[i])}function AL(e){return[{type:"user_report"},e]}class LL extends y9{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=ge.SENTRY_SDK_SOURCE||vL();QC(n,"browser",["browser"],r),super(n),n.sendClientReports&&ge.document&&ge.document.addEventListener("visibilitychange",()=>{ge.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return jL(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return RL(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Ze&&K.warn("SDK not enabled, will not capture user feedback.");return}const n=PL(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const o1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,FL=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Ga=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s||0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=FL(t.value,n),e(t)))}},we=We,$L=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,du=(e=!0)=>{const t=we.performance&&we.performance.getEntriesByType&&we.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},fu=()=>{const e=du();return e&&e.activationStart||0},Ya=(e,t)=>{const n=du();let r="navigate";return n&&(we.document&&we.document.prerendering||fu()>0?r="prerender":we.document&&we.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:$L(),navigationType:r}},Eo=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Ka=e=>{const t=n=>{(n.type==="pagehide"||we.document&&we.document.visibilityState==="hidden")&&e(n)};we.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},sp=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Zl=-1;const UL=()=>we.document.visibilityState==="hidden"&&!we.document.prerendering?0:1/0,zf=e=>{we.document.visibilityState==="hidden"&&Zl>-1&&(Zl=e.type==="visibilitychange"?e.timeStamp:0,HL())},BL=()=>{addEventListener("visibilitychange",zf,!0),addEventListener("prerenderingchange",zf,!0)},HL=()=>{removeEventListener("visibilitychange",zf,!0),removeEventListener("prerenderingchange",zf,!0)},ip=()=>(we.document&&Zl<0&&(Zl=UL(),BL()),{get firstHiddenTime(){return Zl}}),hu=e=>{we.document&&we.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},VL=[1800,3e3],zL=(e,t={})=>{hu(()=>{const n=ip(),r=Ya("FCP");let s;const o=Eo("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-fu(),0),r.entries.push(l),s(!0)))})});o&&(s=Ga(e,r,VL,t.reportAllChanges))})},WL=[.1,.25],qL=(e,t={})=>{zL(sp(()=>{const n=Ya("CLS",0);let r,s=0,i=[];const o=l=>{l.forEach(u=>{if(!u.hadRecentInput){const d=i[0],f=i[i.length-1];s&&d&&f&&u.startTime-f.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u])}}),s>n.value&&(n.value=s,n.entries=i,r())},a=Eo("layout-shift",o);a&&(r=Ga(e,n,WL,t.reportAllChanges),Ka(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},GL=[100,300],YL=(e,t={})=>{hu(()=>{const n=ip(),r=Ya("FID");let s;const i=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),s(!0))},o=l=>{l.forEach(i)},a=Eo("first-input",o);s=Ga(e,r,GL,t.reportAllChanges),a&&Ka(sp(()=>{o(a.takeRecords()),a.disconnect()}))})};let c7=0,Sm=1/0,td=0;const KL=e=>{e.forEach(t=>{t.interactionId&&(Sm=Math.min(Sm,t.interactionId),td=Math.max(td,t.interactionId),c7=td?(td-Sm)/7+1:0)})};let I0;const XL=()=>I0?c7:performance.interactionCount||0,ZL=()=>{"interactionCount"in performance||I0||(I0=Eo("event",KL,{type:"event",buffered:!0,durationThreshold:0}))},us=[],wm=new Map,QL=40;let JL=0;const eF=()=>XL()-JL,tF=()=>{const e=Math.min(us.length-1,Math.floor(eF()/50));return us[e]},_m=10,nF=[],rF=e=>{if(nF.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=us[us.length-1],n=wm.get(e.interactionId);if(n||us.length<_m||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};wm.set(r.id,r),us.push(r)}us.sort((r,s)=>s.latency-r.latency),us.length>_m&&us.splice(_m).forEach(r=>wm.delete(r.id))}},u7=e=>{const t=we.requestIdleCallback||we.setTimeout;let n=-1;return e=sp(e),we.document&&we.document.visibilityState==="hidden"?e():(n=t(e),Ka(e)),n},sF=[200,500],iF=(e,t={})=>{"PerformanceEventTiming"in we&&"interactionId"in PerformanceEventTiming.prototype&&hu(()=>{ZL();const n=Ya("INP");let r;const s=o=>{u7(()=>{o.forEach(rF);const a=tF();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},i=Eo("event",s,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:QL});r=Ga(e,n,sF,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Ka(()=>{s(i.takeRecords()),r(!0)}))})},oF=[2500,4e3],xw={},aF=(e,t={})=>{hu(()=>{const n=ip(),r=Ya("LCP");let s;const i=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-fu(),0),r.entries=[l],s())})},o=Eo("largest-contentful-paint",i);if(o){s=Ga(e,r,oF,t.reportAllChanges);const a=sp(()=>{xw[r.id]||(i(o.takeRecords()),o.disconnect(),xw[r.id]=!0,s(!0))});["keydown","click"].forEach(l=>{we.document&&addEventListener(l,()=>u7(a),{once:!0,capture:!0})}),Ka(a)}})},lF=[800,1800],j0=e=>{we.document&&we.document.prerendering?hu(()=>j0(e)):we.document&&we.document.readyState!=="complete"?addEventListener("load",()=>j0(e),!0):setTimeout(e,0)},cF=(e,t={})=>{const n=Ya("TTFB"),r=Ga(e,n,lF,t.reportAllChanges);j0(()=>{const s=du();s&&(n.value=Math.max(s.responseStart-fu(),0),n.entries=[s],r(!0))})},Ql={},Wf={};let d7,f7,h7,p7,m7;function a1(e,t=!1){return pu("cls",e,dF,d7,t)}function g7(e,t=!1){return pu("lcp",e,hF,h7,t)}function y7(e){return pu("fid",e,fF,f7)}function uF(e){return pu("ttfb",e,pF,p7)}function v7(e){return pu("inp",e,mF,m7)}function Ra(e,t){return x7(e,t),Wf[e]||(gF(e),Wf[e]=!0),b7(e,t)}function Xa(e,t){const n=Ql[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){o1&&K.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ws(r)}
Error:`,s)}}function dF(){return qL(e=>{Xa("cls",{metric:e}),d7=e},{reportAllChanges:!0})}function fF(){return YL(e=>{Xa("fid",{metric:e}),f7=e})}function hF(){return aF(e=>{Xa("lcp",{metric:e}),h7=e},{reportAllChanges:!0})}function pF(){return cF(e=>{Xa("ttfb",{metric:e}),p7=e})}function mF(){return iF(e=>{Xa("inp",{metric:e}),m7=e})}function pu(e,t,n,r,s=!1){x7(e,t);let i;return Wf[e]||(i=n(),Wf[e]=!0),r&&t({metric:r}),b7(e,t,s?i:void 0)}function gF(e){const t={};e==="event"&&(t.durationThreshold=0),Eo(e,n=>{Xa(e,{entries:n})},t)}function x7(e,t){Ql[e]=Ql[e]||[],Ql[e].push(t)}function b7(e,t,n){return()=>{n&&n();const r=Ql[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function yF(e){return"duration"in e}function Em(e){return typeof e=="number"&&isFinite(e)}function Cs(e,t,n,{...r}){const s=Ve(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),LC(e,()=>{const i=uu({startTime:t,...r});return i&&i.end(n),i})}function S7(e){const t=He();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),u=l&&l.getReplayId(),d=nt(),f=d.getUser(),h=f!==void 0?f.email||f.id||f.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}const m={release:o,environment:a,user:h||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":we.navigator&&we.navigator.userAgent,...s};return uu({name:n,attributes:m,startTime:i,experimental:{standalone:!0}})}function l1(){return we&&we.addEventListener&&we.performance}function _t(e){return e/1e3}function w7(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function vF(){let e=0,t,n;if(!bF())return;let r=!1;function s(){r||(r=!0,n&&xF(e,t,n),i())}const i=a1(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);Ka(()=>{s()}),setTimeout(()=>{const o=He();if(!o)return;const a=o.on("startNavigationSpan",()=>{s(),a&&a()}),l=$t(),u=l&&Lt(l),d=u&&Ve(u);d&&d.op==="pageload"&&(n=u.spanContext().spanId)},0)}function xF(e,t,n){o1&&K.log(`Sending CLS span (${e})`);const r=_t((Qt||0)+(t&&t.startTime||0)),s=nt().getScopeData().transactionName,i=t?Es(t.sources[0]&&t.sources[0].node):"Layout shift",o=At({[Wt]:"auto.http.browser.cls",[ho]:"ui.webvital.cls",[Jv]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=S7({name:i,transaction:s,attributes:o,startTime:r});a&&(a.addEvent("cls",{[tp]:"",[np]:e}),a.end(r))}function bF(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const SF=2147483647;let bw=0,Yt={},xn,Jl;function wF({recordClsStandaloneSpans:e}){const t=l1();if(t&&Qt){t.mark&&we.performance.mark("sentry-tracing-init");const n=NF(),r=TF(),s=IF(),i=e?vF():CF();return()=>{n(),r(),s(),i&&i()}}return()=>{}}function _F(){Ra("longtask",({entries:e})=>{const t=$t();if(!t)return;const{op:n,start_timestamp:r}=Ve(t);for(const s of e){const i=_t(Qt+s.startTime),o=_t(s.duration);n==="navigation"&&r&&i<r||Cs(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Wt]:"auto.ui.browser.metrics"}})}})}function EF(){new PerformanceObserver(t=>{const n=$t();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=_t(Qt+r.startTime),{start_timestamp:i,op:o}=Ve(n);if(o==="navigation"&&i&&s<i)continue;const a=_t(r.duration),l={[Wt]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:f,sourceURL:h,sourceFunctionName:p,sourceCharPosition:m}=u;l["browser.script.invoker"]=d,l["browser.script.invoker_type"]=f,h&&(l["code.filepath"]=h),p&&(l["code.function"]=p),m!==-1&&(l["browser.script.source_char_position"]=m),Cs(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function kF(){Ra("event",({entries:e})=>{const t=$t();if(t){for(const n of e)if(n.name==="click"){const r=_t(Qt+n.startTime),s=_t(n.duration),i={name:Es(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Wt]:"auto.ui.browser.metrics"}},o=fC(n.target);o&&(i.attributes["ui.component_name"]=o),Cs(t,r,r+s,i)}}})}function CF(){return a1(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Yt.cls={value:e.value,unit:""},Jl=t)},!0)}function TF(){return g7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Yt.lcp={value:e.value,unit:"millisecond"},xn=t)},!0)}function NF(){return y7(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=_t(Qt),r=_t(t.startTime);Yt.fid={value:e.value,unit:"millisecond"},Yt["mark.fid"]={value:n+r,unit:"second"}})}function IF(){return uF(({metric:e})=>{e.entries[e.entries.length-1]&&(Yt.ttfb={value:e.value,unit:"millisecond"})})}function jF(e,t){const n=l1();if(!n||!n.getEntries||!Qt)return;const r=_t(Qt),s=n.getEntries(),{op:i,start_timestamp:o}=Ve(e);if(s.slice(bw).forEach(a=>{const l=_t(a.startTime),u=_t(Math.max(0,a.duration));if(!(i==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{MF(e,a,r);break}case"mark":case"paint":case"measure":{RF(e,a,l,u,r);const d=ip(),f=a.startTime<d.firstHiddenTime;a.name==="first-paint"&&f&&(Yt.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&f&&(Yt.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{PF(e,a,a.name,l,u,r);break}}}),bw=Math.max(s.length-1,0),AF(e),i==="pageload"){FF(Yt);const a=Yt["mark.fid"];a&&Yt.fid&&(Cs(e,a.value,a.value+_t(Yt.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Wt]:"auto.ui.browser.metrics"}}),delete Yt["mark.fid"]),(!("fcp"in Yt)||!t.recordClsOnPageloadSpan)&&delete Yt.cls,Object.entries(Yt).forEach(([l,u])=>{PA(l,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",fu()),LF(e)}xn=void 0,Jl=void 0,Yt={}}function RF(e,t,n,r,s){const i=du(!1),o=_t(i?i.requestStart:0),a=s+Math.max(n,o),l=s+n,u=l+r,d={[Wt]:"auto.resource.browser.metrics"};return a!==l&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),Cs(e,a,u,{name:t.name,op:t.entryType,attributes:d}),a}function MF(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{nd(e,t,r,n)}),nd(e,t,"secureConnection",n,"TLS/SSL"),nd(e,t,"fetch",n,"cache"),nd(e,t,"domainLookup",n,"DNS"),OF(e,t,n)}function nd(e,t,n,r,s=n){const i=DF(n),o=t[i],a=t[`${n}Start`];!a||!o||Cs(e,r+_t(a),r+_t(o),{op:`browser.${s}`,name:t.name,attributes:{[Wt]:"auto.ui.browser.metrics"}})}function DF(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function OF(e,t,n){const r=n+_t(t.requestStart),s=n+_t(t.responseEnd),i=n+_t(t.responseStart);t.responseEnd&&(Cs(e,r,s,{op:"browser.request",name:t.name,attributes:{[Wt]:"auto.ui.browser.metrics"}}),Cs(e,i,s,{op:"browser.response",name:t.name,attributes:{[Wt]:"auto.ui.browser.metrics"}}))}function PF(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Zi(n),a={[Wt]:"auto.resource.browser.metrics"};km(a,t,"transferSize","http.response_transfer_size"),km(a,t,"encodedBodySize","http.response_content_length"),km(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;l!=null&&(a["http.response_delivery_type"]=l);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(we.location.origin);const{name:d,version:f}=w7(t.nextHopProtocol);a["network.protocol.name"]=d,a["network.protocol.version"]=f;const h=i+r,p=h+s;Cs(e,h,p,{name:n.replace(we.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function AF(e){const t=we.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Em(n.rtt)&&(Yt["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Em(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Em(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function LF(e){xn&&(xn.element&&e.setAttribute("lcp.element",Es(xn.element)),xn.id&&e.setAttribute("lcp.id",xn.id),xn.url&&e.setAttribute("lcp.url",xn.url.trim().slice(0,200)),xn.loadTime!=null&&e.setAttribute("lcp.loadTime",xn.loadTime),xn.renderTime!=null&&e.setAttribute("lcp.renderTime",xn.renderTime),e.setAttribute("lcp.size",xn.size)),Jl&&Jl.sources&&Jl.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Es(t.node)))}function km(e,t,n,r){const s=t[n];s!=null&&s<SF&&(e[r]=s)}function FF(e){const t=du(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const $F=1e3;let Sw,R0,M0;function _7(e){const t="dom";ki(t,e),Ci(t,UF)}function UF(){if(!we.document)return;const e=lr.bind(null,"dom"),t=ww(e,!0);we.document.addEventListener("click",t,!1),we.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=we[n],i=s&&s.prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(Tn(i,"addEventListener",function(o){return function(a,l,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[a]=d[a]||{refCount:0};if(!f.handler){const h=ww(e);f.handler=h,o.call(this,a,h,u)}f.refCount++}catch{}return o.call(this,a,l,u)}}),Tn(i,"removeEventListener",function(o){return function(a,l,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},f=d[a];f&&(f.refCount--,f.refCount<=0&&(o.call(this,a,f.handler,u),f.handler=void 0,delete d[a]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,l,u)}}))})}function BF(e){if(e.type!==R0)return!1;try{if(!e.target||e.target._sentryId!==M0)return!1}catch{}return!0}function HF(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function ww(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=VF(n);if(HF(n.type,r))return;fr(n,"_sentryCaptured",!0),r&&!r._sentryId&&fr(r,"_sentryId",mn());const s=n.type==="keypress"?"input":n.type;BF(n)||(e({event:n,name:s,global:t}),R0=n.type,M0=r?r._sentryId:void 0),clearTimeout(Sw),Sw=we.setTimeout(()=>{M0=void 0,R0=void 0},$F)}}function VF(e){try{return e.target}catch{return null}}let rd;function op(e){const t="history";ki(t,e),Ci(t,zF)}function zF(){if(!SL())return;const e=we.onpopstate;we.onpopstate=function(...n){const r=we.location.href,s=rd;if(rd=r,lr("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=rd,o=String(s);rd=o,lr("history",{from:i,to:o})}return n.apply(this,r)}}Tn(we.history,"pushState",t),Tn(we.history,"replaceState",t)}const Md={};function E7(e){const t=Md[e];if(t)return t;let n=we[e];if(k0(n))return Md[e]=n.bind(we);const r=we.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){o1&&K.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Md[e]=n.bind(we))}function _w(e){Md[e]=void 0}function Ma(...e){return E7("setTimeout")(...e)}const Hi="__sentry_xhr_v3__";function k7(e){const t="xhr";ki(t,e),Ci(t,WF)}function WF(){if(!we.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=zt()*1e3,o=gs(r[0])?r[0].toUpperCase():void 0,a=qF(r[1]);if(!o||!a)return t.apply(n,r);n[Hi]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[Hi];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:zt()*1e3,startTimestamp:i,xhr:n,virtualError:s};lr("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,f){return l(),u.apply(d,f)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,f){const[h,p]=f,m=d[Hi];return m&&gs(h)&&gs(p)&&(m.request_headers[h.toLowerCase()]=p),u.apply(d,f)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Hi];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:zt()*1e3,xhr:n};return lr("xhr",i),t.apply(n,r)}})}function qF(e){if(gs(e))return e;try{return e.toString()}catch{}}const Cm=[],Dd=new Map;function GF(){if(l1()&&Qt){const t=YF();return()=>{t()}}return()=>{}}const Ew={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function YF(){return v7(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(m=>m.duration===e.value&&Ew[m.name]);if(!t)return;const{interactionId:n}=t,r=Ew[t.name],s=_t(Qt+t.startTime),i=_t(e.value),o=$t(),a=o?Lt(o):void 0,u=(n!=null?Dd.get(n):void 0)||a,d=u?Ve(u).description:nt().getScopeData().transactionName,f=Es(t.target),h=At({[Wt]:"auto.http.browser.inp",[ho]:`ui.interaction.${r}`,[Jv]:t.duration}),p=S7({name:f,transaction:d,attributes:h,startTime:s});p&&(p.addEvent("inp",{[tp]:"millisecond",[np]:e.value}),p.end(s+i))})}function KF(e){const t=({entries:n})=>{const r=$t(),s=r&&Lt(r);n.forEach(i=>{if(!yF(i)||!s)return;const o=i.interactionId;if(o!=null&&!Dd.has(o)){if(Cm.length>10){const a=Cm.shift();Dd.delete(a)}Cm.push(o),Dd.set(o,s)}})};Ra("event",t),Ra("first-input",t)}function XF(e,t=E7("fetch")){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return _w("fetch"),Uf("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return _w("fetch"),n-=o,r--,Uf(l)}}return T9(e,s)}const ZF=30,QF=50;function D0(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?uo:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const JF=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,e$=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,t$=/\((\S*)(?::(\d+))(?::(\d+))\)/,n$=e=>{const t=JF.exec(e);if(t){const[,r,s,i]=t;return D0(r,uo,+s,+i)}const n=e$.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=t$.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[s,i]=C7(n[1]||uo,n[2]);return D0(i,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},r$=[ZF,n$],s$=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,i$=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,o$=e=>{const t=s$.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=i$.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||uo;return[s,r]=C7(s,r),D0(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},a$=[QF,o$],l$=[r$,a$],c$=iC(...l$),C7=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:uo,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},sd=1024,u$="Breadcrumbs",d$=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:u$,setup(n){t.console&&Q9(m$(n)),t.dom&&_7(p$(n,t.dom)),t.xhr&&k7(g$(n)),t.fetch&&i7(y$(n)),t.history&&op(v$(n)),t.sentry&&n.on("beforeSendEvent",h$(n))}}},f$=d$;function h$(e){return function(n){He()===e&&mi({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Fs(n)},{event:n})}}function p$(e,t){return function(r){if(He()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>sd&&(Ze&&K.warn(`\`dom.maxStringLength\` cannot exceed ${sd}, but a value of ${a} was configured. Sentry will use ${sd} instead.`),a=sd),typeof o=="string"&&(o=[o]);try{const u=r.event,d=x$(u)?u.target:u;s=Es(d,{keyAttrs:o,maxStringLength:a}),i=fC(d)}catch{s="<unknown>"}if(s.length===0)return;const l={category:`ui.${r.name}`,message:s};i&&(l.data={"ui.component_name":i}),mi(l,{event:r.event,name:r.name,global:r.global})}}function m$(e){return function(n){if(He()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:e7(n.level),message:$S(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${$S(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;mi(r,{input:n.args,level:n.level})}}function g$(e){return function(n){if(He()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[Hi];if(!r||!s||!i)return;const{method:o,url:a,status_code:l,body:u}=i,d={method:o,url:a,status_code:l},f={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},h=r7(l);mi({category:"xhr",data:d,type:"http",level:h},f)}}function y$(e){return function(n){if(He()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};mi({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},l=r7(o.status_code);mi({category:"fetch",data:o,type:"http",level:l},a)}}}function v$(e){return function(n){if(He()!==e)return;let r=n.from,s=n.to;const i=Zi(ge.location.href);let o=r?Zi(r):void 0;const a=Zi(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),mi({category:"navigation",data:{from:r,to:s}})}}function x$(e){return!!e&&!!e.target}const b$=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],S$="BrowserApiErrors",w$=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:S$,setupOnce(){t.setTimeout&&Tn(ge,"setTimeout",kw),t.setInterval&&Tn(ge,"setInterval",kw),t.requestAnimationFrame&&Tn(ge,"requestAnimationFrame",E$),t.XMLHttpRequest&&"XMLHttpRequest"in ge&&Tn(XMLHttpRequest.prototype,"send",k$);const n=t.eventTarget;n&&(Array.isArray(n)?n:b$).forEach(C$)}}},_$=w$;function kw(e){return function(...t){const n=t[0];return t[0]=ja(n,{mechanism:{data:{function:ws(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function E$(e){return function(t){return e.apply(this,[ja(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ws(e)},handled:!1,type:"instrument"}})])}}function k$(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Tn(n,s,function(i){const o={mechanism:{data:{function:s,handler:ws(i)},handled:!1,type:"instrument"}},a=Xv(i);return a&&(o.mechanism.data.handler=ws(a)),ja(i,o)})}),e.apply(this,t)}}function C$(e){const n=ge[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Tn(r,"addEventListener",function(s){return function(i,o,a){try{T$(o)&&(o.handleEvent=ja(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ws(o),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[i,ja(o,{mechanism:{data:{function:"addEventListener",handler:ws(o),target:e},handled:!1,type:"instrument"}}),a])}}),Tn(r,"removeEventListener",function(s){return function(i,o,a){try{const l=o.__sentry_wrapped__;l&&s.call(this,i,l,a)}catch{}return s.call(this,i,o,a)}}))}function T$(e){return typeof e.handleEvent=="function"}const N$=()=>({name:"BrowserSession",setupOnce(){if(typeof ge.document>"u"){Ze&&K.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}iw({ignoreDuration:!0}),ow(),op(({from:e,to:t})=>{e!==void 0&&e!==t&&(iw({ignoreDuration:!0}),ow())})}}),I$="GlobalHandlers",j$=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:I$,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(M$(n),Cw("onerror")),t.onunhandledrejection&&(D$(n),Cw("onunhandledrejection"))}}},R$=j$;function M$(e){oC(t=>{const{stackParser:n,attachStacktrace:r}=T7();if(He()!==e||a7())return;const{msg:s,url:i,line:o,column:a,error:l}=t,u=A$(i1(n,l||s,void 0,r,!1),i,o,a);u.level="error",VC(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function D$(e){aC(t=>{const{stackParser:n,attachStacktrace:r}=T7();if(He()!==e||a7())return;const s=O$(t),i=Kv(s)?P$(s):i1(n,s,void 0,r,!0);i.level="error",VC(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function O$(e){if(Kv(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function P$(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function A$(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],u=r,d=n,f=gs(t)&&t.length>0?t:dC();return l.length===0&&l.push({colno:u,filename:f,function:uo,in_app:!0,lineno:d}),e}function Cw(e){Ze&&K.log(`Global Handler attached: ${e}`)}function T7(){const e=He();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const L$=()=>({name:"HttpContext",preprocessEvent(e){if(!ge.navigator&&!ge.location&&!ge.document)return;const t=e.request&&e.request.url||ge.location&&ge.location.href,{referrer:n}=ge.document||{},{userAgent:r}=ge.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),F$="cause",$$=5,U$="LinkedErrors",B$=(e={})=>{const t=e.limit||$$,n=e.key||F$;return{name:U$,preprocessEvent(r,s,i){const o=i.getOptions();X9(r1,o.stackParser,o.maxValueLength,n,t,r,s)}}},H$=B$;function V$(e){const t=[$9(),P9(),_$(),f$(),R$(),H$(),nL(),L$()];return e.autoSessionTracking!==!1&&t.push(N$()),t}function z$(e={}){const t={defaultIntegrations:V$(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ge.SENTRY_RELEASE&&ge.SENTRY_RELEASE.id?ge.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function W$(){const e=typeof ge.window<"u"&&ge;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,s=ge.location&&ge.location.href||"",i=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&ge===ge.top&&i.some(l=>s.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function q$(e={}){const t=z$(e);if(!t.skipBrowserExtensionCheck&&W$()){Ei(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Ze&&(s7()||K.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:xP(t.stackParser||c$),integrations:p9(t),transport:t.transport||XF};return b9(LL,n)}const it=We,c1="sentryReplaySession",G$="replay_event",u1="Unable to send Replay",Y$=3e5,K$=9e5,X$=5e3,Z$=5500,Q$=6e4,J$=5e3,eU=3,Tw=15e4,id=5e3,tU=3e3,nU=300,d1=2e7,rU=4999,sU=15e3,Nw=36e5;function O0(e,t){return e??t()}function Fc(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}var Ot;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ot||(Ot={}));function iU(e){return e.nodeType===e.ELEMENT_NODE}function ec(e){const t=Fc([e,"optionalAccess",n=>n.host]);return Fc([t,"optionalAccess",n=>n.shadowRoot])===e}function tc(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function oU(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function aU(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function qf(e){try{const t=e.rules||e.cssRules;return t?oU(Array.from(t,N7).join("")):null}catch{return null}}function lU(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function N7(e){let t;if(uU(e))try{t=qf(e.styleSheet)||aU(e)}catch{}else if(dU(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=lU(e)),r&&(n=cU(n)),r||s)return n}return t||e.cssText}function cU(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function uU(e){return"styleSheet"in e}function dU(e){return"selectorText"in e}class I7{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Fc([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return O0(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function fU(){return new I7}function ap({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function $c({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Da(e){return e.toLowerCase()}function P0(e){return e.toUpperCase()}const Iw="__rrweb_original__";function hU(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Iw in i?i[Iw]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(l=>l!==0))return!1}return!0}function f1(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Da(t):null}function Gf(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function j7(e,t){let n;try{n=new URL(e,O0(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return O0(Fc([s,"optionalAccess",i=>i[1]]),()=>null)}const jw={};function R7(e){const t=jw[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return jw[e]=r.bind(window)}function A0(...e){return R7("setTimeout")(...e)}function M7(...e){return R7("clearTimeout")(...e)}function D7(e){try{return e.contentDocument}catch{}}let pU=1;const mU=new RegExp("[^a-z0-9-_:]"),Uc=-2;function h1(){return pU++}function gU(e){if(e instanceof HTMLFormElement)return"form";const t=Da(e.tagName);return mU.test(t)?"div":t}function yU(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Mo,Rw;const vU=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,xU=/^(?:[a-z+]+:)?\/\//i,bU=/^www\..*/i,SU=/^(data:)([^,]*),(.*)/i;function Yf(e,t){return(e||"").replace(vU,(n,r,s,i,o,a)=>{const l=s||o||a,u=r||i||"";if(!l)return n;if(xU.test(l)||bU.test(l))return`url(${u}${l}${u})`;if(SU.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${yU(t)+l}${u})`;const d=t.split("/"),f=l.split("/");d.pop();for(const h of f)h!=="."&&(h===".."?d.pop():d.push(h));return`url(${u}${d.join("/")}${u})`})}const wU=/^[^ \t\n\r\u000c]+/,_U=/^[, \t\n\r\u000c]+/;function EU(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(_U),!(n>=t.length);){let i=r(wU);if(i.slice(-1)===",")i=Yo(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Yo(e,i);let a=!1;for(;;){const l=t.charAt(n);if(l===""){s.push((i+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,s.push((i+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return s.join(", ")}const Mw=new WeakMap;function Yo(e,t){return!t||t.trim()===""?t:lp(e,t)}function kU(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function lp(e,t){let n=Mw.get(e);if(n||(n=e.createElement("a"),Mw.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function O7(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Yo(e,r):n==="srcset"?EU(e,r):n==="style"?Yf(r,lp(e)):t==="object"&&n==="data"?Yo(e,r):typeof i=="function"?i(n,r,s):r)}function P7(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function CU(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function TU(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Vi(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Vi(e.parentNode,t,n,r+1)}function Ko(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(TU(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Oa(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,l=-1;if(i){if(l=Vi(o,Ko(r,s)),l<0)return!0;a=Vi(o,Ko(t,n),l>=0?l:1/0)}else{if(a=Vi(o,Ko(t,n)),a<0)return!1;l=Vi(o,Ko(r,s),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!i}catch{}return!!i}function NU(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=A0(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{M7(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return A0(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function IU(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=A0(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{M7(i),r=!0,t()})}function jU(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:y,maskInputFn:b,dataURLOptions:v={},inlineImages:g,recordCanvas:S,keepIframeSrcFn:E,newlyAddedElement:C=!1}=t,k=RU(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ot.Document,childNodes:[],compatMode:e.compatMode}:{type:Ot.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ot.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return DU(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:m,maskInputFn:b,dataURLOptions:v,inlineImages:g,recordCanvas:S,keepIframeSrcFn:E,newlyAddedElement:C,rootId:k,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h});case e.TEXT_NODE:return MU(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,maskTextFn:y,maskInputOptions:m,maskInputFn:b,rootId:k});case e.CDATA_SECTION_NODE:return{type:Ot.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:Ot.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}function RU(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function MU(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:u,rootId:d}=t,f=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p=f==="STYLE"?!0:void 0,m=f==="SCRIPT"?!0:void 0,y=f==="TEXTAREA"?!0:void 0;if(p&&h){try{e.nextSibling||e.previousSibling||Fc([e,"access",v=>v.parentNode,"access",v=>v.sheet,"optionalAccess",v=>v.cssRules])&&(h=qf(e.parentNode.sheet))}catch(v){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${v}`,e)}h=Yf(h,lp(t.doc))}m&&(h="SCRIPT_PLACEHOLDER");const b=Oa(e,r,i,s,o,n);if(!p&&!m&&!y&&h&&b&&(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*")),y&&h&&(l.textarea||b)&&(h=u?u(h,e.parentNode):h.replace(/[\S]/g,"*")),f==="OPTION"&&h){const v=ap({type:null,tagName:f,maskInputOptions:l});h=$c({isMasked:Oa(e,r,i,s,o,v),element:e,value:h,maskInputFn:u})}return{type:Ot.Text,textContent:h||"",isStyle:p,rootId:d}}function DU(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:u,dataURLOptions:d={},inlineImages:f,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:y,maskTextClass:b,unmaskTextClass:v,maskTextSelector:g,unmaskTextSelector:S}=t,E=CU(e,r,s,i),C=gU(e);let k={};const x=e.attributes.length;for(let T=0;T<x;T++){const I=e.attributes[T];I.name&&!P7(C,I.name,I.value)&&(k[I.name]=O7(n,C,Da(I.name),I.value,e,l))}if(C==="link"&&o){const T=Array.from(n.styleSheets).find(M=>M.href===e.href);let I=null;T&&(I=qf(T)),I&&(k.rel=null,k.href=null,k.crossorigin=null,k._cssText=Yf(I,T.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const T=qf(e.sheet);T&&(k._cssText=Yf(T,lp(n)))}if(C==="input"||C==="textarea"||C==="select"||C==="option"){const T=e,I=f1(T),M=Gf(T,P0(C),I),R=T.checked;if(I!=="submit"&&I!=="button"&&M){const $=Oa(T,b,g,v,S,ap({type:I,tagName:P0(C),maskInputOptions:a}));k.value=$c({isMasked:$,element:T,value:M,maskInputFn:u})}R&&(k.checked=R)}if(C==="option"&&(e.selected&&!a.select?k.selected=!0:delete k.selected),C==="canvas"&&h){if(e.__context==="2d")hU(e)||(k.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const T=e.toDataURL(d.type,d.quality),I=n.createElement("canvas");I.width=e.width,I.height=e.height;const M=I.toDataURL(d.type,d.quality);T!==M&&(k.rr_dataURL=T)}}if(C==="img"&&f){Mo||(Mo=n.createElement("canvas"),Rw=Mo.getContext("2d"));const T=e,I=T.currentSrc||T.getAttribute("src")||"<unknown-src>",M=T.crossOrigin,R=()=>{T.removeEventListener("load",R);try{Mo.width=T.naturalWidth,Mo.height=T.naturalHeight,Rw.drawImage(T,0,0),k.rr_dataURL=Mo.toDataURL(d.type,d.quality)}catch($){if(T.crossOrigin!=="anonymous"){T.crossOrigin="anonymous",T.complete&&T.naturalWidth!==0?R():T.addEventListener("load",R);return}else console.warn(`Cannot inline img src=${I}! Error: ${$}`)}T.crossOrigin==="anonymous"&&(M?k.crossOrigin=M:T.removeAttribute("crossorigin"))};T.complete&&T.naturalWidth!==0?R():T.addEventListener("load",R)}if((C==="audio"||C==="video")&&(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop)),E){const{width:T,height:I}=e.getBoundingClientRect();k={class:k.class,rr_width:`${T}px`,rr_height:`${I}px`}}C==="iframe"&&!p(k.src)&&(!E&&!D7(e)&&(k.rr_src=k.src),delete k.src);let _;try{customElements.get(C)&&(_=!0)}catch{}return{type:Ot.Element,tagName:C,attributes:k,childNodes:[],isSVG:kU(e)||void 0,needBlock:E,rootId:y,isCustom:_}}function st(e){return e==null?"":e.toLowerCase()}function OU(e,t){if(t.comment&&e.type===Ot.Comment)return!0;if(e.type===Ot.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&j7(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(st(e.attributes.name).match(/^msapplication-tile(image|color)$/)||st(e.attributes.name)==="application-name"||st(e.attributes.rel)==="icon"||st(e.attributes.rel)==="apple-touch-icon"||st(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&st(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(st(e.attributes.property).match(/^(og|twitter|fb):/)||st(e.attributes.name).match(/^(og|twitter):/)||st(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(st(e.attributes.name)==="robots"||st(e.attributes.name)==="googlebot"||st(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(st(e.attributes.name)==="author"||st(e.attributes.name)==="generator"||st(e.attributes.name)==="framework"||st(e.attributes.name)==="publisher"||st(e.attributes.name)==="progid"||st(e.attributes.property).match(/^article:/)||st(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(st(e.attributes.name)==="google-site-verification"||st(e.attributes.name)==="yandex-verification"||st(e.attributes.name)==="csrf-token"||st(e.attributes.name)==="p:domain_verify"||st(e.attributes.name)==="verify-v1"||st(e.attributes.name)==="verification"||st(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Xo(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:y,maskTextFn:b,maskInputFn:v,slimDOMOptions:g,dataURLOptions:S={},inlineImages:E=!1,recordCanvas:C=!1,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:_=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:M=()=>!1,newlyAddedElement:R=!1}=t;let{preserveWhiteSpace:$=!0}=t;const L=jU(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,dataURLOptions:S,inlineImages:E,recordCanvas:C,keepIframeSrcFn:M,newlyAddedElement:R});if(!L)return console.warn(e,"not serialized"),null;let H;r.hasNode(e)?H=r.getId(e):OU(L,g)||!$&&L.type===Ot.Text&&!L.isStyle&&!L.textContent.replace(/^\s+|\s+$/gm,"").length?H=Uc:H=h1();const W=Object.assign(L,{id:H});if(r.add(e,W),H===Uc)return null;k&&k(e);let ie=!h;if(W.type===Ot.Element){ie=ie&&!W.needBlock,delete W.needBlock;const A=e.shadowRoot;A&&tc(A)&&(W.isShadowHost=!0)}if((W.type===Ot.Document||W.type===Ot.Element)&&ie){g.headWhitespace&&W.type===Ot.Element&&W.tagName==="head"&&($=!1);const A={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:h,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,slimDOMOptions:g,dataURLOptions:S,inlineImages:E,recordCanvas:C,preserveWhiteSpace:$,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:_,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:M};for(const V of Array.from(e.childNodes)){const ne=Xo(V,A);ne&&W.childNodes.push(ne)}if(iU(e)&&e.shadowRoot)for(const V of Array.from(e.shadowRoot.childNodes)){const ne=Xo(V,A);ne&&(tc(e.shadowRoot)&&(ne.isShadow=!0),W.childNodes.push(ne))}}return e.parentNode&&ec(e.parentNode)&&tc(e.parentNode)&&(W.isShadow=!0),W.type===Ot.Element&&W.tagName==="iframe"&&NU(e,()=>{const A=D7(e);if(A&&x){const V=Xo(A,{doc:A,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,slimDOMOptions:g,dataURLOptions:S,inlineImages:E,recordCanvas:C,preserveWhiteSpace:$,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:_,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:M});V&&x(e,V)}},_),W.type===Ot.Element&&W.tagName==="link"&&typeof W.attributes.rel=="string"&&(W.attributes.rel==="stylesheet"||W.attributes.rel==="preload"&&typeof W.attributes.href=="string"&&j7(W.attributes.href)==="css")&&IU(e,()=>{if(T){const A=Xo(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,slimDOMOptions:g,dataURLOptions:S,inlineImages:E,recordCanvas:C,preserveWhiteSpace:$,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:_,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:M});A&&T(e,A)}},I),W}function PU(e,t){const{mirror:n=new I7,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:f=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,slimDOM:g=!1,dataURLOptions:S,preserveWhiteSpace:E,onSerialize:C,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:_,stylesheetLoadTimeout:T,keepIframeSrcFn:I=()=>!1}=t||{};return Xo(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,slimDOMOptions:g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:g==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:g===!1?{}:g,dataURLOptions:S,inlineImages:h,recordCanvas:p,preserveWhiteSpace:E,onSerialize:C,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:_,stylesheetLoadTimeout:T,keepIframeSrcFn:I,newlyAddedElement:!1})}function $s(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function fn(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Oo=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Dw={map:{},getId(){return console.error(Oo),-1},getNode(){return console.error(Oo),null},removeNodeFromMap(){console.error(Oo)},has(){return console.error(Oo),!1},reset(){console.error(Oo)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Dw=new Proxy(Dw,{get(e,t,n){return t==="map"&&console.error(Oo),Reflect.get(e,t,n)}}));function Bc(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),l=this;a<=0||a>t?(r&&(HU(r),r=null),s=o,e.apply(l,i)):!r&&n.trailing!==!1&&(r=cp(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(l,i)},a))}}function A7(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){cp(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>A7(e,t,i||{},!0)}function p1(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Kf=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Kf=()=>new Date().getTime());function L7(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:$s([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||$s([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||$s([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:$s([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||$s([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||$s([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function F7(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function $7(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function U7(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Pn(e,t,n,r,s){if(!e)return!1;const i=U7(e);if(!i)return!1;const o=Ko(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=Vi(i,o);let l=-1;return a<0?!1:(r&&(l=Vi(i,Ko(null,r))),a>-1&&l<0?!0:a<l)}function AU(e,t){return t.getId(e)!==-1}function Tm(e,t){return t.getId(e)===Uc}function B7(e,t){if(ec(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?B7(e.parentNode,t):!0:!0}function L0(e){return!!e.changedTouches}function LU(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function H7(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function V7(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function F0(e){return!!$s([e,"optionalAccess",t=>t.shadowRoot])}class FU{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return wL(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function z7(e){let t=null;return $s([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function $U(e){let t=e,n;for(;n=z7(t);)t=n;return t}function UU(e){const t=e.ownerDocument;if(!t)return!1;const n=$U(e);return t.contains(n)}function W7(e){const t=e.ownerDocument;return t?t.contains(e)||UU(e):!1}const Ow={};function m1(e){const t=Ow[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Ow[e]=r.bind(window)}function BU(...e){return m1("requestAnimationFrame")(...e)}function cp(...e){return m1("setTimeout")(...e)}function HU(...e){return m1("clearTimeout")(...e)}var $e=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))($e||{}),Ie=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ie||{}),cn=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(cn||{}),is=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(is||{}),Pw;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Pw||(Pw={}));var Aw;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(Aw||(Aw={}));function g1(e){try{return e.contentDocument}catch{}}function VU(e){try{return e.contentWindow}catch{}}function zU(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function Lw(e){return"__ln"in e}class WU{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=zU([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Lw(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Lw(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Fw=(e,t)=>`${e}@${t}`;class qU{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new WU,s=l=>{let u=l,d=Uc;for(;d===Uc;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=l=>{if(!l.parentNode||!W7(l))return;const u=ec(l.parentNode)?this.mirror.getId(z7(l)):this.mirror.getId(l.parentNode),d=s(l);if(u===-1||d===-1)return r.addNode(l);const f=Xo(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{H7(h,this.mirror)&&!Pn(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(h),V7(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),F0(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(h,p)=>{Pn(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(h,p),h.contentWindow&&this.canvasManager.addWindow(h.contentWindow),this.shadowDomManager.observeAttachShadow(h))},onStylesheetLoad:(h,p)=>{this.stylesheetManager.attachLinkElement(h,p)}});f&&(t.push({parentId:u,nextId:d,node:f}),n.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)$w(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||i(l);for(const l of this.addedSet)!Uw(this.droppedSet,l)&&!$w(this.removes,l,this.mirror)||Uw(this.movedSet,l)?i(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const u=this.mirror.getId(o.value.parentNode),d=s(o.value);u!==-1&&d!==-1&&(l=o)}if(!l){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const f=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(f!==-1){l=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=p.parentNode.host;if(this.mirror.getId(m)!==-1){l=d;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),i(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const d=JSON.stringify(l.styleDiff),f=JSON.stringify(l._unchangedStyles);d.length<u.style.length&&(d+f).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Tm(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Oa(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,U7(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=f1(n),a=n.tagName;s=Gf(n,a,o);const l=ap({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=Oa(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);s=$c({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!g1(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!P7(n.tagName,r)&&(i.attributes[r]=O7(this.doc,Da(n.tagName),Da(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=l:i.styleDiff[a]=[l,u]:i._unchangedStyles[a]=[l,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=ec(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Tm(n,this.mirror)||!AU(n,this.mirror)||(this.addedSet.has(n)?($0(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||B7(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Fw(r,s)]?$0(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:ec(t.target)&&tc(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Tm(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Fw(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Pn(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),F0(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function $0(e,t){e.delete(t),t.childNodes.forEach(n=>$0(e,n))}function $w(e,t,n){return e.length===0?!1:GU(e,t,n)}function GU(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function Uw(e,t){return e.size===0?!1:q7(e,t)}function q7(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:q7(e,n):!1}let nc;function YU(e){nc=e}function KU(){nc=void 0}const Ge=e=>nc?(...n)=>{try{return e(...n)}catch(r){if(nc&&nc(r)===!0)return()=>{};throw r}}:e;function kr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const Zo=[];function mu(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function G7(e,t){const n=new qU;Zo.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=kr([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(Ge(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function XU({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=Bc(Ge(f=>{const h=Date.now()-a;e(o.map(p=>(p.timeOffset-=h,p)),f),o=[],a=null}),i),u=Ge(Bc(Ge(f=>{const h=mu(f),{clientX:p,clientY:m}=L0(f)?f.changedTouches[0]:f;a||(a=Kf()),o.push({x:p,y:m,id:r.getId(h),timeOffset:Kf()-a}),l(typeof DragEvent<"u"&&f instanceof DragEvent?Ie.Drag:f instanceof MouseEvent?Ie.MouseMove:Ie.TouchMove)}),s,{trailing:!1})),d=[fn("mousemove",u,n),fn("touchmove",u,n),fn("drag",u,n)];return Ge(()=>{d.forEach(f=>f())})}function ZU({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let u=null;const d=f=>h=>{const p=mu(h);if(Pn(p,r,s,i,!0))return;let m=null,y=f;if("pointerType"in h){switch(h.pointerType){case"mouse":m=is.Mouse;break;case"touch":m=is.Touch;break;case"pen":m=is.Pen;break}m===is.Touch?cn[f]===cn.MouseDown?y="TouchStart":cn[f]===cn.MouseUp&&(y="TouchEnd"):is.Pen}else L0(h)&&(m=is.Touch);m!==null?(u=m,(y.startsWith("Touch")&&m===is.Touch||y.startsWith("Mouse")&&m===is.Mouse)&&(m=null)):cn[f]===cn.Click&&(m=u,u=null);const b=L0(h)?h.changedTouches[0]:h;if(!b)return;const v=n.getId(p),{clientX:g,clientY:S}=b;Ge(e)({type:cn[y],id:v,x:g,y:S,...m!==null&&{pointerType:m}})};return Object.keys(cn).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&a[f]!==!1).forEach(f=>{let h=Da(f);const p=d(f);if(window.PointerEvent)switch(cn[f]){case cn.MouseDown:case cn.MouseUp:h=h.replace("mouse","pointer");break;case cn.TouchStart:case cn.TouchEnd:return}l.push(fn(h,p,t))}),Ge(()=>{l.forEach(f=>f())})}function Y7({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=Ge(Bc(Ge(l=>{const u=mu(l);if(!u||Pn(u,r,s,i,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const f=L7(t.defaultView);e({id:d,x:f.left,y:f.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return fn("scroll",a,t)}function QU({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=Ge(Bc(Ge(()=>{const i=F7(),o=$7();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return fn("resize",s,t)}const JU=["INPUT","TEXTAREA","SELECT"],Bw=new WeakMap;function eB({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:u,sampling:d,userTriggeredOnInput:f,maskTextClass:h,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:y}){function b(x){let _=mu(x);const T=x.isTrusted,I=_&&P0(_.tagName);if(I==="OPTION"&&(_=_.parentElement),!_||!I||JU.indexOf(I)<0||Pn(_,r,s,i,!0))return;const M=_;if(M.classList.contains(o)||a&&M.matches(a))return;const R=f1(_);let $=Gf(M,I,R),L=!1;const H=ap({maskInputOptions:l,tagName:I,type:R}),W=Oa(_,h,m,p,y,H);(R==="radio"||R==="checkbox")&&(L=_.checked),$=$c({isMasked:W,element:_,value:$,maskInputFn:u}),v(_,f?{text:$,isChecked:L,userTriggered:T}:{text:$,isChecked:L});const ie=_.name;R==="radio"&&ie&&L&&t.querySelectorAll(`input[type="radio"][name="${ie}"]`).forEach(A=>{if(A!==_){const V=$c({isMasked:W,element:A,value:Gf(A,I,R),maskInputFn:u});v(A,f?{text:V,isChecked:!L,userTriggered:!1}:{text:V,isChecked:!L})}})}function v(x,_){const T=Bw.get(x);if(!T||T.text!==_.text||T.isChecked!==_.isChecked){Bw.set(x,_);const I=n.getId(x);Ge(e)({..._,id:I})}}const S=(d.input==="last"?["change"]:["input","change"]).map(x=>fn(x,Ge(b),t)),E=t.defaultView;if(!E)return()=>{S.forEach(x=>x())};const C=E.Object.getOwnPropertyDescriptor(E.HTMLInputElement.prototype,"value"),k=[[E.HTMLInputElement.prototype,"value"],[E.HTMLInputElement.prototype,"checked"],[E.HTMLSelectElement.prototype,"value"],[E.HTMLTextAreaElement.prototype,"value"],[E.HTMLSelectElement.prototype,"selectedIndex"],[E.HTMLOptionElement.prototype,"selected"]];return C&&C.set&&S.push(...k.map(x=>A7(x[0],x[1],{set(){Ge(b)({target:this,isTrusted:!1})}},!1,E))),Ge(()=>{S.forEach(x=>x())})}function Xf(e){const t=[];function n(r,s){if(od("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||od("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||od("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||od("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Us(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function tB({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Ge((d,f,h)=>{const[p,m]=h,{id:y,styleId:b}=Us(f,t,n.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,adds:[{rule:p,index:m}]}),d.apply(f,h)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Ge((d,f,h)=>{const[p]=h,{id:m,styleId:y}=Us(f,t,n.styleMirror);return(m&&m!==-1||y&&y!==-1)&&e({id:m,styleId:y,removes:[{index:p}]}),d.apply(f,h)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Ge((d,f,h)=>{const[p]=h,{id:m,styleId:y}=Us(f,t,n.styleMirror);return(m&&m!==-1||y&&y!==-1)&&e({id:m,styleId:y,replace:p}),d.apply(f,h)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Ge((d,f,h)=>{const[p]=h,{id:m,styleId:y}=Us(f,t,n.styleMirror);return(m&&m!==-1||y&&y!==-1)&&e({id:m,styleId:y,replaceSync:p}),d.apply(f,h)})}));const l={};ad("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(ad("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),ad("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),ad("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([d,f])=>{u[d]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Ge((h,p,m)=>{const[y,b]=m,{id:v,styleId:g}=Us(p.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||g&&g!==-1)&&e({id:v,styleId:g,adds:[{rule:y,index:[...Xf(p),b||0]}]}),h.apply(p,m)})}),f.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Ge((h,p,m)=>{const[y]=m,{id:b,styleId:v}=Us(p.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||v&&v!==-1)&&e({id:b,styleId:v,removes:[{index:[...Xf(p),y]}]}),h.apply(p,m)})})}),Ge(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([d,f])=>{f.prototype.insertRule=u[d].insertRule,f.prototype.deleteRule=u[d].deleteRule})})}function K7({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?kr([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):kr([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=kr([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(kr([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return kr([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=kr([i,"access",l=>l.set,"optionalAccess",l=>l.call,"call",l=>l(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),Ge(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function nB({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Ge((a,l,u)=>{const[d,f,h]=u;if(n.has(d))return i.apply(l,[d,f,h]);const{id:p,styleId:m}=Us(kr([l,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:f,priority:h},index:Xf(l.parentRule)}),a.apply(l,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Ge((a,l,u)=>{const[d]=u;if(n.has(d))return o.apply(l,[d]);const{id:f,styleId:h}=Us(kr([l,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,remove:{property:d},index:Xf(l.parentRule)}),a.apply(l,u)})}),Ge(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function rB({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=Ge(u=>Bc(Ge(d=>{const f=mu(d);if(!f||Pn(f,t,n,r,!0))return;const{currentTime:h,volume:p,muted:m,playbackRate:y}=f;e({type:u,id:s.getId(f),currentTime:h,volume:p,muted:m,playbackRate:y})}),i.media||500)),l=[fn("play",a(0),o),fn("pause",a(1),o),fn("seeked",a(2),o),fn("volumechange",a(3),o),fn("ratechange",a(4),o)];return Ge(()=>{l.forEach(u=>u())})}function sB({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(l,u,d){const f=new i(l,u,d);return s.set(f,{family:l,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),f};const o=p1(t.fonts,"add",function(a){return function(l){return cp(Ge(()=>{const u=s.get(l);u&&(e(u),s.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(o),Ge(()=>{r.forEach(a=>a())})}function iB(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const l=Ge(()=>{const u=t.getSelection();if(!u||a&&kr([u,"optionalAccess",h=>h.isCollapsed]))return;a=u.isCollapsed||!1;const d=[],f=u.rangeCount||0;for(let h=0;h<f;h++){const p=u.getRangeAt(h),{startContainer:m,startOffset:y,endContainer:b,endOffset:v}=p;Pn(m,r,s,i,!0)||Pn(b,r,s,i,!0)||d.push({start:n.getId(m),startOffset:y,end:n.getId(b),endOffset:v})}o({ranges:d})});return l(),fn("selectionchange",l)}function oB({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:p1(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function aB(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=G7(e,e.doc));const s=XU(e),i=ZU(e),o=Y7(e),a=QU(e,{win:n}),l=eB(e),u=rB(e);let d=()=>{},f=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(d=tB(e,{win:n}),f=K7(e,e.doc),h=nB(e,{win:n}),e.collectFonts&&(p=sB(e)));const m=iB(e),y=oB(e),b=[];for(const v of e.plugins)b.push(v.observer(v.callback,n,v.options));return Ge(()=>{Zo.forEach(v=>v.reset()),kr([r,"optionalAccess",v=>v.disconnect,"call",v=>v()]),s(),i(),o(),a(),l(),u(),d(),f(),h(),p(),m(),y(),b.forEach(v=>v())})}function od(e){return typeof window[e]<"u"}function ad(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class U0{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function Hw(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}class lB{constructor(){this.crossOriginIframeMirror=new U0(h1),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class cB{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new U0(h1),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new U0(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Hw([this,"access",s=>s.loadListener,"optionalCall",s=>s(t)]);const r=g1(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case $e.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:$e.IncrementalSnapshot,data:{source:Ie.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case $e.Meta:case $e.Load:case $e.DomContentLoaded:return!1;case $e.Plugin:return n;case $e.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case $e.IncrementalSnapshot:switch(n.data.source){case Ie.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Ie.Drag:case Ie.TouchMove:case Ie.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case Ie.ViewportResize:return!1;case Ie.MediaInteraction:case Ie.MouseInteraction:case Ie.Scroll:case Ie.CanvasMutation:case Ie.Input:return this.replaceIds(n.data,t,["id"]),n;case Ie.StyleSheetRule:case Ie.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Ie.Font:return n;case Ie.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case Ie.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Hw([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ot.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class uB{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class dB{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!tc(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=G7({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Y7({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),cp(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(K7({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=g1(t),r=VU(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(p1(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&W7(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Vw{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class fB{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new FU,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,l)=>({rule:N7(a),index:l}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class hB{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,BU(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let xt,Zf;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=Rd([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const gr=fU();function ys(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:f=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:y,maskInputOptions:b,slimDOMOptions:v,maskAttributeFn:g,maskInputFn:S,maskTextFn:E,maxCanvasSize:C=null,packFn:k,sampling:x={},dataURLOptions:_={},mousemoveWait:T,recordDOM:I=!0,recordCanvas:M=!1,recordCrossOriginIframes:R=!1,recordAfter:$=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:L=!1,collectFonts:H=!1,inlineImages:W=!1,plugins:ie,keepIframeSrcFn:A=()=>!1,ignoreCSSAttributes:V=new Set([]),errorHandler:ne,onMutation:B,getCanvasManager:te}=e;YU(ne);const fe=R?window.parent===window:!0;let oe=!1;if(!fe)try{window.parent.document&&(oe=!1)}catch{oe=!0}if(fe&&!t)throw new Error("emit function is required");if(!fe&&!oe)return()=>{};T!==void 0&&x.mousemove===void 0&&(x.mousemove=T),gr.reset();const ae=y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},J=v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:v==="all",headMetaDescKeywords:v==="all"}:v||{};LU();let z,xe=0;const Pe=N=>{for(const O of ie||[])O.eventProcessor&&(N=O.eventProcessor(N));return k&&!oe&&(N=k(N)),N};xt=(N,O)=>{const P=N;if(P.timestamp=Kf(),Rd([Zo,"access",G=>G[0],"optionalAccess",G=>G.isFrozen,"call",G=>G()])&&P.type!==$e.FullSnapshot&&!(P.type===$e.IncrementalSnapshot&&P.data.source===Ie.Mutation)&&Zo.forEach(G=>G.unfreeze()),fe)Rd([t,"optionalCall",G=>G(Pe(P),O)]);else if(oe){const G={type:"rrweb",event:Pe(P),origin:window.location.origin,isCheckout:O};window.parent.postMessage(G,"*")}if(P.type===$e.FullSnapshot)z=P,xe=0;else if(P.type===$e.IncrementalSnapshot){if(P.data.source===Ie.Mutation&&P.data.isAttachIframe)return;xe++;const G=r&&xe>=r,U=n&&z&&P.timestamp-z.timestamp>n;(G||U)&&rn(!0)}};const Te=N=>{xt({type:$e.IncrementalSnapshot,data:{source:Ie.Mutation,...N}})},X=N=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.Scroll,...N}}),ee=N=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.CanvasMutation,...N}}),me=N=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.AdoptedStyleSheet,...N}}),Se=new fB({mutationCb:Te,adoptedStyleSheetCb:me}),Qe=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new lB:new cB({mirror:gr,mutationCb:Te,stylesheetManager:Se,recordCrossOriginIframes:R,wrappedEmit:xt});for(const N of ie||[])N.getMirror&&N.getMirror({nodeMirror:gr,crossOriginIframeMirror:Qe.crossOriginIframeMirror,crossOriginIframeStyleMirror:Qe.crossOriginIframeStyleMirror});const kt=new hB,qn=mB(te,{mirror:gr,win:window,mutationCb:N=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.CanvasMutation,...N}}),recordCanvas:M,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:C,sampling:x.canvas,dataURLOptions:_,errorHandler:ne}),Fr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new uB:new dB({mutationCb:Te,scrollCb:X,bypassOptions:{onMutation:B,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:ae,dataURLOptions:_,maskAttributeFn:g,maskTextFn:E,maskInputFn:S,recordCanvas:M,inlineImages:W,sampling:x,slimDOMOptions:J,iframeManager:Qe,stylesheetManager:Se,canvasManager:qn,keepIframeSrcFn:A,processedNodeManager:kt},mirror:gr}),rn=(N=!1)=>{if(!I)return;xt({type:$e.Meta,data:{href:window.location.href,width:$7(),height:F7()}},N),Se.reset(),Fr.init(),Zo.forEach(P=>P.lock());const O=PU(document,{mirror:gr,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:ae,maskAttributeFn:g,maskInputFn:S,maskTextFn:E,slimDOM:J,dataURLOptions:_,recordCanvas:M,inlineImages:W,onSerialize:P=>{H7(P,gr)&&Qe.addIframe(P),V7(P,gr)&&Se.trackLinkElement(P),F0(P)&&Fr.addShadowRoot(P.shadowRoot,document)},onIframeLoad:(P,G)=>{Qe.attachIframe(P,G),P.contentWindow&&qn.addWindow(P.contentWindow),Fr.observeAttachShadow(P)},onStylesheetLoad:(P,G)=>{Se.attachLinkElement(P,G)},keepIframeSrcFn:A});if(!O)return console.warn("Failed to snapshot the document");xt({type:$e.FullSnapshot,data:{node:O,initialOffset:L7(window)}}),Zo.forEach(P=>P.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Se.adoptStyleSheets(document.adoptedStyleSheets,gr.getId(document))};Zf=rn;try{const N=[],O=G=>Ge(aB)({onMutation:B,mutationCb:Te,mousemoveCb:(U,q)=>xt({type:$e.IncrementalSnapshot,data:{source:q,positions:U}}),mouseInteractionCb:U=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.MouseInteraction,...U}}),scrollCb:X,viewportResizeCb:U=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.ViewportResize,...U}}),inputCb:U=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.Input,...U}}),mediaInteractionCb:U=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.MediaInteraction,...U}}),styleSheetRuleCb:U=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.StyleSheetRule,...U}}),styleDeclarationCb:U=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.StyleDeclaration,...U}}),canvasMutationCb:ee,fontCb:U=>xt({type:$e.IncrementalSnapshot,data:{source:Ie.Font,...U}}),selectionCb:U=>{xt({type:$e.IncrementalSnapshot,data:{source:Ie.Selection,...U}})},customElementCb:U=>{xt({type:$e.IncrementalSnapshot,data:{source:Ie.CustomElement,...U}})},blockClass:s,ignoreClass:a,ignoreSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:ae,inlineStylesheet:m,sampling:x,recordDOM:I,recordCanvas:M,inlineImages:W,userTriggeredOnInput:L,collectFonts:H,doc:G,maskAttributeFn:g,maskInputFn:S,maskTextFn:E,keepIframeSrcFn:A,blockSelector:i,unblockSelector:o,slimDOMOptions:J,dataURLOptions:_,mirror:gr,iframeManager:Qe,stylesheetManager:Se,shadowDomManager:Fr,processedNodeManager:kt,canvasManager:qn,ignoreCSSAttributes:V,plugins:Rd([ie,"optionalAccess",U=>U.filter,"call",U=>U(q=>q.observer),"optionalAccess",U=>U.map,"call",U=>U(q=>({observer:q.observer,options:q.options,callback:ce=>xt({type:$e.Plugin,data:{plugin:q.name,payload:ce}})}))])||[]},{});Qe.addLoadListener(G=>{try{N.push(O(G.contentDocument))}catch(U){console.warn(U)}});const P=()=>{rn(),N.push(O(document))};return document.readyState==="interactive"||document.readyState==="complete"?P():(N.push(fn("DOMContentLoaded",()=>{xt({type:$e.DomContentLoaded,data:{}}),$==="DOMContentLoaded"&&P()})),N.push(fn("load",()=>{xt({type:$e.Load,data:{}}),$==="load"&&P()},window))),()=>{N.forEach(G=>G()),kt.destroy(),Zf=void 0,KU()}}catch(N){console.warn(N)}}function pB(e){if(!Zf)throw new Error("please take full snapshot after start recording");Zf(e)}ys.mirror=gr;ys.takeFullSnapshot=pB;function mB(e,t){try{return e?e(t):new Vw}catch{return console.warn("Unable to initialize CanvasManager"),new Vw}}const gB=3,yB=5;function y1(e){return e>9999999999?e:e*1e3}function Nm(e){return e>9999999999?e/1e3:e}function gu(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:$e.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:br(t,10,1e3)}}),t.category==="console")))}const vB="button,a";function X7(e){return e.closest(vB)||e}function Z7(e){const t=Q7(e);return!t||!(t instanceof Element)?t:X7(t)}function Q7(e){return xB(e)?e.target:e}function xB(e){return typeof e=="object"&&!!e&&"target"in e}let Bs;function bB(e){return Bs||(Bs=[],SB()),Bs.push(e),()=>{const t=Bs?Bs.indexOf(e):-1;t>-1&&Bs.splice(t,1)}}function SB(){Tn(it,"open",function(e){return function(...t){if(Bs)try{Bs.forEach(n=>n())}catch{}return e.apply(it,t)}})}const wB=new Set([Ie.Mutation,Ie.StyleSheetRule,Ie.StyleDeclaration,Ie.AdoptedStyleSheet,Ie.CanvasMutation,Ie.Selection,Ie.MediaInteraction]);function _B(e,t,n){e.handleClick(t,n)}class EB{constructor(t,n,r=gu){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=bB(()=>{this._lastMutation=zw()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(CB(n,this._ignoreSelector)||!TB(t))return;const r={timestamp:Nm(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Nm(t)}registerScroll(t=Date.now()){this._lastScroll=Nm(t)}registerClick(t){const n=X7(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=zw();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=l<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:it.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,d);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:it.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Ma(()=>this._checkClicks(),1e3)}}const kB=["A","BUTTON","INPUT"];function CB(e,t){return!!(!kB.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function TB(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function zw(){return Date.now()/1e3}function NB(e,t){try{if(!IB(t))return;const{source:n}=t.data;if(wB.has(n)&&e.registerMutation(t.timestamp),n===Ie.Scroll&&e.registerScroll(t.timestamp),jB(t)){const{type:r,id:s}=t.data,i=ys.mirror.getNode(s);i instanceof HTMLElement&&r===cn.Click&&e.registerClick(i)}}catch{}}function IB(e){return e.type===gB}function jB(e){return e.data.source===Ie.MouseInteraction}function Yr(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Qf;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Qf||(Qf={}));const RB=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function MB(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(RB.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const DB=e=>t=>{if(!e.isEnabled())return;const n=OB(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&_B(e.clickDetector,n,Z7(t.event)),gu(e,n)};function J7(e,t){const n=ys.mirror.getId(e),r=n&&ys.mirror.getNode(n),s=r&&ys.mirror.getMeta(r),i=s&&AB(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Qf.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:MB(i.attributes)}}:{}}}function OB(e){const{target:t,message:n}=PB(e);return Yr({category:`ui.${e.name}`,...J7(t,n)})}function PB(e){const t=e.name==="click";let n,r=null;try{r=t?Z7(e.event):Q7(e.event),n=Es(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function AB(e){return e.type===Qf.Element}function LB(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=FB(t);n&&gu(e,n)}function FB(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||$B(o)||!i)return null;const a=t||r||s,l=i.length===1;if(!a&&l)return null;const u=Es(o,{maxStringLength:200})||"<unknown>",d=J7(o,u);return Yr({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function $B(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const UB={resource:WB,paint:VB,navigation:zB};function ld(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function BB(e){return e.map(HB).filter(Boolean)}function HB(e){const t=UB[e.entryType];return t?t(e):null}function Pa(e){return((Qt||it.performance.timeOrigin)+e)/1e3}function VB(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=Pa(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function zB(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:d,loadEventEnd:f,redirectCount:h,startTime:p,transferSize:m,type:y}=e;return s===0?null:{type:`${t}.${y}`,start:Pa(p),end:Pa(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:f,domComplete:i,redirectCount:h}}}function WB(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Pa(i),end:Pa(s),name:r,data:{size:u,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function qB(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return up(e,"largest-contentful-paint",n)}function GB(e){return e.sources!==void 0}function YB(e){const t=[],n=[];for(const r of e.entries)if(GB(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const o=ys.mirror.getId(i.node);o&&s.push(o)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return up(e,"cumulative-layout-shift",n,t)}function KB(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return up(e,"first-input-delay",n)}function XB(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return up(e,"interaction-to-next-paint",n)}function up(e,t,n,r){const s=e.value,i=e.rating,o=Pa(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map(a=>ys.mirror.getId(a)):void 0,attributions:r}}}function ZB(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Ra(s,n))}),r.push(g7(ld(qB,e)),a1(ld(YB,e)),y7(ld(KB,e)),v7(ld(XB,e))),()=>{r.forEach(s=>s())}}const _e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,QB='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function JB(){const e=new Blob([QB]);return URL.createObjectURL(e)}const Ww=["info","warn","error","log"],Od="[Replay] ";function Im(e,t="info"){mi({category:"console",data:{logger:"replay"},level:t,message:`${Od}${e}`},{level:t})}function eH(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return _e?(Ww.forEach(r=>{n[r]=(...s)=>{K[r](Od,...s),t&&Im(s.join(""),e7(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),K.error(Od,r),e?HC(r):t&&Im(r,"error")},n.infoTick=(...r)=>{K.info(Od,...r),t&&setTimeout(()=>Im(r[0]),0)}):Ww.forEach(r=>{n[r]=()=>{}}),n}const Ce=eH();class v1 extends Error{constructor(){super(`Event buffer exceeded maximum size of ${d1}.`)}}class eT{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>d1)throw new v1;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?y1(t):null}}class tH{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){_e&&Ce.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){_e&&Ce.error("Error in compression worker: ",l.response),i(new Error("Error in compression worker"));return}s(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class nH{constructor(t){this._worker=new tH(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=y1(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>d1?Promise.reject(new v1):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{_e&&Ce.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class rH{constructor(t){this._fallback=new eT,this._compression=new nH(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){_e&&Ce.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){_e&&Ce.exception(i,"Failed to add events when switching buffers.")}}}function sH({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=iH(t);if(n)return n}return _e&&Ce.info("Using simple buffer"),new eT}function iH(e){try{const t=e||oH();if(!t)return;_e&&Ce.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new rH(n)}catch(t){_e&&Ce.exception(t,"Failed to create compression worker")}}function oH(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?JB():""}function x1(){try{return"sessionStorage"in it&&!!it.sessionStorage}catch{return!1}}function aH(e){lH(),e.session=void 0}function lH(){if(x1())try{it.sessionStorage.removeItem(c1)}catch{}}function tT(e){return e===void 0?!1:Math.random()<e}function nT(e){const t=Date.now(),n=e.id||mn(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function b1(e){if(x1())try{it.sessionStorage.setItem(c1,JSON.stringify(e))}catch{}}function cH(e,t){return tT(e)?"session":t?"buffer":!1}function qw({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=cH(e,t),i=nT({sampled:s,previousSessionId:r});return n&&b1(i),i}function uH(){if(!x1())return null;try{const e=it.sessionStorage.getItem(c1);if(!e)return null;const t=JSON.parse(e);return _e&&Ce.infoTick("Loading existing session"),nT(t)}catch{return null}}function B0(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function rT(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return B0(e.started,t,r)||B0(e.lastActivity,n,r)}function sT(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!rT(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function jm({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&uH();return s?sT(s,{sessionIdleExpire:e,maxReplayDuration:t})?(_e&&Ce.infoTick("Session in sessionStorage is expired, creating new one..."),qw(r,{previousSessionId:s.id})):s:(_e&&Ce.infoTick("Creating new session"),qw(r,{previousSessionId:n}))}function dH(e){return e.type===$e.Custom}function S1(e,t,n){return oT(e,t)?(iT(e,t,n),!0):!1}function fH(e,t,n){return oT(e,t)?iT(e,t,n):Promise.resolve(null)}async function iT(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),o=hH(t,i.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(i){const o=i&&i instanceof v1,a=o?"addEventSizeExceeded":"addEvent";if(o&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});const l=He();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function oT(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=y1(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(_e&&Ce.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function hH(e,t){try{if(typeof t=="function"&&dH(e))return t(e)}catch(n){return _e&&Ce.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function w1(e){return!e.type}function H0(e){return e.type==="transaction"}function pH(e){return e.type==="replay_event"}function Gw(e){return e.type==="feedback"}function mH(e){return(t,n)=>{if(!e.isEnabled()||!w1(t)&&!H0(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(H0(t)){gH(e,t);return}yH(e,t)}}}function gH(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function yH(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Ma(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function vH(e){return t=>{!e.isEnabled()||!w1(t)||xH(e,t)}}function xH(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Yr({category:"replay.hydrate-error",data:{url:dC()}});gu(e,r)}}function bH(e){const t=He();t&&t.on("beforeAddBreadcrumb",n=>SH(e,n))}function SH(e,t){if(!e.isEnabled()||!aT(t))return;const n=wH(t);n&&gu(e,n)}function wH(e){return!aT(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?_H(e):Yr(e)}function _H(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Yr(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>id?(n=!0,`${s.slice(0,id)}…`):s;if(typeof s=="object")try{const i=br(s,7);return JSON.stringify(i).length>id?(n=!0,`${JSON.stringify(i,null,2).slice(0,id)}…`):i}catch{}return s});return Yr({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function aT(e){return!!e.category}function EH(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function lT(){const e=nt().getPropagationContext().dsc;e&&delete e.replay_id;const t=$t();if(t){const n=wo(t);delete n.replay_id}}function kH(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:$e.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function CH(e,t){return e.recordingMode!=="buffer"||t.message===u1||!t.exception||t.type?!1:tT(e.getOptions().errorSampleRate)}function TH(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:pH(t)?(delete t.breadcrumbs,t):!w1(t)&&!H0(t)&&!Gw(t)?t:e.checkAndHandleExpiredSession()?Gw(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),kH(e,t),t):EH(t,n)&&!e.getOptions()._experiments.captureExceptions?(_e&&Ce.log("Ignoring error from rrweb internals",t),null):((CH(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(lT(),t),{id:"Replay"})}function dp(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:$e.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function NH(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function IH(e){return t=>{if(!e.isEnabled())return;const n=NH(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(dp(e,[n]),!1)))}}function jH(e,t){return _e&&e.getOptions()._experiments.traceInternals?!1:N9(t,He())}function cT(e,t){e.isEnabled()&&t!==null&&(jH(e,t.name)||e.addUpdate(()=>(dp(e,[t]),!0)))}function fp(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=hT(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function uT(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function dT(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[hT(e)];if(!e)return[void 0]}catch(t){return _e&&Ce.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return _e&&Ce.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Jf(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function fT(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:At({method:i,statusCode:o,request:a,response:l})}}function Hc(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function li(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=RH(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function V0(e,t){return Object.entries(e).reduce((n,[r,s])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function hT(e){return new URLSearchParams(e).toString()}function RH(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Tw,n=MH(e);if(t){const r=e.slice(0,Tw);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function MH(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function eh(e,t){const n=DH(e);return ai(n,t)}function DH(e,t=it.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(it.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function OH(e,t,n){try{const r=await AH(e,t,n),s=fT("resource.fetch",r);cT(n.replay,s)}catch(r){_e&&Ce.exception(r,"Failed to capture fetch breadcrumb")}}function PH(e,t){const{input:n,response:r}=t,s=n?pT(n):void 0,i=fp(s),o=r?uT(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function AH(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:l=0,request_body_size:u,response_body_size:d}=e.data,f=eh(o,n.networkDetailAllowUrls)&&!eh(o,n.networkDetailDenyUrls),h=f?LH(n,t.input,u):Hc(u),p=await FH(f,n,t.response,d);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:l,request:h,response:p}}function LH({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?BH(n,t):{};if(!e)return li(s,r,void 0);const i=pT(n),[o,a]=dT(i),l=li(s,r,o);return a?Jf(l,a):l}async function FH(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Hc(s);const i=r?mT(r.headers,n):{};if(!r||!t&&s!==void 0)return li(i,s,void 0);const[o,a]=await UH(r),l=$H(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return a?Jf(l,a):l}function $H(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const i=e&&e.length&&n===void 0?fp(e):n;return r?t?li(s,i,e):li(s,i,void 0):Hc(i)}catch(i){return _e&&Ce.exception(i,"Failed to serialize response body"),li(s,n,void 0)}}async function UH(e){const t=HH(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await VH(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(_e&&Ce.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(_e&&Ce.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function pT(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function mT(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function BH(e,t){return e.length===1&&typeof e[0]!="string"?Yw(e[0],t):e.length===2?Yw(e[1],t):{}}function Yw(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?mT(n,t):Array.isArray(n)?{}:V0(n,t):{}}function HH(e){try{return e.clone()}catch(t){_e&&Ce.exception(t,"Failed to clone response body")}}function VH(e){return new Promise((t,n)=>{const r=Ma(()=>n(new Error("Timeout while trying to read response body")),500);zH(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function zH(e){return await e.text()}async function WH(e,t,n){try{const r=GH(e,t,n),s=fT("resource.xhr",r);cT(n.replay,s)}catch(r){_e&&Ce.exception(r,"Failed to capture xhr breadcrumb")}}function qH(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=fp(r),i=n.getResponseHeader("content-length")?uT(n.getResponseHeader("content-length")):ZH(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function GH(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:l,method:u,status_code:d=0,request_body_size:f,response_body_size:h}=e.data;if(!l)return null;if(!a||!eh(l,n.networkDetailAllowUrls)||eh(l,n.networkDetailDenyUrls)){const k=Hc(f),x=Hc(h);return{startTimestamp:s,endTimestamp:i,url:l,method:u,statusCode:d,request:k,response:x}}const p=a[Hi],m=p?V0(p.request_headers,n.networkRequestHeaders):{},y=V0(YH(a),n.networkResponseHeaders),[b,v]=n.networkCaptureBodies?dT(o):[void 0],[g,S]=n.networkCaptureBodies?KH(a):[void 0],E=li(m,f,b),C=li(y,h,g);return{startTimestamp:s,endTimestamp:i,url:l,method:u,statusCode:d,request:v?Jf(E,v):E,response:S?Jf(C,S):C}}function YH(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}function KH(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return XH(e.response,e.responseType)}catch(n){t.push(n)}return _e&&Ce.warn("Failed to get xhr response body",...t),[void 0]}function XH(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return _e&&Ce.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return _e&&Ce.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ZH(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return fp(n)}catch{return}}function QH(e){const t=He();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,u)=>JH(a,l,u))}catch{}}function JH(e,t,n){if(t.data)try{eV(t)&&nV(n)&&(qH(t,n),WH(t,n,e)),tV(t)&&rV(n)&&(PH(t,n),OH(t,n,e))}catch(r){_e&&Ce.exception(r,"Error when enriching network breadcrumb")}}function eV(e){return e.category==="xhr"}function tV(e){return e.category==="fetch"}function nV(e){return e&&e.xhr}function rV(e){return e&&e.response}function sV(e){const t=He();_7(DB(e)),op(IH(e)),bH(e),QH(e);const n=TH(e);a9(n),t&&(t.on("beforeSendEvent",vH(e)),t.on("afterSendEvent",mH(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,s)=>{const i=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&i&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=i)}))}async function iV(e){try{return Promise.all(dp(e,[oV(it.performance.memory)]))}catch{return[]}}function oV(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function aV(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function d(){return s&&clearTimeout(s),s=Ma(a,t),o&&i===void 0&&(i=Ma(a,o)),r}return d.cancel=l,d.flush=u,d}const Ii=We.navigator;function lV(){return/iPhone|iPad|iPod/i.test(Ii&&Ii.userAgent||"")||/Macintosh/i.test(Ii&&Ii.userAgent||"")&&Ii&&Ii.maxTouchPoints&&Ii.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function cV(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){_e&&Ce.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&NB(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!S1(e,n,s))return!0;if(!s)return!1;const i=e.session;if(dV(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(_e&&Ce.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),i.started=o,e.getOptions().stickySession&&b1(i))}return i&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function uV(e){const t=e.getOptions();return{type:$e.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function dV(e,t){!t||!e.session||e.session.segmentId!==0||S1(e,uV(e),!1)}function fV(e,t,n,r){return _o(PC(e,t1(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function hV({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function pV({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);const o=await BC(e.getOptions(),r,i,t,e,Ar());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function mV({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=hV({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:u,initialTimestamp:d}=r,f=He(),h=nt(),p=f&&f.getTransport(),m=f&&f.getDsn();if(!f||!p||!m||!i.sampled)return ks({});const y={type:G$,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:l,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},b=await pV({scope:h,client:f,replayId:t,event:y});if(!b)return f.recordDroppedEvent("event_processor","replay",y),_e&&Ce.info("An event processor returned `null`, will not send event."),ks({});delete b.sdkProcessingMetadata;const v=fV(b,o,m,f.getOptions().tunnel);let g;try{g=await p.send(v)}catch(E){const C=new Error(u1);try{C.cause=E}catch{}throw C}if(typeof g.statusCode=="number"&&(g.statusCode<200||g.statusCode>=300))throw new gT(g.statusCode);const S=ZC({},g);if(XC(S,"replay"))throw new _1(S);return g}class gT extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class _1 extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function yT(e,t={count:0,interval:J$}){const{recordingData:n,onError:r}=e;if(n.length)try{return await mV(e),!0}catch(s){if(s instanceof gT||s instanceof _1)throw s;if(zC("Replays",{_retryCount:t.count}),r&&r(s),t.count>=eU){const i=new Error(`${u1} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{Ma(async()=>{try{await yT(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const vT="__THROTTLED",gV="__SKIPPED";function yV(e,t,n){const r=new Map,s=a=>{const l=a-n;r.forEach((u,d)=>{d<l&&r.delete(d)})},i=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(s(l),i()>=t){const d=o;return o=!0,d?gV:vT}o=!1;const u=r.get(l)||0;return r.set(l,u+1),e(...a)}}class Hs{constructor({options:t,recordingOptions:n}){Hs.prototype.__init.call(this),Hs.prototype.__init2.call(this),Hs.prototype.__init3.call(this),Hs.prototype.__init4.call(this),Hs.prototype.__init5.call(this),Hs.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Y$,sessionIdleExpire:K$},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=aV(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=yV((o,a)=>fH(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(tU,r),timeout:r,scrollTimeout:nU,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new EB(this,i)),_e){const o=t._experiments;Ce.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){_e&&Ce.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){_e&&Ce.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",_e&&Ce.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){_e&&Ce.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){_e&&Ce.info("Buffering is in progress, call `flush()` to save the replay");return}_e&&Ce.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=jm({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){_e&&Ce.info("Buffering is in progress, call `flush()` to save the replay");return}_e&&Ce.infoTick("Starting replay in buffer mode");const t=jm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=ys({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Q$}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:cV(this),...lV(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{_e&&Ce.info(`Stopping Replay${n?` triggered by ${n}`:""}`),lT(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,aH(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),_e&&Ce.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),_e&&Ce.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();_e&&Ce.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&B0(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${it.location.pathname}${it.location.hash}${it.location.search}`,n=`${it.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===vT){const s=Yr({category:"replay.throttled"});this.addUpdate(()=>!S1(this,{type:yB,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||$t(),n=t&&Lt(t),s=(n&&Ve(n).data||{})[Gr];if(!(!n||!s||!["route","custom"].includes(s)))return Ve(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=sH({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=jm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return sT(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{it.document.addEventListener("visibilitychange",this._handleVisibilityChange),it.addEventListener("blur",this._handleWindowBlur),it.addEventListener("focus",this._handleWindowFocus),it.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(sV(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=ZB(this)}_removeListeners(){try{it.document.removeEventListener("visibilitychange",this._handleVisibilityChange),it.removeEventListener("blur",this._handleWindowBlur),it.removeEventListener("focus",this._handleWindowFocus),it.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{it.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Yr({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Yr({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{LB(this,t)}}_doChangeToBackgroundTasks(t){!this.session||rT(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){_e&&Ce.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:$e.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=BB(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(dp(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){_e&&Ce.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await iV(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await yT({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=He();if(r){const s=n instanceof _1?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){_e&&Ce.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){_e&&Ce.info(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&_e&&Ce.info("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&b1(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=Yr({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function _l(e,t){return[...e,...t].join(",")}function vV({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const i=["base","iframe[srcdoc]:not([src])"],o=_l(e,[".sentry-mask","[data-sentry-mask]"]),a=_l(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:_l(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:_l(r,[]),ignoreSelector:_l(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function xV({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Kw='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',bV=["content-length","content-type","accept"];let Xw=!1;const SV=e=>new hp(e);class hp{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=X$,flushMaxDelay:n=Z$,minReplayDuration:r=rU,maxReplayDuration:s=Nw,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:h=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:y=[],networkDetailAllowUrls:b=[],networkDetailDenyUrls:v=[],networkCaptureBodies:g=!0,networkRequestHeaders:S=[],networkResponseHeaders:E=[],mask:C=[],maskAttributes:k=["title","placeholder"],unmask:x=[],block:_=[],unblock:T=[],ignore:I=[],maskFn:M,beforeAddRecordingEvent:R,beforeErrorSampling:$,onError:L}={}){this.name=hp.id;const H=vV({mask:C,unmask:x,block:_,unblock:T,ignore:I});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(W,ie,A)=>xV({maskAttributes:k,maskAllText:u,privacyOptions:H,key:W,value:ie,el:A}),...H,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:W=>{try{W.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,sU),maxReplayDuration:Math.min(s,Nw),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:f,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:h,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:y,networkDetailAllowUrls:b,networkDetailDenyUrls:v,networkCaptureBodies:g,networkRequestHeaders:Zw(S),networkResponseHeaders:Zw(E),beforeAddRecordingEvent:R,beforeErrorSampling:$,onError:L,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Kw}`:Kw),this._isInitialized&&vw())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Xw}set _isInitialized(t){Xw=t}afterAllSetup(t){!vw()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=wV(this._initialOptions,t);this._replay=new Hs({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}hp.__initStatic();function wV(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...At(e)},s=Hf(n.replaysSessionSampleRate),i=Hf(n.replaysOnErrorSampleRate);return s==null&&i==null&&Ei(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function Zw(e){return[...bV,...e.map(t=>t.toLowerCase())]}const Qw=new WeakMap,Rm=new Map,Pd={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function _V(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:Pd.traceFetch,traceXHR:Pd.traceXHR,trackFetchStreamPerformance:Pd.trackFetchStreamPerformance,...t},l=typeof i=="function"?i:f=>!0,u=f=>CV(f,a),d={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(h=>{if(h.op==="http.client"){const p=Rm.get(h.span_id);p&&(h.timestamp=p/1e3,Rm.delete(h.span_id))}}),f)),s&&hL(f=>{if(f.response){const h=Qw.get(f.response);h&&f.endTimestamp&&Rm.set(h,f.endTimestamp)}}),i7(f=>{const h=oL(f,l,u,d);if(f.response&&f.fetchData.__span&&Qw.set(f.response,f.fetchData.__span),h){const p=xT(f.fetchData.url),m=p?Zi(p).host:void 0;h.setAttributes({"http.url":p,"server.address":m})}o&&h&&Jw(h)})),r&&k7(f=>{const h=TV(f,l,u,d);o&&h&&Jw(h)})}function EV(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Jw(e){const{url:t}=Ve(e).data||{};if(!t||typeof t!="string")return;const n=Ra("resource",({entries:r})=>{r.forEach(s=>{EV(s)&&s.name.endsWith(t)&&(kV(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function Br(e=0){return((Qt||performance.timeOrigin)+e)/1e3}function kV(e){const{name:t,version:n}=w7(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Qt?[...r,["http.request.redirect_start",Br(e.redirectStart)],["http.request.fetch_start",Br(e.fetchStart)],["http.request.domain_lookup_start",Br(e.domainLookupStart)],["http.request.domain_lookup_end",Br(e.domainLookupEnd)],["http.request.connect_start",Br(e.connectStart)],["http.request.secure_connection_start",Br(e.secureConnectionStart)],["http.request.connection_end",Br(e.connectEnd)],["http.request.request_start",Br(e.requestStart)],["http.request.response_start",Br(e.responseStart)],["http.request.response_end",Br(e.responseEnd)]]:r}function CV(e,t){const n=ge.location&&ge.location.href;if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?ai(r.toString(),t)||i&&ai(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?ai(e,t):r}}function TV(e,t,n,r){const s=e.xhr,i=s&&s[Hi];if(!s||s.__sentry_own_request__||!i)return;const o=pi()&&t(i.url);if(e.endTimestamp&&o){const f=s.__sentry_xhr_span_id__;if(!f)return;const h=r[f];h&&i.status_code!==void 0&&(xC(h,i.status_code),h.end(),delete r[f]);return}const a=xT(i.url),l=a?Zi(a).host:void 0,u=!!$t(),d=o&&u?uu({name:`${i.method} ${i.url}`,attributes:{type:"xhr","http.method":i.method,"http.url":a,url:i.url,"server.address":l,[Wt]:"auto.http.browser",[ho]:"http.client"}}):new qa;return s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d,n(i.url)&&NV(s,pi()&&u?d:void 0),d}function NV(e,t){const{"sentry-trace":n,baggage:r}=JC({span:t});n&&IV(e,n,r)}function IV(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function xT(e){try{return new URL(e,ge.location.origin).href}catch{return}}function jV(){ge&&ge.document?ge.document.addEventListener("visibilitychange",()=>{const e=$t();if(!e)return;const t=Lt(e);if(ge.document.hidden&&t){const n="cancelled",{op:r,status:s}=Ve(t);Ze&&K.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:Bt,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Ze&&K.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const RV="BrowserTracing",MV={...jd,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Pd},DV=(e={})=>{uA();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:i},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:f,traceXHR:h,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:m,enableHTTPTimings:y,instrumentPageLoad:b,instrumentNavigation:v}={...MV,...e},g=wF({recordClsStandaloneSpans:i||!1});t&&GF(),r&&We.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?EF():n&&_F(),s&&kF();const S={name:void 0,source:void 0};function E(C,k){const x=k.op==="pageload",_=o?o(k):k,T=_.attributes||{};k.name!==_.name&&(T[Gr]="custom",_.attributes=T),S.name=_.name,S.source=T[Gr];const I=$C(_,{idleTimeout:a,finalTimeout:l,childSpanTimeout:u,disableAutoFinish:x,beforeSpanEnd:R=>{g(),jF(R,{recordClsOnPageloadSpan:!i})}});function M(){["interactive","complete"].includes(ge.document.readyState)&&C.emit("idleSpanEnableAutoFinish",I)}return x&&ge.document&&(ge.document.addEventListener("readystatechange",()=>{M()}),M()),I}return{name:RV,afterAllSetup(C){let k,x=ge.location&&ge.location.href;function _(){k&&!Ve(k).timestamp&&(Ze&&K.log(`[Tracing] Finishing current active span with op: ${Ve(k).op}`),k.end())}C.on("startNavigationSpan",T=>{He()===C&&(_(),k=E(C,{op:"navigation",...T}))}),C.on("startPageLoadSpan",(T,I={})=>{if(He()!==C)return;_();const M=I.sentryTrace||e_("sentry-trace"),R=I.baggage||e_("baggage"),$=rA(M,R);nt().setPropagationContext($),k=E(C,{op:"pageload",...T})}),C.on("spanEnd",T=>{const I=Ve(T).op;if(T!==Lt(T)||I!=="navigation"&&I!=="pageload")return;const M=nt(),R=M.getPropagationContext();M.setPropagationContext({...R,sampled:R.sampled!==void 0?R.sampled:So(T),dsc:R.dsc||wo(T)})}),ge.location&&(b&&OV(C,{name:ge.location.pathname,startTime:Qt?Qt/1e3:void 0,attributes:{[Gr]:"url",[Wt]:"auto.pageload.browser"}}),v&&op(({to:T,from:I})=>{if(I===void 0&&x&&x.indexOf(T)!==-1){x=void 0;return}I!==T&&(x=void 0,PV(C,{name:ge.location.pathname,attributes:{[Gr]:"url",[Wt]:"auto.navigation.browser"}}))})),d&&jV(),s&&AV(a,l,u,S),t&&KF(),_V(C,{traceFetch:f,traceXHR:h,trackFetchStreamPerformance:p,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:m,enableHTTPTimings:y})}}};function OV(e,t,n){e.emit("startPageLoadSpan",t,n),nt().setTransactionName(t.name);const r=$t();return(r&&Ve(r).op)==="pageload"?r:void 0}function PV(e,t){Ar().setPropagationContext({traceId:fi()}),nt().setPropagationContext({traceId:fi()}),e.emit("startNavigationSpan",t),nt().setTransactionName(t.name);const n=$t();return(n&&Ve(n).op)==="navigation"?n:void 0}function e_(e){const t=IP(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function AV(e,t,n,r){let s;const i=()=>{const o="ui.action.click",a=$t(),l=a&&Lt(a);if(l){const u=Ve(l).op;if(["navigation","pageload"].includes(u)){Ze&&K.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(g0,"interactionInterrupted"),s.end(),s=void 0),!r.name){Ze&&K.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}s=$C({name:r.name,op:o,attributes:{[Gr]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};ge.document&&addEventListener("click",i,{once:!1,capture:!0})}const t_=1e6,Ad=String(0),LV="main";let bT="",ST="",wT="",z0=ge.navigator&&ge.navigator.userAgent||"",_T="";const FV=ge.navigator&&ge.navigator.language||ge.navigator&&ge.navigator.languages&&ge.navigator.languages[0]||"";function $V(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const n_=ge.navigator&&ge.navigator.userAgentData;$V(n_)&&n_.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(bT=e.platform||"",wT=e.architecture||"",_T=e.model||"",ST=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];z0=`${t.brand} ${t.version}`}}).catch(e=>{});function UV(e){return!("thread_metadata"in e)}function BV(e){return UV(e)?zV(e):e}function HV(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&Ze&&K.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function VV(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=HV(r),i=BV(n),o=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:zt()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:zt()*1e3;return{event_id:e,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||rp,runtime:{name:"javascript",version:ge.navigator.userAgent},os:{name:bT,version:ST,build_number:z0},device:{locale:FV,model:_T,manufacturer:z0,architecture:wT,is_emulator:!1},debug_meta:{images:GV(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||mn(),trace_id:s,active_thread_id:Ad,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}function ET(e){return Ve(e).op==="pageload"}function zV(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Ad]:{name:LV}}},s=e.samples[0];if(!s)return r;const i=s.timestamp,o=typeof performance.timeOrigin=="number"?performance.timeOrigin:Qt||0,a=o-(Qt||o);return e.samples.forEach((l,u)=>{if(l.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[u]={elapsed_since_start_ns:((l.timestamp+a-i)*t_).toFixed(0),stack_id:t,thread_id:Ad};return}let d=e.stacks[l.stackId];const f=[];for(;d;){f.push(d.frameId);const p=e.frames[d.frameId];p&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}const h={elapsed_since_start_ns:((l.timestamp+a-i)*t_).toFixed(0),stack_id:n,thread_id:Ad};r.stacks[n]=f,r.samples[u]=h,n++}),r}function WV(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function qV(e){const t=[];return b0(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[s])}}),t}function GV(e){const t=He(),n=t&&t.getOptions(),r=n&&n.stackParser;return r?GA(r,e):[]}function YV(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(Ze&&K.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(Ze&&K.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function KV(e){return e.samples.length<2?(Ze&&K.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(Ze&&K.log("[Profiling] Discarding profile because it contains no frames"),!1)}let kT=!1;const CT=3e4;function XV(e){return typeof e=="function"}function ZV(){const e=ge.Profiler;if(!XV(e)){Ze&&K.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(CT/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{Ze&&(K.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),K.log("[Profiling] Disabling profiling for current user session.")),kT=!0}}function r_(e){if(kT)return Ze&&K.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return Ze&&K.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=He(),n=t&&t.getOptions();if(!n)return Ze&&K.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return YV(r)?r?(r===!0?!0:Math.random()<r)?!0:(Ze&&K.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(Ze&&K.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(Ze&&K.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function QV(e,t,n,r){return KV(n)?VV(e,t,n,r):null}const zi=new Map;function JV(){return zi.size}function ez(e){const t=zi.get(e);return t&&zi.delete(e),t}function tz(e,t){if(zi.set(e,t),zi.size>30){const n=zi.keys().next().value;zi.delete(n)}}function s_(e){let t;ET(e)&&(t=zt()*1e3);const n=ZV();if(!n)return;Ze&&K.log(`[Profiling] started profiling span: ${Ve(e).description}`);const r=mn();nt().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(l=>{if(i&&(ge.clearTimeout(i),i=void 0),Ze&&K.log(`[Profiling] stopped profiling of span: ${Ve(e).description}`),!l){Ze&&K.log(`[Profiling] profiler returned null profile for: ${Ve(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}tz(r,l)}).catch(l=>{Ze&&K.log("[Profiling] error while stopping profiler:",l)})}let i=ge.setTimeout(()=>{Ze&&K.log("[Profiling] max profile duration elapsed, stopping profiling for:",Ve(e).description),s()},CT);const o=e.end.bind(e);function a(){return e?(s().then(()=>{o()},()=>{o()}),e):o()}e.end=a}const nz="BrowserProfiling",rz=()=>({name:nz,setup(e){const t=$t(),n=t&&Lt(t);n&&ET(n)&&r_(n)&&s_(n),e.on("spanStart",r=>{r===Lt(r)&&r_(r)&&s_(r)}),e.on("beforeEnvelope",r=>{if(!JV())return;const s=qV(r);if(!s.length)return;const i=[];for(const o of s){const a=o&&o.contexts,l=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof l!="string"){Ze&&K.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!l){Ze&&K.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;const d=ez(l);if(!d){Ze&&K.log(`[Profiling] Could not retrieve profile for span: ${l}`);continue}const f=QV(l,u,d,o);f&&i.push(f)}WV(r,i)})}}),sz=rz;function iz(e){const t={...e};return QC(t,"react"),zC("react",{version:w.version}),q$(t)}const i_="sentryEnabled",Ml={get enabled(){const e=localStorage.getItem(i_);return e===null?null:e==="true"},set enabled(e){localStorage.setItem(i_,e?"true":"false")},setup(){this.enabled===!0&&iz({dsn:void 0,integrations:[DV(),SV(),sz()],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1})}};function oz(){const[e,t]=w.useState(Ml.enabled===null),n=()=>{Ml.enabled=!1,t(!1)},r=()=>{Ml.enabled=!0,Ml.setup(),t(!1)};return e?c.jsxs(Wv,{hideCloseButton:!0,className:"text-sm",children:[c.jsxs("span",{className:"mr-8",children:["ClipMash uses"," ",c.jsx("a",{className:"link",href:"https://sentry.io",children:"Sentry"})," ","to collect anonymous error reports. This helps me find bugs and fix them proactively. If you want to opt out, you can do it here."]}),c.jsxs("div",{className:"join",children:[c.jsx("button",{onClick:r,className:"btn btn-sm btn-primary join-item",children:"Enable"}),c.jsx("button",{onClick:n,className:"btn btn-sm btn-secondary join-item",children:"Disable"})]})]}):null}function az(){const[e,t]=iu("updateAlertDismissed",!1),n=()=>{t(!0)},r=Ch("root");if(!r.needsUpdate||e)return null;const s=`https://github.com/soundchaser128/clip-mash/releases/tag/v${r.newestVersion}`;return c.jsxs(Wv,{onClose:n,type:"success",children:[c.jsx("strong",{children:"New version available!"}),c.jsx("br",{}),"Download it here:"," ",c.jsxs(ar,{href:s,children:["ClipMash v",r.newestVersion]})]})}const o_={root:"min-h-screen flex flex-col justify-between transition",main:"flex flex-col container ml-auto mr-auto px-1"},th=({children:e,isLoading:t})=>{const n=Ch("root"),r=fP();return c.jsxs("div",{className:Ue(o_.root,t&&"opacity-25"),children:[c.jsx(oz,{}),c.jsx(az,{}),(r==null?void 0:r.data)&&c.jsx(Wv,{onClose:()=>r.setToastData(void 0),type:r.data.type,children:r.data.message}),c.jsx("main",{className:o_.main,children:e}),c.jsx(mP,{version:n.currentVersion}),c.jsx(gP,{})]})},lz=({children:e,currentStage:t,stage:n,link:r})=>{const s=t>=n,i=s?c.jsx(jt,{className:"link-primary underline",to:r,children:e}):e;return c.jsx("li",{className:Ue("step w-40",s&&"step-primary"),children:i})},cz=({steps:e,currentStage:t})=>c.jsx("ul",{className:"steps steps-vertical lg:steps-horizontal self-center mb-4",children:e.map((n,r)=>c.jsx(lz,{link:n.link,currentStage:t,stage:n.stage,children:n.content},r))});function uz(e,t){const n=JSON.stringify(t),r=new Blob([n],{type:"application/json"});TT(e,r)}function TT(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}const dz=({state:e})=>c.jsx(cz,{currentStage:e.stage,steps:[{stage:Kt.ListVideos,link:"/library",content:"Video library"},{stage:Kt.SelectVideos,link:"/library/select",content:"Select videos"},{stage:Kt.SelectMarkers,link:"/markers",content:"Select markers"},{stage:Kt.Music,link:"/music",content:"Music options"},{stage:Kt.VideoOptions,link:"/video-options",content:"Video options"},{stage:Kt.PreviewClips,link:"/clips",content:"Preview clips"},{stage:Kt.CreateVideo,link:"/generate",content:"Create video"}]}),fz=()=>{const{actions:e,state:t}=Ft({resetForm:E2}),n=Ch("root"),r=async()=>{if(confirm("Are you sure you want to reset the form and return to the start?")){const l=t.data.videoId;await P2(l),e.resetForm(),i("/")}},s=async()=>{const l=`${t.data.fileName||"Compilation"} - ${t.data.videoId}.json`,u={...t.data,clipMashVersion:n.currentVersion};uz(l,u)},i=Rt(),a=cv().state==="loading";return c.jsx(th,{isLoading:a,children:c.jsxs("section",{className:"py-4 flex flex-col",children:[c.jsx("h1",{className:"text-5xl text-primary font-bold mb-4 text-center",children:"ClipMash"}),c.jsxs("div",{className:"self-center flex gap-2 mb-4",children:[c.jsxs("button",{onClick:r,className:"btn btn-sm btn-error",children:[c.jsx(dr,{className:"w-5 h-5 mr-2"}),"Reset"]}),c.jsxs("button",{onClick:s,className:"btn btn-sm btn-success",children:[c.jsx(zR,{className:"mr-2 w-6 h-6"}),"Save project"]}),c.jsxs(jt,{to:"/settings",className:"btn btn-sm",children:[c.jsx(I2,{})," Settings"]})]}),c.jsx(dz,{state:t.data}),c.jsx(d2,{})]})})},hz=({children:e})=>{const[t,n]=w.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>n(!0),className:"btn btn-info",children:[c.jsx(Jc,{className:"mr-2"}),"Information"]}),c.jsxs(su,{position:"off-center",size:"fluid",isOpen:t,onClose:()=>n(!1),children:[c.jsx("div",{className:"self-start",children:e}),c.jsx("button",{onClick:()=>n(!1),className:"btn self-end mt-6",children:"Close"})]})]})};function pz(e){return(e.beats.length/e.duration*60).toFixed(0)}const mz=({songs:e,selection:t,onToggleSong:n})=>c.jsx("div",{className:"overflow-x-auto flex flex-col w-2/3",children:c.jsxs("table",{className:"table table-compact w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Duration"}),c.jsx("th",{children:"URL"}),c.jsx("th",{children:"Beats per minute"}),c.jsx("th",{children:"Include"})]})}),c.jsxs("tbody",{children:[e.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"text-center p-4",colSpan:5,children:"No music yet."})}),e.map(r=>c.jsxs("tr",{children:[c.jsx("td",{children:r.fileName}),c.jsx("td",{children:at(r.duration,"short")}),c.jsx("td",{children:c.jsx(ar,{href:r.url,children:r.url})}),c.jsx("td",{children:pz(r)}),c.jsx("td",{children:c.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:t.includes(r.songId),onChange:s=>n(r.songId,s.target.checked)})})]},r.songId))]})]})}),gz=({defaultValues:e,onChange:t})=>{const{register:n,handleSubmit:r,watch:s}=es({defaultValues:e}),i=s("musicVolume"),o=a=>{t(a)};return c.jsxs("form",{onChange:r(o),className:"p-4",children:[c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Music settings"}),c.jsxs("div",{className:"form-control self-start",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Music volume"})}),c.jsx("input",{type:"range",min:"0",max:"100",className:"range range-sm w-72",step:"5",...n("musicVolume",{valueAsNumber:!0})}),c.jsxs("div",{className:"w-full flex justify-between text-xs px-2",children:[c.jsx("span",{children:"0%"}),c.jsxs("span",{className:"font-bold",children:[i,"%"]}),c.jsx("span",{children:"100%"})]})]})]})};function yz(){var y;const e=zn(),{actions:t,state:n}=Ft({updateForm:hr}),[r,s]=Ea(((y=n.data.songs)==null?void 0:y.map(b=>b.songId))||[]),[i,o]=w.useState({musicVolume:n.data.musicVolume?n.data.musicVolume*100:75}),a=Rt(),l=Dh(n.data.selectedMarkers),u=r.map(b=>e.find(v=>v.songId===b)).reduce((b,v)=>b+((v==null?void 0:v.duration)||0),0),d=u>l,f=r.length>0,h=(b,v)=>{const g=wa(r,S=>{if(v)S.push(b);else{const E=S.indexOf(b);E!==-1&&S.splice(E,1)}});s(g),t.updateForm({songs:g.map(S=>e.find(E=>E.songId===S))})},p=b=>{o(b)},m=()=>{const b=Kt.VideoOptions,g=r.length>0?{stage:b,songs:r.map(S=>e.find(E=>E.songId===S)),musicVolume:i.musicVolume/100,clipOptions:void 0}:{stage:b,clipOptions:void 0};t.updateForm(g),a("/video-options")};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"justify-between flex w-full mb-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(jt,{to:"/music/download",className:"btn btn-primary",children:[c.jsx(AR,{className:"mr-2"}),"Download music"]}),c.jsxs(jt,{to:"/music/upload",className:"btn btn-primary",children:[c.jsx(SR,{className:"mr-2"}),"Upload music"]}),c.jsxs(jt,{to:"/music/reorder",className:Ue("btn btn-secondary w-52",r.length<2&&"btn-disabled"),children:[c.jsx(T2,{className:"mr-2"}),"Set track order"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(hz,{children:[c.jsx("h1",{className:"mb-4 font-bold text-2xl",children:"Music options"}),c.jsx("p",{className:"mb-2",children:"You can select background music for your video compilation. (this is optional). The original sound of the video and the new music will be mixed together based on the music volume you selected, 100% music volume meaning that only the music will be heard."}),c.jsx("p",{children:"The length of the video will be determined by the selected music if you select any. You can also choose how the clips will be generated: Either by selecting a base duration for the clips (the generated clips will then have some fraction of the length of that base duration) or by using the detected BPM to direct the cuts (cuts will only happen on the beat)"})]}),c.jsxs("button",{type:"button",onClick:m,className:"btn btn-success place-self-end",disabled:d,children:["Next",c.jsx(Rs,{className:"ml-1"})]})]})]}),d&&c.jsxs("div",{className:"alert alert-warning",children:[c.jsx(CR,{className:"w-6 h-6 shrink"}),c.jsx("span",{className:"grow",children:"The music tracks you selected are longer than the videos. To fix it, deselect some music or select some shorter tracks."})]}),c.jsxs("div",{className:"flex gap-2 w-full",children:[c.jsx(mz,{onToggleSong:h,selection:r,songs:e}),f&&c.jsxs("div",{children:[c.jsx(gz,{defaultValues:i,onChange:p}),c.jsxs("div",{children:[c.jsxs("p",{children:["Selected marker duration:"," ",c.jsx("strong",{children:at(l,"short")})]}),c.jsxs("p",{className:Ue(d&&"text-red-400"),children:["Selected music duration:"," ",c.jsx("strong",{children:at(u,"short")})]})]})]}),!f&&c.jsx("p",{className:"p-4 text-center",children:"Select some songs to show options"})]})]})}const NT=w.createContext({dragDropManager:void 0});function Kn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),l_=function(){return Math.random().toString(36).substring(7).split("").join(".")},c_={INIT:"@@redux/INIT"+l_(),REPLACE:"@@redux/REPLACE"+l_()};function vz(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function IT(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kn(1));return n(IT)(e,t)}if(typeof e!="function")throw new Error(Kn(2));var s=e,i=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(Kn(3));return i}function f(y){if(typeof y!="function")throw new Error(Kn(4));if(l)throw new Error(Kn(5));var b=!0;return u(),a.push(y),function(){if(b){if(l)throw new Error(Kn(6));b=!1,u();var g=a.indexOf(y);a.splice(g,1),o=null}}}function h(y){if(!vz(y))throw new Error(Kn(7));if(typeof y.type>"u")throw new Error(Kn(8));if(l)throw new Error(Kn(9));try{l=!0,i=s(i,y)}finally{l=!1}for(var b=o=a,v=0;v<b.length;v++){var g=b[v];g()}return y}function p(y){if(typeof y!="function")throw new Error(Kn(10));s=y,h({type:c_.REPLACE})}function m(){var y,b=f;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Kn(11));function S(){g.next&&g.next(d())}S();var E=b(S);return{unsubscribe:E}}},y[a_]=function(){return this},y}return h({type:c_.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:p},r[a_]=m,r}function Oe(e,t,...n){if(xz()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function xz(){return typeof process<"u"&&!0}function bz(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function Sz(e,t){return e.filter(n=>n!==t)}function jT(e){return typeof e=="object"}function wz(e,t){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((i,o)=>{i===1&&s.push(o)}),s}function _z(e,t){return e.filter(n=>t.indexOf(n)>-1)}const E1="dnd-core/INIT_COORDS",pp="dnd-core/BEGIN_DRAG",k1="dnd-core/PUBLISH_DRAG_SOURCE",mp="dnd-core/HOVER",gp="dnd-core/DROP",yp="dnd-core/END_DRAG";function u_(e,t){return{type:E1,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Ez={type:E1,payload:{clientOffset:null,sourceClientOffset:null}};function kz(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:o}=r,a=e.getMonitor(),l=e.getRegistry();e.dispatch(u_(i)),Cz(n,a,l);const u=Iz(n,a);if(u==null){e.dispatch(Ez);return}let d=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");Tz(o),d=o(u)}e.dispatch(u_(i,d));const h=l.getSource(u).beginDrag(a,u);if(h==null)return;Nz(h),l.pinSource(u);const p=l.getSourceType(u);return{type:pp,payload:{itemType:p,item:h,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function Cz(e,t,n){Oe(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){Oe(n.getSource(r),"Expected sourceIds to be registered.")})}function Tz(e){Oe(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Nz(e){Oe(jT(e),"Item must be an object.")}function Iz(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function jz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){jz(e,s,n[s])})}return e}function Mz(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();Dz(r),Az(r).forEach((o,a)=>{const l=Oz(o,a,s,r),u={type:gp,payload:{dropResult:Rz({},n,l)}};e.dispatch(u)})}}function Dz(e){Oe(e.isDragging(),"Cannot call drop while not dragging."),Oe(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Oz(e,t,n,r){const s=n.getTarget(e);let i=s?s.drop(r,e):void 0;return Pz(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function Pz(e){Oe(typeof e>"u"||jT(e),"Drop result must either be an object or undefined.")}function Az(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Lz(e){return function(){const n=e.getMonitor(),r=e.getRegistry();Fz(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:yp}}}function Fz(e){Oe(e.isDragging(),"Cannot call endDrag while not dragging.")}function W0(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function $z(e){return function(n,{clientOffset:r}={}){Uz(n);const s=n.slice(0),i=e.getMonitor(),o=e.getRegistry(),a=i.getItemType();return Hz(s,o,a),Bz(s,i,o),Vz(s,i,o),{type:mp,payload:{targetIds:s,clientOffset:r||null}}}}function Uz(e){Oe(Array.isArray(e),"Expected targetIds to be an array.")}function Bz(e,t,n){Oe(t.isDragging(),"Cannot call hover while not dragging."),Oe(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];Oe(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(s);Oe(i,"Expected targetIds to be registered.")}}function Hz(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],i=t.getTargetType(s);W0(i,n)||e.splice(r,1)}}function Vz(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function zz(e){return function(){if(e.getMonitor().isDragging())return{type:k1}}}function Wz(e){return{beginDrag:kz(e),publishDragSource:zz(e),hover:$z(e),drop:Mz(e),endDrag:Lz(e)}}class qz{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(i){return(...o)=>{const a=i.apply(t,o);typeof a<"u"&&n(a)}}const s=Wz(this);return Object.keys(s).reduce((i,o)=>{const a=s[o];return i[o]=r(a),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function Gz(e,t){return{x:e.x+t.x,y:e.y+t.y}}function RT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yz(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:RT(Gz(t,r),n)}function Kz(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:RT(t,n)}const rc=[],C1=[];rc.__IS_NONE__=!0;C1.__IS_ALL__=!0;function Xz(e,t){return e===rc?!1:e===C1||typeof t>"u"?!0:_z(t,e).length>0}class Zz{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;Oe(typeof t=="function","listener must be a function."),Oe(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!Xz(o.dirtyHandlerIds,r)||t()}finally{s=a}};return this.store.subscribe(i)}subscribeToOffsetChange(t){Oe(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return Oe(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(Oe(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return W0(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(Oe(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();if(i&&!W0(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(t);return r?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Yz(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Kz(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const d_=typeof global<"u"?global:self,MT=d_.MutationObserver||d_.WebKitMutationObserver;function DT(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function Qz(e){let t=1;const n=new MT(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Jz=typeof MT=="function"?Qz:DT;class eW{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Jz(this.flush),this.requestErrorThrow=DT(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class tW{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class nW{create(t){const n=this.freeTasks,r=n.length?n.pop():new tW(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const OT=new eW,rW=new nW(OT.registerPendingError);function sW(e){OT.enqueueTask(rW.create(e))}const T1="dnd-core/ADD_SOURCE",N1="dnd-core/ADD_TARGET",I1="dnd-core/REMOVE_SOURCE",vp="dnd-core/REMOVE_TARGET";function iW(e){return{type:T1,payload:{sourceId:e}}}function oW(e){return{type:N1,payload:{targetId:e}}}function aW(e){return{type:I1,payload:{sourceId:e}}}function lW(e){return{type:vp,payload:{targetId:e}}}function cW(e){Oe(typeof e.canDrag=="function","Expected canDrag to be a function."),Oe(typeof e.beginDrag=="function","Expected beginDrag to be a function."),Oe(typeof e.endDrag=="function","Expected endDrag to be a function.")}function uW(e){Oe(typeof e.canDrop=="function","Expected canDrop to be a function."),Oe(typeof e.hover=="function","Expected hover to be a function."),Oe(typeof e.drop=="function","Expected beginDrag to be a function.")}function q0(e,t){if(t&&Array.isArray(e)){e.forEach(n=>q0(n,!1));return}Oe(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var tr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(tr||(tr={}));let dW=0;function fW(){return dW++}function hW(e){const t=fW().toString();switch(e){case tr.SOURCE:return`S${t}`;case tr.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function f_(e){switch(e[0]){case"S":return tr.SOURCE;case"T":return tr.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function h_(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,i]}=n.next();if(i===t)return!0;r=!!s}while(!r);return!1}class pW{addSource(t,n){q0(t),cW(n);const r=this.addHandler(tr.SOURCE,t,n);return this.store.dispatch(iW(r)),r}addTarget(t,n){q0(t,!0),uW(n);const r=this.addHandler(tr.TARGET,t,n);return this.store.dispatch(oW(r)),r}containsHandler(t){return h_(this.dragSources,t)||h_(this.dropTargets,t)}getSource(t,n=!1){return Oe(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Oe(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Oe(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Oe(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return f_(t)===tr.SOURCE}isTargetId(t){return f_(t)===tr.TARGET}removeSource(t){Oe(this.getSource(t),"Expected an existing source."),this.store.dispatch(aW(t)),sW(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Oe(this.getTarget(t),"Expected an existing target."),this.store.dispatch(lW(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);Oe(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){Oe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=hW(t);return this.types.set(s,n),t===tr.SOURCE?this.dragSources.set(s,r):t===tr.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const mW=(e,t)=>e===t;function gW(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function yW(e,t,n=mW){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function vW(e=rc,t){switch(t.type){case mp:break;case T1:case N1:case vp:case I1:return rc;case pp:case k1:case yp:case gp:default:return C1}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=wz(n,r);if(!(s.length>0||!yW(n,r)))return rc;const o=r[r.length-1],a=n[n.length-1];return o!==a&&(o&&s.push(o),a&&s.push(a)),s}function xW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){xW(e,s,n[s])})}return e}const p_={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function SW(e=p_,t){const{payload:n}=t;switch(t.type){case E1:case pp:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case mp:return gW(e.clientOffset,n.clientOffset)?e:bW({},e,{clientOffset:n.clientOffset});case yp:case gp:return p_;default:return e}}function wW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Do(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){wW(e,s,n[s])})}return e}const _W={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function EW(e=_W,t){const{payload:n}=t;switch(t.type){case pp:return Do({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case k1:return Do({},e,{isSourcePublic:!0});case mp:return Do({},e,{targetIds:n.targetIds});case vp:return e.targetIds.indexOf(n.targetId)===-1?e:Do({},e,{targetIds:Sz(e.targetIds,n.targetId)});case gp:return Do({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case yp:return Do({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function kW(e=0,t){switch(t.type){case T1:case N1:return e+1;case I1:case vp:return e-1;default:return e}}function CW(e=0){return e+1}function TW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){TW(e,s,n[s])})}return e}function IW(e={},t){return{dirtyHandlerIds:vW(e.dirtyHandlerIds,{type:t.type,payload:NW({},t.payload,{prevTargetIds:bz(e,"dragOperation.targetIds",[])})}),dragOffset:SW(e.dragOffset,t),refCount:kW(e.refCount,t),dragOperation:EW(e.dragOperation,t),stateId:CW(e.stateId)}}function jW(e,t=void 0,n={},r=!1){const s=RW(r),i=new Zz(s,new pW(s)),o=new qz(s,i),a=e(o,t,n);return o.receiveBackend(a),o}function RW(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return IT(IW,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function MW(e,t){if(e==null)return{};var n=DW(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DW(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let m_=0;const Ld=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var OW=w.memo(function(t){var{children:n}=t,r=MW(t,["children"]);const[s,i]=PW(r);return w.useEffect(()=>{if(i){const o=PT();return++m_,()=>{--m_===0&&(o[Ld]=null)}}},[]),c.jsx(NT.Provider,{value:s,children:n})});function PW(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=AW(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function AW(e,t=PT(),n,r){const s=t;return s[Ld]||(s[Ld]={dragDropManager:jW(e,t,n,r)}),s[Ld]}function PT(){return typeof global<"u"?global:window}var LW=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const FW=zc(LW),po=typeof window<"u"?w.useLayoutEffect:w.useEffect;function $W(e,t,n){const[r,s]=w.useState(()=>t(e)),i=w.useCallback(()=>{const o=t(e);FW(r,o)||(s(o),n&&n())},[r,e,n]);return po(i),[r,i]}function UW(e,t,n){const[r,s]=$W(e,t,n);return po(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(s,{handlerIds:[o]})},[e,s]),r}function AT(e,t,n){return UW(t,e||(()=>({})),()=>n.reconnect())}function LT(e,t){const n=[];return typeof e!="function"&&n.push(e),w.useMemo(()=>typeof e=="function"?e():e,n)}function BW(e){return w.useMemo(()=>e.hooks.dragSource(),[e])}function HW(e){return w.useMemo(()=>e.hooks.dragPreview(),[e])}let Mm=!1,Dm=!1;class VW{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Oe(!Mm,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Mm=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Mm=!1}}isDragging(){if(!this.sourceId)return!1;Oe(!Dm,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Dm=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Dm=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Om=!1;class zW{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;Oe(!Om,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Om=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Om=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function WW(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function qW(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function G0(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<i.length;l++){const u=i[l];if(!a(u))return!1;const d=e[u],f=t[u];if(s=void 0,s===!1||s===void 0&&d!==f)return!1}return!0}function Y0(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GW(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function YW(e){return(t=null,n=null)=>{if(!w.isValidElement(t)){const i=t;return e(i,n),i}const r=t;return GW(r),KW(r,n?i=>e(i,n):e)}}function FT(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=YW(r);t[n]=()=>s}}),t}function g_(e,t){typeof e=="function"?e(t):e.current=t}function KW(e,t){const n=e.ref;return Oe(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?w.cloneElement(e,{ref:r=>{g_(n,r),g_(t,r)}}):w.cloneElement(e,{ref:t})}class XW{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!G0(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!G0(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=FT({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Y0(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Y0(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class ZW{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!G0(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=FT({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Y0(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Za(){const{dragDropManager:e}=w.useContext(NT);return Oe(e!=null,"Expected drag drop context"),e}function QW(e,t){const n=Za(),r=w.useMemo(()=>new XW(n.getBackend()),[n]);return po(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),po(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function JW(){const e=Za();return w.useMemo(()=>new VW(e),[e])}class eq{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:i}=r;return i?i(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function tq(e,t,n){const r=w.useMemo(()=>new eq(e,t,n),[t,n]);return w.useEffect(()=>{r.spec=e},[e]),r}function nq(e){return w.useMemo(()=>{const t=e.type;return Oe(t!=null,"spec.type must be defined"),t},[e])}function rq(e,t,n){const r=Za(),s=tq(e,t,n),i=nq(e);po(function(){if(i!=null){const[a,l]=qW(i,s,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),l}},[r,t,n,s,i])}function sq(e,t){const n=LT(e);Oe(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=JW(),s=QW(n.options,n.previewOptions);return rq(n,r,s),[AT(n.collect,r,s),BW(s),HW(s)]}function iq(e){return w.useMemo(()=>e.hooks.dropTarget(),[e])}function oq(e){const t=Za(),n=w.useMemo(()=>new ZW(t.getBackend()),[t]);return po(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function aq(){const e=Za();return w.useMemo(()=>new zW(e),[e])}function lq(e){const{accept:t}=e;return w.useMemo(()=>(Oe(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class cq{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function uq(e,t){const n=w.useMemo(()=>new cq(e,t),[t]);return w.useEffect(()=>{n.spec=e},[e]),n}function dq(e,t,n){const r=Za(),s=uq(e,t),i=lq(e);po(function(){const[a,l]=WW(i,s,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),l},[r,t,s,n,i.map(o=>o.toString()).join("|")])}function fq(e,t){const n=LT(e),r=aq(),s=oq(n.options);return dq(n,r,s),[AT(n.collect,r,s),iq(s)]}function $T(e){let t=null;return()=>(t==null&&(t=e()),t)}function hq(e,t){return e.filter(n=>n!==t)}function pq(e,t){const n=new Set,r=i=>n.add(i);e.forEach(r),t.forEach(r);const s=[];return n.forEach(i=>s.push(i)),s}class mq{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=pq(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=hq(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class gq{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const UT="__NATIVE_FILE__",BT="__NATIVE_URL__",HT="__NATIVE_TEXT__",VT="__NATIVE_HTML__",y_=Object.freeze(Object.defineProperty({__proto__:null,FILE:UT,HTML:VT,TEXT:HT,URL:BT},Symbol.toStringTag,{value:"Module"}));function Pm(e,t,n){const r=t.reduce((s,i)=>s||e.getData(i),"");return r??n}const K0={[UT]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[VT]:{exposeProperties:{html:(e,t)=>Pm(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[BT]:{exposeProperties:{urls:(e,t)=>Pm(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[HT]:{exposeProperties:{text:(e,t)=>Pm(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function yq(e,t){const n=K0[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new gq(n);return r.loadDataTransfer(t),r}function Am(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(K0).filter(n=>{const r=K0[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const vq=$T(()=>/firefox/i.test(navigator.userAgent)),zT=$T(()=>!!window.safari);class v_{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:i,c3s:o}=this;let a=n.length-1;if(t===n[a])return r[a];let l=0,u=o.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));const p=n[d];if(p<t)l=d+1;else if(p>t)u=d-1;else return r[d]}a=Math.max(0,u);const f=t-n[a],h=f*f;return r[a]+s[a]*f+i[a]*h+o[a]*f*h}constructor(t,n){const{length:r}=t,s=[];for(let p=0;p<r;p++)s.push(p);s.sort((p,m)=>t[p]<t[m]?-1:1);const i=[],o=[];let a,l;for(let p=0;p<r-1;p++)a=t[p+1]-t[p],l=n[p+1]-n[p],i.push(a),o.push(l/a);const u=[o[0]];for(let p=0;p<i.length-1;p++){const m=o[p],y=o[p+1];if(m*y<=0)u.push(0);else{a=i[p];const b=i[p+1],v=a+b;u.push(3*v/((v+b)/m+(v+a)/y))}}u.push(o[o.length-1]);const d=[],f=[];let h;for(let p=0;p<u.length-1;p++){h=o[p];const m=u[p],y=1/i[p],b=m+u[p+1]-h-h;d.push((h-m-b)*y),f.push(b*y*y)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=d,this.c3s=f}}const xq=1;function WT(e){const t=e.nodeType===xq?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function cd(e){return{x:e.clientX,y:e.clientY}}function bq(e){var t;return e.nodeName==="IMG"&&(vq()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Sq(e,t,n,r){let s=e?t.width:n,i=e?t.height:r;return zT()&&e&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function wq(e,t,n,r,s){const i=bq(t),a=WT(i?e:t),l={x:n.x-a.x,y:n.y-a.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:f,anchorY:h}=r,{dragPreviewWidth:p,dragPreviewHeight:m}=Sq(i,t,u,d),y=()=>{let k=new v_([0,.5,1],[l.y,l.y/d*m,l.y+m-d]).interpolate(h);return zT()&&i&&(k+=(window.devicePixelRatio-1)*m),k},b=()=>new v_([0,.5,1],[l.x,l.x/u*p,l.x+p-u]).interpolate(f),{offsetX:v,offsetY:g}=s,S=v===0||v,E=g===0||g;return{x:S?v:b(),y:E?g:y()}}class _q{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function Eq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Eq(e,s,n[s])})}return e}class kq{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=o=>this.handleDragEnter(o,t),s=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return x_({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return x_({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(y_).some(n=>y_[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=yq(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&WT(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=cd(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,l=Am(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||f;if(h){const{anchorX:p,anchorY:m,offsetX:y,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),S=wq(f,h,o,{anchorX:p,anchorY:m},{offsetX:y,offsetY:b});a.setDragImage(h,S.x,S.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=Am(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:cd(s)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=cd(s),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else Am(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:cd(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new _q(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new mq(this.isNodeInDocument)}}const Cq=function(t,n,r){return new kq(t,n,r)};function Ts(e){return Array.isArray?Array.isArray(e):YT(e)==="[object Array]"}function Tq(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Nq(e){return e==null?"":Tq(e)}function Kr(e){return typeof e=="string"}function qT(e){return typeof e=="number"}function Iq(e){return e===!0||e===!1||jq(e)&&YT(e)=="[object Boolean]"}function GT(e){return typeof e=="object"}function jq(e){return GT(e)&&e!==null}function An(e){return e!=null}function Lm(e){return!e.trim().length}function YT(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Rq="Incorrect 'index' type",Mq=e=>`Invalid value for key ${e}`,Dq=e=>`Pattern length exceeds max of ${e}.`,Oq=e=>`Missing ${e} property in key`,Pq=e=>`Property 'weight' in key '${e}' must be a positive integer`,b_=Object.prototype.hasOwnProperty;class Aq{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=KT(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function KT(e){let t=null,n=null,r=null,s=1,i=null;if(Kr(e)||Ts(e))r=e,t=S_(e),n=X0(e);else{if(!b_.call(e,"name"))throw new Error(Oq("name"));const o=e.name;if(r=o,b_.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(Pq(o));t=S_(o),n=X0(o),i=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:i}}function S_(e){return Ts(e)?e:e.split(".")}function X0(e){return Ts(e)?e.join("."):e}function Lq(e,t){let n=[],r=!1;const s=(i,o,a)=>{if(An(i))if(!o[a])n.push(i);else{let l=o[a];const u=i[l];if(!An(u))return;if(a===o.length-1&&(Kr(u)||qT(u)||Iq(u)))n.push(Nq(u));else if(Ts(u)){r=!0;for(let d=0,f=u.length;d<f;d+=1)s(u[d],o,a+1)}else o.length&&s(u,o,a+1)}};return s(e,Kr(t)?t.split("."):t,0),r?n:n[0]}const Fq={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},$q={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Uq={location:0,threshold:.6,distance:100},Bq={useExtendedSearch:!1,getFn:Lq,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var ke={...$q,...Fq,...Uq,...Bq};const Hq=/[^ ]+/g;function Vq(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(s){const i=s.match(Hq).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}class j1{constructor({getFn:t=ke.getFn,fieldNormWeight:n=ke.fieldNormWeight}={}){this.norm=Vq(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Kr(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Kr(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!An(t)||Lm(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,i)=>{let o=s.getFn?s.getFn(t):this.getFn(t,s.path);if(An(o)){if(Ts(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:d}=l.pop();if(An(d))if(Kr(d)&&!Lm(d)){let f={v:d,i:u,n:this.norm.get(d)};a.push(f)}else Ts(d)&&d.forEach((f,h)=>{l.push({nestedArrIndex:h,value:f})})}r.$[i]=a}else if(Kr(o)&&!Lm(o)){let a={v:o,n:this.norm.get(o)};r.$[i]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function XT(e,t,{getFn:n=ke.getFn,fieldNormWeight:r=ke.fieldNormWeight}={}){const s=new j1({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(KT)),s.setSources(t),s.create(),s}function zq(e,{getFn:t=ke.getFn,fieldNormWeight:n=ke.fieldNormWeight}={}){const{keys:r,records:s}=e,i=new j1({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(s),i}function ud(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=ke.distance,ignoreLocation:i=ke.ignoreLocation}={}){const o=t/e.length;if(i)return o;const a=Math.abs(r-n);return s?o+a/s:a?1:o}function Wq(e=[],t=ke.minMatchCharLength){let n=[],r=-1,s=-1,i=0;for(let o=e.length;i<o;i+=1){let a=e[i];a&&r===-1?r=i:!a&&r!==-1&&(s=i-1,s-r+1>=t&&n.push([r,s]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}const Pi=32;function qq(e,t,n,{location:r=ke.location,distance:s=ke.distance,threshold:i=ke.threshold,findAllMatches:o=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,includeMatches:l=ke.includeMatches,ignoreLocation:u=ke.ignoreLocation}={}){if(t.length>Pi)throw new Error(Dq(Pi));const d=t.length,f=e.length,h=Math.max(0,Math.min(r,f));let p=i,m=h;const y=a>1||l,b=y?Array(f):[];let v;for(;(v=e.indexOf(t,m))>-1;){let x=ud(t,{currentLocation:v,expectedLocation:h,distance:s,ignoreLocation:u});if(p=Math.min(x,p),m=v+d,y){let _=0;for(;_<d;)b[v+_]=1,_+=1}}m=-1;let g=[],S=1,E=d+f;const C=1<<d-1;for(let x=0;x<d;x+=1){let _=0,T=E;for(;_<T;)ud(t,{errors:x,currentLocation:h+T,expectedLocation:h,distance:s,ignoreLocation:u})<=p?_=T:E=T,T=Math.floor((E-_)/2+_);E=T;let I=Math.max(1,h-T+1),M=o?f:Math.min(h+T,f)+d,R=Array(M+2);R[M+1]=(1<<x)-1;for(let L=M;L>=I;L-=1){let H=L-1,W=n[e.charAt(H)];if(y&&(b[H]=+!!W),R[L]=(R[L+1]<<1|1)&W,x&&(R[L]|=(g[L+1]|g[L])<<1|1|g[L+1]),R[L]&C&&(S=ud(t,{errors:x,currentLocation:H,expectedLocation:h,distance:s,ignoreLocation:u}),S<=p)){if(p=S,m=H,m<=h)break;I=Math.max(1,2*h-m)}}if(ud(t,{errors:x+1,currentLocation:h,expectedLocation:h,distance:s,ignoreLocation:u})>p)break;g=R}const k={isMatch:m>=0,score:Math.max(.001,S)};if(y){const x=Wq(b,a);x.length?l&&(k.indices=x):k.isMatch=!1}return k}function Gq(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}const nh=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class ZT{constructor(t,{location:n=ke.location,threshold:r=ke.threshold,distance:s=ke.distance,includeMatches:i=ke.includeMatches,findAllMatches:o=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,isCaseSensitive:l=ke.isCaseSensitive,ignoreDiacritics:u=ke.ignoreDiacritics,ignoreLocation:d=ke.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d},t=l?t:t.toLowerCase(),t=u?nh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(p,m)=>{this.chunks.push({pattern:p,alphabet:Gq(p),startIndex:m})},h=this.pattern.length;if(h>Pi){let p=0;const m=h%Pi,y=h-m;for(;p<y;)f(this.pattern.substr(p,Pi),p),p+=Pi;if(m){const b=h-Pi;f(this.pattern.substr(b),b)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(t=n?t:t.toLowerCase(),t=r?nh(t):t,this.pattern===t){let y={isMatch:!0,score:0};return s&&(y.indices=[[0,t.length-1]]),y}const{location:i,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,p=!1;this.chunks.forEach(({pattern:y,alphabet:b,startIndex:v})=>{const{isMatch:g,score:S,indices:E}=qq(t,y,b,{location:i+v,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:s,ignoreLocation:d});g&&(p=!0),h+=S,g&&E&&(f=[...f,...E])});let m={isMatch:p,score:p?h/this.chunks.length:1};return p&&s&&(m.indices=f),m}}class Ti{constructor(t){this.pattern=t}static isMultiMatch(t){return w_(t,this.multiRegex)}static isSingleMatch(t){return w_(t,this.singleRegex)}search(){}}function w_(e,t){const n=e.match(t);return n?n[1]:null}class Yq extends Ti{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Kq extends Ti{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Xq extends Ti{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Zq extends Ti{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Qq extends Ti{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Jq extends Ti{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class QT extends Ti{constructor(t,{location:n=ke.location,threshold:r=ke.threshold,distance:s=ke.distance,includeMatches:i=ke.includeMatches,findAllMatches:o=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,isCaseSensitive:l=ke.isCaseSensitive,ignoreDiacritics:u=ke.ignoreDiacritics,ignoreLocation:d=ke.ignoreLocation}={}){super(t),this._bitapSearch=new ZT(t,{location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class JT extends Ti{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const s=[],i=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+i,s.push([r,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const Z0=[Yq,JT,Xq,Zq,Jq,Qq,Kq,QT],__=Z0.length,eG=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,tG="|";function nG(e,t={}){return e.split(tG).map(n=>{let r=n.trim().split(eG).filter(i=>i&&!!i.trim()),s=[];for(let i=0,o=r.length;i<o;i+=1){const a=r[i];let l=!1,u=-1;for(;!l&&++u<__;){const d=Z0[u];let f=d.isMultiMatch(a);f&&(s.push(new d(f,t)),l=!0)}if(!l)for(u=-1;++u<__;){const d=Z0[u];let f=d.isSingleMatch(a);if(f){s.push(new d(f,t));break}}}return s})}const rG=new Set([QT.type,JT.type]);class sG{constructor(t,{isCaseSensitive:n=ke.isCaseSensitive,ignoreDiacritics:r=ke.ignoreDiacritics,includeMatches:s=ke.includeMatches,minMatchCharLength:i=ke.minMatchCharLength,ignoreLocation:o=ke.ignoreLocation,findAllMatches:a=ke.findAllMatches,location:l=ke.location,threshold:u=ke.threshold,distance:d=ke.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:l,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=r?nh(t):t,this.pattern=t,this.query=nG(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:i}=this.options;t=s?t:t.toLowerCase(),t=i?nh(t):t;let o=0,a=[],l=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];a.length=0,o=0;for(let h=0,p=f.length;h<p;h+=1){const m=f[h],{isMatch:y,indices:b,score:v}=m.search(t);if(y){if(o+=1,l+=v,r){const g=m.constructor.type;rG.has(g)?a=[...a,...b]:a.push(b)}}else{l=0,o=0,a.length=0;break}}if(o){let h={isMatch:!0,score:l/o};return r&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const Q0=[];function iG(...e){Q0.push(...e)}function J0(e,t){for(let n=0,r=Q0.length;n<r;n+=1){let s=Q0[n];if(s.condition(e,t))return new s(e,t)}return new ZT(e,t)}const rh={AND:"$and",OR:"$or"},ey={PATH:"$path",PATTERN:"$val"},ty=e=>!!(e[rh.AND]||e[rh.OR]),oG=e=>!!e[ey.PATH],aG=e=>!Ts(e)&&GT(e)&&!ty(e),E_=e=>({[rh.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function eN(e,t,{auto:n=!0}={}){const r=s=>{let i=Object.keys(s);const o=oG(s);if(!o&&i.length>1&&!ty(s))return r(E_(s));if(aG(s)){const l=o?s[ey.PATH]:i[0],u=o?s[ey.PATTERN]:s[l];if(!Kr(u))throw new Error(Mq(l));const d={keyId:X0(l),pattern:u};return n&&(d.searcher=J0(u,t)),d}let a={children:[],operator:i[0]};return i.forEach(l=>{const u=s[l];Ts(u)&&u.forEach(d=>{a.children.push(r(d))})}),a};return ty(e)||(e=E_(e)),r(e)}function lG(e,{ignoreFieldNorm:t=ke.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:i,score:o})=>{const a=s?s.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(t?1:i))}),n.score=r})}function cG(e,t){const n=e.matches;t.matches=[],An(n)&&n.forEach(r=>{if(!An(r.indices)||!r.indices.length)return;const{indices:s,value:i}=r;let o={indices:s,value:i};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function uG(e,t){t.score=e.score}function dG(e,t,{includeMatches:n=ke.includeMatches,includeScore:r=ke.includeScore}={}){const s=[];return n&&s.push(cG),r&&s.push(uG),e.map(i=>{const{idx:o}=i,a={item:t[o],refIndex:o};return s.length&&s.forEach(l=>{l(i,a)}),a})}class Qa{constructor(t,n={},r){this.options={...ke,...n},this.options.useExtendedSearch,this._keyStore=new Aq(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof j1))throw new Error(Rq);this._myIndex=n||XT(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){An(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,s-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let l=Kr(t)?Kr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return lG(l,{ignoreFieldNorm:a}),i&&l.sort(o),qT(n)&&n>-1&&(l=l.slice(0,n)),dG(l,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=J0(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:i,i:o,n:a})=>{if(!An(i))return;const{isMatch:l,score:u,indices:d}=n.searchIn(i);l&&s.push({item:i,idx:o,matches:[{score:u,value:i,norm:a,indices:d}]})}),s}_searchLogical(t){const n=eN(t,this.options),r=(a,l,u)=>{if(!a.children){const{keyId:f,searcher:h}=a,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:h});return p&&p.length?[{idx:u,item:l,matches:p}]:[]}const d=[];for(let f=0,h=a.children.length;f<h;f+=1){const p=a.children[f],m=r(p,l,u);if(m.length)d.push(...m);else if(a.operator===rh.AND)return[]}return d},s=this._myIndex.records,i={},o=[];return s.forEach(({$:a,i:l})=>{if(An(a)){let u=r(n,a,l);u.length&&(i[l]||(i[l]={idx:l,item:a,matches:[]},o.push(i[l])),u.forEach(({matches:d})=>{i[l].matches.push(...d)}))}}),o}_searchObjectList(t){const n=J0(t,this.options),{keys:r,records:s}=this._myIndex,i=[];return s.forEach(({$:o,i:a})=>{if(!An(o))return;let l=[];r.forEach((u,d)=>{l.push(...this._findMatches({key:u,value:o[d],searcher:n}))}),l.length&&i.push({idx:a,item:o,matches:l})}),i}_findMatches({key:t,value:n,searcher:r}){if(!An(n))return[];let s=[];if(Ts(n))n.forEach(({v:i,i:o,n:a})=>{if(!An(i))return;const{isMatch:l,score:u,indices:d}=r.searchIn(i);l&&s.push({score:u,key:t,value:i,idx:o,norm:a,indices:d})});else{const{v:i,n:o}=n,{isMatch:a,score:l,indices:u}=r.searchIn(i);a&&s.push({score:l,key:t,value:i,norm:o,indices:u})}return s}}Qa.version="7.1.0";Qa.createIndex=XT;Qa.parseIndex=zq;Qa.config=ke;Qa.parseQuery=eN;iG(sG);function fG({items:e,keys:t,query:n,threshold:r=.1}){const s=w.useMemo(()=>new Qa(e,{keys:t,threshold:r}),[e,t,r]);return n&&n.trim()?s.search(n).map(o=>o.item):e}const hG=()=>{const e=zn(),{actions:t,state:n}=Ft({updateForm:hr}),r=js(),[s,i]=Ea(()=>{var _;const x=((_=n.data.selectedMarkers)==null?void 0:_.map(T=>[T.id,T]))||e.map(T=>[T.id,{id:T.id,indexWithinVideo:T.indexWithinVideo,videoId:T.videoId,selected:!0,selectedRange:[T.start,T.end],title:T.primaryTag,loops:1,source:T.source}]);return Object.fromEntries(x)}),[o,a]=w.useState(""),l=Rt(),u=fG({query:o,keys:["performers","primaryTag","sceneTitle"],items:e}),[d,f]=w.useState(),h=Object.values(s).every(x=>!x.selected),p=at(Dh(Object.values(s))),m=(x,_)=>{i(T=>{T[x].selected=_})},y=x=>{i(_=>{_[x].selected=!_[x].selected})},b=()=>{i(x=>{for(const _ of u)x[_.id].selected=!1})},v=()=>{i(x=>{for(const _ of u)x[_.id].selected=!0})},g=(x,_)=>{i(T=>{T[x].loops=_})},S=()=>{const x=Object.values(s),_=e.filter(T=>!!s[T.id]).some(T=>T.sceneInteractive);t.updateForm({stage:Kt.Music,selectedMarkers:x,markers:e,interactive:_}),l("/music")},E=()=>{i(x=>{for(const _ of Object.values(x)){const T=e.find(R=>R.id===_.id),I=_.selectedRange[0],M=d||T.end-T.start;_.selectedRange=[I,Math.min(I+M,T.end)]}})},C=()=>{i(x=>{const _=Object.values(x).filter(T=>T.selected).reduce((T,I)=>{const M=I.selectedRange[1]-I.selectedRange[0];return M>T?M:T},0);for(const T of Object.values(x)){if(!T.selected)continue;const[I,M]=T.selectedRange;if(M-I===0)continue;const R=Math.floor(_/(M-I));T.loops=R}})},k=async(x,_)=>{await O2(x,{title:_}),i(T=>{const I=T[x];I.title=_}),r.revalidate()};return c.jsxs("div",{children:[c.jsx(Uv,{}),c.jsxs("div",{className:"w-full flex justify-between items-center",children:[c.jsxs("div",{className:"text-center",children:["Estimated total duration of video: ",c.jsx("strong",{children:p})]}),c.jsxs("button",{type:"button",onClick:S,className:"btn btn-success place-self-end",disabled:h,children:["Next",c.jsx(Rs,{className:"ml-1"})]})]}),c.jsxs("div",{className:"w-full flex flex-col lg:flex-row justify-between gap-4 my-4",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row gap-2",children:[c.jsx("input",{type:"text",placeholder:"Filter...",className:"input input-bordered w-full lg:w-96",value:o,onChange:x=>a(x.target.value)}),c.jsx("div",{className:"form-control",children:c.jsxs("div",{className:"input-group",children:[c.jsx("input",{type:"number",placeholder:"Limit maximum marker length (in seconds)",className:"input input-bordered w-full lg:w-96",value:d||"",onChange:x=>f(x.target.valueAsNumber)}),c.jsxs("button",{className:"btn btn-success",type:"button",onClick:E,children:[c.jsx(Rn,{className:"mr-1"}),"Apply"]})]})}),c.jsx("div",{className:"tooltip","data-tip":"Makes the markers loop to match the duration of the longest selected marker.",children:c.jsxs("button",{className:"btn",type:"button",onClick:C,children:[c.jsx(WR,{className:"mr-1"}),"Equalize lengths"]})})]}),c.jsxs("div",{className:"join",children:[c.jsxs("button",{onClick:v,className:"btn btn-secondary join-item",children:[c.jsx(Rn,{className:"mr-1"}),"Select all"]}),c.jsxs("button",{onClick:b,className:"btn btn-error join-item",children:[c.jsx(dr,{className:"mr-1"}),"Deselect all"]})]})]}),u.length===0&&c.jsxs("div",{className:"mt-4 alert alert-info w-fit",children:[c.jsx(Jc,{className:"stroke-current flex-shrink-0 h-6 w-6"}),c.jsx("span",{children:"No markers found for selection. Either create some scene markers in Stash or change your search criteria."})]}),c.jsx("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 w-full",children:u.map(x=>{const _=s[x.id],T=`${x.streamUrl}#t=${x.start},${x.end}`,I=new Date(x.createdOn*1e3),M=I.toISOString(),R=L2.format(I);return c.jsxs("article",{className:Ue("card card-compact bg-base-200 shadow-xl",!_.selected&&"opacity-50"),children:[c.jsx("figure",{children:c.jsx(Bv,{videoSource:T,imageSource:x.screenshotUrl,onImageClick:()=>y(x.id),disabled:!_.selected,aspectRatio:"wide"})}),c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title",children:c.jsx(Yk,{value:x.primaryTag,onSave:$=>k(x.id,$)})}),c.jsxs("p",{className:"truncate",children:[c.jsxs("strong",{children:[c.jsx(HR,{className:"mr-2 inline"}),"Scene:"," "]}),x.sceneTitle||x.fileName]}),c.jsxs("p",{children:[c.jsxs("strong",{children:[c.jsx(wc,{className:"mr-2 inline"}),"Selected duration:"," "]}),at(_.selectedRange,"short")," /"," ",at(x.end-x.start,"short")]}),c.jsxs("p",{children:[c.jsxs("strong",{children:[c.jsx(N2,{className:"mr-2 inline"}),"Created:"," "]}),c.jsx("time",{dateTime:M,children:R})]}),c.jsxs("div",{children:[c.jsx("div",{className:"w-full",children:c.jsx("input",{value:_.selectedRange[1]-_.selectedRange[0],onChange:$=>i(L=>{const H=L[x.id].selectedRange[0];L[x.id].selectedRange[1]=H+$.target.valueAsNumber}),disabled:!_.selected,max:x.end-x.start,min:0,type:"range",className:"range w-full"})}),c.jsxs("div",{className:"grid grid-rows-2",children:[c.jsx("div",{className:"form-control",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text",children:"Include"}),c.jsx("input",{type:"checkbox",className:"toggle toggle-sm toggle-primary",checked:!!_.selected,onChange:$=>m(x.id,$.target.checked)})]})}),c.jsxs("div",{className:"flex flex-row justify-between",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text grow",children:"Loops"})}),c.jsx("input",{type:"number",className:"input input-sm input-bordered w-24",value:_.loops||1,disabled:!_.selected,onChange:$=>g(x.id,$.target.valueAsNumber)})]})]})]})]})]},x.id)})})]})},pG=()=>c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-4",children:"Add Videos"}),c.jsx("div",{className:"max-w-xl self-center",children:c.jsxs("div",{className:"mb-6",children:["You can add videos from different sources:",c.jsxs("ul",{className:"list-disc list-inside",children:[c.jsxs("li",{children:["Download from any site ",c.jsx("code",{children:"yt-dlp"})," supports."]}),c.jsx("li",{children:"Scan a local folder for video files."}),c.jsx("li",{children:"Connect to your Stash instance to add files from there."})]})]})}),c.jsxs("div",{className:"self-center flex gap-1",children:[c.jsxs(jt,{to:"/library/add/download",className:"btn btn-primary btn-lg w-48",children:[c.jsx(Nh,{}),"Download"]}),c.jsxs(jt,{to:"/library/add/folder",className:"btn btn-primary btn-lg w-48",children:[c.jsx(Ih,{}),"Folder"]}),c.jsxs(jt,{to:"/library/add/stash",className:"btn btn-primary btn-lg w-48",children:[c.jsx(xR,{}),"Stash"]})]})]}),tN=({children:e,label:t,name:n})=>c.jsxs("div",{className:"form-control",children:[c.jsx("label",{htmlFor:n,className:"label",children:c.jsx("span",{className:"label-text",children:t})}),e]}),mG=/\s+|\n/,gG=e=>{try{new URL(e);return}catch(t){return t.message}},yG=()=>{const e=Rt(),t=Oh(),[n,r]=w.useState(),[s,i]=w.useState(""),[o,a]=w.useState(!1),[l,u]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState(!1),m=async()=>{a(!0);const v=s.split(mG).map(S=>S.trim()).filter(S=>S.length>0);r(v.length);const g=[];for(const S of v){const E=gG(S);E&&g.push(`Invalid URL ${S}: ${E}`)}g.length>0?(u(g),a(!1)):await Sf({type:"download",urls:v,tags:d}),g.length===0&&(t("Success","Video downloads finished!"),e("/library"))},y=()=>{p(!0)},b=v=>{f(g=>[...g,v]),p(!1)};return o?c.jsxs(Va,{className:"self-center",children:["Downloading ",n," ",io("video",n),"..."]}):c.jsxs(c.Fragment,{children:[l.length>0&&c.jsxs("div",{className:"bg-error p-4 shadow-xl rounded-xl text-error-content max-w-2xl self-center mb-4 relative",children:[c.jsx(dr,{className:"absolute top-2 right-2 w-6 h-6 cursor-pointer",onClick:()=>u([])}),c.jsx("p",{className:"font-bold",children:"Some downloads failed:"}),l.map((v,g)=>c.jsx("p",{className:"text-sm",children:v},g))]}),c.jsxs("form",{onSubmit:m,className:"max-w-lg w-full self-center flex flex-col",children:[c.jsxs("p",{className:"mb-4 text-gray-500",children:["You can download videos from YouTube, Vimeo or any other site that"," ",c.jsx(ar,{href:"https://github.com/yt-dlp/yt-dlp",children:"yt-dlp"})," ","supports."]}),c.jsx(tN,{name:"urls",label:"Video URLs",children:c.jsx("textarea",{className:"textarea textarea-bordered",placeholder:"Enter URLs separated by line breaks...",rows:5,value:s,onChange:v=>i(v.target.value)})}),c.jsxs("div",{className:"flex justify-between mt-4",children:[c.jsx("ul",{className:"inline-flex flex-wrap gap-y-1 gap-x-0.5 -ml-2",children:d.map(v=>c.jsx("li",{className:"badge",children:v},v))}),c.jsxs("button",{onClick:y,type:"button",className:"btn btn-sm self-end",children:[c.jsx(or,{})," Add tag(s) to all videos"]})]}),c.jsxs("button",{type:"submit",disabled:o,className:"mt-4 btn btn-success self-end",children:[c.jsx(Nh,{className:"mr-2"}),"Download"]})]}),c.jsx(Hv,{isOpen:h,onSubmit:b,onClose:()=>p(!1)})]})};function vG({files:e,onSelectItem:t,name:n,control:r,drives:s}){const i=o=>{t(o)};return c.jsxs("section",{className:"w-full flex-grow flex max-h-[55vh] flex-col",children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{htmlFor:n,className:"label",children:c.jsx("span",{className:"label-text",children:"Path"})}),c.jsx(y2,{name:n,control:r,render:({field:o})=>c.jsx("input",{type:"text",className:"input input-bordered mb-4",required:!0,...o})})]}),s.length>0&&c.jsx("ul",{className:"menu bg-base-200 rounded-box w-full flex-nowrap mb-4",children:s.map(o=>c.jsx("li",{children:c.jsx("button",{onClick:()=>t({fileName:o,fullPath:o,type:"directory"}),type:"button",children:o})},o))}),c.jsx("ul",{className:"menu bg-base-200 rounded-box w-full overflow-y-scroll flex-nowrap",children:e.map(o=>c.jsx("li",{className:Ue({disabled:o.type==="file"}),children:c.jsxs("button",{onClick:()=>i(o),type:"button",children:[c.jsxs("span",{className:"truncate",children:[o.type==="directory"?c.jsx(Ih,{className:"inline"}):c.jsx(RR,{className:"inline text-gray-400"})," ",o.fileName]}),o.type==="file"&&c.jsx("span",{className:"badge",children:F2(o.size)})]})},o.fileName))})]})}function xG(){const e=Rt(),[t,n]=w.useState(),[r,s]=w.useState([]),[i,o]=w.useState(!1),[a,l]=wi(),u=a.get("path"),[d,f]=w.useState(!1),{register:h,handleSubmit:p,control:m,setValue:y}=es({defaultValues:{path:u||""}}),b=au(),v=async k=>{f(!0),await Sf({type:"local",path:k.path,recurse:k.recurse,tags:r}),e("/library")},g=async k=>{const x=await XR({path:k});return y("path",x.directory),x};w.useEffect(()=>{g(u||void 0).then(k=>n(k)).catch(async k=>{let x;if(k instanceof Error)x=k.message;else if(k instanceof Response){const _=await k.json();x=JSON.parse(_.error).error}b({message:`Could not access path '${u}': ${x}`,type:"error"})})},[u]);const S=k=>{y("path",k),l({path:k})},E=()=>{o(!0)},C=k=>{s(x=>[...x,k]),o(!1)};return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:p(v),className:"flex gap-4 items-start flex-col self-center w-[36rem] grow",children:[!d&&c.jsxs(c.Fragment,{children:[c.jsx(vG,{name:"path",drives:(t==null?void 0:t.drives)||[],files:(t==null?void 0:t.entries)||[],onSelectItem:k=>S(k.fullPath),control:m}),c.jsxs("div",{className:"flex justify-between mt-2 w-full items-center",children:[c.jsx("ul",{className:"inline-flex flex-wrap gap-y-1 gap-x-0.5 -ml-2",children:r.map(k=>c.jsx("li",{className:"badge",children:k},k))}),c.jsxs("button",{onClick:E,type:"button",className:"btn btn-sm self-end",children:[c.jsx(or,{})," Add tag(s) to all videos"]})]}),c.jsx("div",{className:"form-control justify-between w-full",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text",children:"Look at all the subdirectories as well"}),c.jsx("input",{type:"checkbox",className:"toggle",...h("recurse")})]})}),c.jsxs("button",{type:"submit",className:"btn btn-success self-end",children:[c.jsx(Rn,{className:"mr-2"}),"Submit"]})]}),d&&c.jsxs(Va,{children:["Scanning your videos and generating preview images...",c.jsx("br",{})," This might take a while, depending on how many videos you have."]})]}),c.jsx(Hv,{isOpen:i,onSubmit:C,onClose:()=>o(!1)})]})}const bG=()=>{const[e]=wi(),[t,n]=w.useState(e.get("query")||""),r=zn(),s=js(),i=ou(),o=Rt(),[a,l]=w.useState(),u=e.get("withMarkers")==="true",d=au();w.useEffect(()=>{i!=null&&i.stash.stashUrl||(o("/settings"),d({message:"Please configure your Stash settings first.",type:"info"}))},[i,o]);const{setQueryDebounced:f,addOrReplaceParam:h}=Xh(),p=b=>{n(b.target.value),f(b.target.value.trim())},m=async b=>{l(b.id);const v={type:"stash",sceneIds:[parseInt(b.id)]};await Sf(v),s.revalidate(),l(void 0)},y=async()=>{l(!0);const b={type:"stash",sceneIds:r.content.filter(v=>!v.existsInDatabase).map(v=>parseInt(v.id))};await Sf(b),s.revalidate(),l(void 0)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-3 items-baseline",children:[c.jsxs(jt,{to:"/library",className:"flex items-center text-sm link",children:[c.jsx(so,{className:"mr-1 inline"}),"Back"]}),c.jsx("h1",{className:"text-3xl text-center font-bold mb-4",children:"Add videos from Stash"})]}),c.jsxs("section",{className:"grid grid-cols-3 w-full",children:[c.jsx("div",{className:"form-control",children:c.jsx("input",{type:"text",className:"input input-bordered input-primary w-96",placeholder:"Filter...",value:t,onChange:p})}),c.jsx("div",{className:"form-control place-self-center",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text mr-3",children:"Show videos with markers"}),c.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:u,onChange:b=>h("withMarkers",b.target.checked?"true":void 0)})]})}),c.jsxs("button",{disabled:a===!0,className:"btn btn-success place-self-end",onClick:y,children:[c.jsx(or,{})," Add entire page"]})]}),c.jsxs("section",{className:"py-2 grid grid-cols-3",children:[c.jsx(qk,{}),c.jsx(Vv,{page:r,className:"text-center",startIndex:1}),c.jsx("span",{})]}),c.jsx("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 w-full mb-4",children:r.content.map(b=>{const v=a===b.id||a===!0,{existsInDatabase:g}=b;return c.jsx(Jk,{video:{video:b,markerCount:b.markerCount},stashConfig:i==null?void 0:i.stash,aspectRatio:"wide",actionChildren:c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsxs("button",{onClick:()=>m(b),className:"btn btn-sm btn-success",disabled:g||v,children:[!g&&!v&&c.jsxs(c.Fragment,{children:[c.jsx(or,{})," Add"]}),v&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"loading loading-spinner loading-xs"})," ","Adding..."]}),g&&c.jsxs(c.Fragment,{children:[c.jsx(Rn,{})," Added"]})]})]})},b.id)})}),c.jsx(eC,{totalPages:r.totalPages,currentPage:r.pageNumber,startIndex:1})]})},SG=()=>{var f;const{state:e}=Ft(),t=((f=e.data.songs)==null?void 0:f.length)||0,n=w.useRef(null),[r,s]=w.useState(!1),[i,o]=w.useState(),a=e.data.videoId;w.useEffect(()=>{vM().then(h=>{const p=h.find(m=>m.includes(a));o(p||"compilation.mp4")})},[a]);const l=h=>{const p=i.replace(".mp4",".funscript"),m=JSON.stringify(h),y=new Blob([m],{type:"application/json"}),b=URL.createObjectURL(y);n.current&&(n.current.href=b,n.current.download=p,n.current.click())},u=async h=>{var b;h.preventDefault(),s(!0);const m={songIds:((b=e.data.songs)==null?void 0:b.map(v=>v.songId))||[],strokeType:{accelerate:{start_strokes_per_beat:3,end_strokes_per_beat:1/3}}},y=await xM(m);l(y),s(!1)},d=async h=>{h.preventDefault(),s(!0);const p=await bM({clips:e.data.clips});l(p),s(!1)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mt-4 max-w-2xl self-center flex flex-col gap-2",children:[c.jsxs("p",{children:[c.jsx("code",{children:".funscript"})," files are used by computer-connected sex toys like"," ",c.jsx(ar,{href:"https://www.thehandy.com/",children:"the Handy"})," ","to sync their actions to a video."]}),c.jsxs("p",{children:["You can generate a beat-based funscript if the compilation had music added to it, or, if the source videos have ",c.jsx("code",{children:".funscript"})," ","files stored next to them, you can generate a file that combines the actions of the included videos."]}),c.jsxs("p",{children:["You can use apps like"," ",c.jsx(ar,{href:"https://beta.funscript.io/app/play",children:"funscript.io"})," ","to run the script alongside the video."]})]}),c.jsxs("div",{className:"self-center mt-4 flex flex-col gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"self-start mb-1",children:"Generate beat-based .funscript file"}),c.jsxs("button",{onClick:u,className:"btn btn-success btn-lg w-full",disabled:r||t===0,children:[c.jsx(Bg,{className:"w-6 h-6 mr-2"}),"Beat-based funscript"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"self-start mb-1",children:"Generate combined .funscript file"}),c.jsxs("button",{onClick:d,className:"btn btn-success btn-lg w-full",disabled:r||!e.data.interactive,children:[c.jsx(Bg,{className:"w-6 h-6 mr-2"}),"Combined funscript"]})]})]}),c.jsx("a",{className:"hidden",ref:n})]})},wG=()=>{var i;const{state:e}=Ft(),n=(((i=e.data.songs)==null?void 0:i.length)||0)>0||e.data.interactive,r=e.data.videoId,s=async o=>{var h;const a={clips:e.data.clips,fileName:e.data.fileName,songIds:((h=e.data.songs)==null?void 0:h.map(p=>p.songId))||[],videoId:e.data.videoId,encodingEffort:e.data.encodingEffort,outputFps:e.data.outputFps,outputResolution:e.data.outputResolution,selectedMarkers:e.data.selectedMarkers,videoCodec:e.data.videoCodec,videoQuality:e.data.videoQuality,musicVolume:e.data.musicVolume,padding:e.data.padding,forceReEncode:!1,includeOriginalFileName:e.data.includeOriginalFileName??!1},l=await yM(o,a),u=new Blob([l.body],{type:l.contentType});let d;switch(l.contentType){case"text/markdown":d="md";break;case"application/json":d="json";break;case"application/yaml":d="yaml";break;default:d="txt"}const f=`${e.data.fileName||"Compilation"} [${e.data.videoId}] - Description.${d}`;TT(f,u)};return c.jsx("div",{className:"mt-2 w-full self-center flex flex-col items-center",children:c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsx("h1",{className:"text-5xl font-bold text-center",children:"🎉 Success!"}),c.jsxs("p",{children:["You can now download the finished compilation!"," ",n&&c.jsxs(c.Fragment,{children:["You can also create a ",c.jsx("code",{children:".funscript"})," file for use with sex toys."]})]}),c.jsxs("section",{className:"flex flex-col gap-2",children:[c.jsxs("a",{href:`/api/project/download?videoId=${encodeURIComponent(r)}`,className:"btn btn-success btn-lg",download:!0,children:[c.jsx(Nh,{className:"w-6 h-6 mr-2"}),"Download video"]}),c.jsxs("div",{className:"join self-center",children:[c.jsxs(ar,{href:"https://ko-fi.com/soundchaser128",className:"btn btn-secondary join-item",children:[c.jsx(OR,{className:"w-6 h-6 mr-2"}),"Support the developer"]}),c.jsxs("details",{className:"dropdown",children:[c.jsxs("summary",{className:"btn w-full mb-1 join-item",children:[c.jsx(jR,{className:"w-6 h-6 mr-2"}),"Generate description"]}),c.jsxs("ul",{className:"p-2 shadow-xl menu dropdown-content z-[1] bg-base-200 rounded-box w-full",children:[c.jsx("li",{children:c.jsx("button",{onClick:()=>s("markdown"),children:"Markdown"})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>s("json"),children:"JSON"})})]})]}),n&&c.jsxs(jt,{className:"btn btn-primary join-item",to:`/${r}/funscript`,children:[c.jsx(Bg,{className:"w-6 h-6 mr-2"}),"Create funscript"]})]})]})]})})};function _G(){var p,m;const{state:e,actions:t}=Ft({updateForm:hr}),n=zn(),r=n.content,s=Rt(),i=((p=e.data.videoIds)==null?void 0:p.length)??0,o=i===0,a=()=>{const y=r.filter(b=>{var v;return b.markerCount>0&&((v=e.data.videoIds)==null?void 0:v.includes(b.video.id))}).some(b=>b.video.interactive);t.updateForm({stage:Kt.SelectMarkers,interactive:y,selectedMarkers:void 0}),s("/markers")},l=(y,b)=>{const v=e.data.videoIds??[],g=b?[...v,y]:v.filter(S=>S!==y);t.updateForm({videoIds:g})},u=y=>{var v;const b=((v=e.data.videoIds)==null?void 0:v.includes(y))??!1;l(y,!b)},d=()=>{var v;const y=r.map(g=>g.video.id),b=((v=e.data.videoIds)==null?void 0:v.filter(g=>!y.includes(g)))??[];t.updateForm({videoIds:b})},f=()=>{const y=r.map(v=>v.video.id),b=new Set([...e.data.videoIds??[],...y]);t.updateForm({videoIds:Array.from(b)})},h=y=>!(e.data.videoIds??[]).includes(y.video.id);return c.jsxs(c.Fragment,{children:[c.jsx(Uv,{}),c.jsxs("div",{className:"grid grid-cols-3 w-full my-4 items-center",children:[c.jsxs("div",{className:"join",children:[c.jsxs("button",{onClick:f,className:"btn btn-secondary join-item",children:[c.jsx(Rn,{className:"mr-1"}),"Select all"]}),c.jsxs("button",{onClick:d,className:"btn btn-error join-item",children:[c.jsx(dr,{className:"mr-1"}),"Deselect all"]})]}),c.jsxs("div",{className:"place-self-center text-center mb-4",children:[c.jsx(Vv,{page:n}),c.jsxs("p",{children:[c.jsx("strong",{children:i})," ",io("video",(m=e.data.videoIds)==null?void 0:m.length)," selected."]}),c.jsx("p",{children:"Click on videos to add them to the selection."})]}),c.jsxs("button",{className:"btn btn-success place-self-end self-center",onClick:a,disabled:o,children:["Next",c.jsx(Rs,{className:"ml-1"})]})]}),c.jsx(rC,{hideMarkerCountFilter:!0,onVideoClick:u,isVideoDisabled:h,noVideosFoundMessage:"No videos with markers found. Try going back to the library and adding some markers.",actionChildren:y=>{var b;return c.jsx(c.Fragment,{children:c.jsx("div",{className:"form-control",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text",children:"Include"}),c.jsx("input",{type:"checkbox",className:"toggle toggle-sm toggle-primary ml-2",checked:(b=e.data.videoIds)==null?void 0:b.includes(y.video.id),onChange:v=>l(y.video.id,v.target.checked)})]})})})}})]})}const EG=()=>{const[e,t]=w.useState(!1),{handleSubmit:n,register:r,reset:s}=es({}),i=Rt(),o=async a=>{t(!0);const l=await _M({url:a.musicUrl});await kM(l.songId),t(!1),s(),i("/music")};return e?c.jsx(Va,{className:"self-center",children:"Downloading song and detecting beats."}):c.jsxs("form",{onSubmit:n(o),className:"flex flex-col self-center w-full max-w-xl gap-4",children:[c.jsx("p",{className:"font-light",children:"You can download songs from YouTube, Vimeo or any other site that yt-dlp supports."}),c.jsx(tN,{name:"musicUrl",label:"Music URL",children:c.jsx("input",{className:"input input-bordered w-full",placeholder:"Supports YouTube, Vimeo, ...",...r("musicUrl")})}),c.jsxs("div",{className:"flex gap-2 self-end",children:[c.jsx(jt,{to:"/music",className:"btn btn-outline",children:"Cancel"}),c.jsx("button",{className:"btn btn-success",type:"submit",children:"Submit"})]})]})},kG=()=>{const[e,t]=w.useState(),[n,r]=w.useState(!1),{state:s,actions:i}=Ft({updateForm:hr}),o=js(),a=Oh(),l=Rt(),u=async()=>{if(e){r(!0);const d=await EM({file:e});i.updateForm({songs:[...s.data.songs||[],d]}),o.revalidate(),a("Success","Song downloaded successfully!"),r(!1),l("/music")}};return c.jsxs("div",{className:"flex flex-col self-center w-full max-w-xl gap-4",children:[c.jsx("p",{children:"Select a song to upload:"}),c.jsx("input",{type:"file",className:"file-input file-input-primary",name:"upload",accept:"audio/*",onChange:d=>t(d.target.files[0])}),c.jsxs("div",{className:"flex self-end gap-2",children:[c.jsx(jt,{to:"/music",className:"btn btn-outline",children:"Cancel"}),c.jsx("button",{onClick:u,disabled:n,className:"btn btn-success",children:"Upload"})]})]})},CG=({id:e,text:t,index:n,moveCard:r,className:s,style:i})=>{const o=w.useRef(null),[{handlerId:a},l]=fq({accept:"CARD",collect(h){return{handlerId:h.getHandlerId()}},hover(h,p){var E;if(!o.current)return;const m=h.index,y=n;if(m===y)return;const b=(E=o.current)==null?void 0:E.getBoundingClientRect(),v=(b.bottom-b.top)/2,S=p.getClientOffset().y-b.top;m<y&&S<v||m>y&&S>v||(r(m,y),h.index=y)}}),[{isDragging:u},d]=sq({type:"CARD",item:()=>({id:e,index:n}),collect:h=>({isDragging:h.isDragging()})}),f=u?0:1;return d(l(o)),c.jsx("div",{ref:o,"data-handler-id":a,className:s,style:{...i,opacity:f},children:t})},TG=()=>{var l;const{state:e,actions:t}=Ft({updateForm:hr}),n=((l=e.data)==null?void 0:l.songs)||[],[r,s]=Ea(n.map(u=>u.songId)),i=Rt(),o=w.useCallback((u,d)=>{s(f=>{const h=f[u];f.splice(u,1),f.splice(d,0,h)})},[]),a=()=>{t.updateForm({songs:r.map(u=>n.find(d=>d.songId===u))}),i("/music")};return c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"self-center font-bold text-xl",children:"Change order of songs"}),c.jsx("p",{className:"self-center mb-6",children:"Drag and drop songs to change their order in the video."}),c.jsx("div",{className:"self-center flex flex-col gap-2",children:r.map((u,d)=>{const f=n.find(h=>h.songId===u);return c.jsx(CG,{className:"text-center bg-primary text-primary-content px-4 py-1 rounded-full cursor-move",id:f.songId,text:f.fileName,index:d,moveCard:o},f.songId)})}),c.jsxs("button",{onClick:a,className:"btn btn-success self-end",type:"button",children:[c.jsx(Rn,{}),"Done"]})]})};function k_({control:e,error:t,name:n}){return c.jsx(y2,{control:e,name:n,render:({field:r})=>c.jsx("input",{type:"text",className:Ue("input grow input-bordered",t&&"border-error focus:outline-none"),...r,required:!0})})}class nN{unwrap(t,n){const r=this._chain(s=>nr.ok(t?t(s):s),s=>n?nr.ok(n(s)):nr.err(s));if(r.isErr)throw r.error;return r.value}map(t,n){return this._chain(r=>nr.ok(t(r)),r=>nr.err(n?n(r):r))}chain(t,n){return this._chain(t,n||(r=>nr.err(r)))}}class NG extends nN{constructor(t){super(),this.value=void 0,this.isOk=!0,this.isErr=!1,this.value=t}_chain(t,n){return t(this.value)}}class IG extends nN{constructor(t){super(),this.error=void 0,this.isOk=!1,this.isErr=!0,this.error=t}_chain(t,n){return n(this.error)}}var nr;(function(e){e.ok=function(t){return new NG(t)},e.err=function(t){return new IG(t||new Error)},e.all=function(t){if(Array.isArray(t)){const s=[];for(let i=0;i<t.length;i++){const o=t[i];if(o.isErr)return o;s.push(o.value)}return e.ok(s)}const n={},r=Object.keys(t);for(let s=0;s<r.length;s++){const i=t[r[s]];if(i.isErr)return i;n[r[s]]=i.value}return e.ok(n)}})(nr||(nr={}));async function Fm(e,t,n,r,s){const i=Math.max(_c(t.start),0),o=Math.min(_c(t.end),n),a={start:i,end:o,title:t.title.trim(),videoId:e.id,indexWithinVideo:r,previewImagePath:null,videoInteractive:e.interactive};try{const l=await QR({marker:a,createInStash:s});return nr.ok(l)}catch(l){const u=l;return nr.err(u)}}async function jG(e,t){const n={start:_c(t.start),end:_c(t.end),title:t.title.trim()};try{const r=await O2(e,n);return nr.ok(r)}catch(r){const s=r;return nr.err(s)}}var RG={value:()=>{}};function rN(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fd(n)}function Fd(e){this._=e}function MG(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fd.prototype=rN.prototype={constructor:Fd,on:function(e,t){var n=this._,r=MG(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=DG(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=C_(n[s],e.name,t);else if(t==null)for(s in n)n[s]=C_(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fd(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function DG(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function C_(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=RG,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ny="http://www.w3.org/1999/xhtml";const T_={svg:"http://www.w3.org/2000/svg",xhtml:ny,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xp(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),T_.hasOwnProperty(t)?{space:T_[t],local:e}:e}function OG(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ny&&t.documentElement.namespaceURI===ny?t.createElement(e):t.createElementNS(n,e)}}function PG(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sN(e){var t=xp(e);return(t.local?PG:OG)(t)}function AG(){}function R1(e){return e==null?AG:function(){return this.querySelector(e)}}function LG(e){typeof e!="function"&&(e=R1(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),l,u,d=0;d<o;++d)(l=i[d])&&(u=e.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),a[d]=u);return new Pr(r,this._parents)}function FG(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $G(){return[]}function iN(e){return e==null?$G:function(){return this.querySelectorAll(e)}}function UG(e){return function(){return FG(e.apply(this,arguments))}}function BG(e){typeof e=="function"?e=UG(e):e=iN(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),s.push(l));return new Pr(r,s)}function oN(e){return function(){return this.matches(e)}}function aN(e){return function(t){return t.matches(e)}}var HG=Array.prototype.find;function VG(e){return function(){return HG.call(this.children,e)}}function zG(){return this.firstElementChild}function WG(e){return this.select(e==null?zG:VG(typeof e=="function"?e:aN(e)))}var qG=Array.prototype.filter;function GG(){return Array.from(this.children)}function YG(e){return function(){return qG.call(this.children,e)}}function KG(e){return this.selectAll(e==null?GG:YG(typeof e=="function"?e:aN(e)))}function XG(e){typeof e!="function"&&(e=oN(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new Pr(r,this._parents)}function lN(e){return new Array(e.length)}function ZG(){return new Pr(this._enter||this._groups.map(lN),this._parents)}function sh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}sh.prototype={constructor:sh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function QG(e){return function(){return e}}function JG(e,t,n,r,s,i){for(var o=0,a,l=t.length,u=i.length;o<u;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new sh(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function eY(e,t,n,r,s,i,o){var a,l,u=new Map,d=t.length,f=i.length,h=new Array(d),p;for(a=0;a<d;++a)(l=t[a])&&(h[a]=p=o.call(l,l.__data__,a,t)+"",u.has(p)?s[a]=l:u.set(p,l));for(a=0;a<f;++a)p=o.call(e,i[a],a,i)+"",(l=u.get(p))?(r[a]=l,l.__data__=i[a],u.delete(p)):n[a]=new sh(e,i[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(h[a])===l&&(s[a]=l)}function tY(e){return e.__data__}function nY(e,t){if(!arguments.length)return Array.from(this,tY);var n=t?eY:JG,r=this._parents,s=this._groups;typeof e!="function"&&(e=QG(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),u=0;u<i;++u){var d=r[u],f=s[u],h=f.length,p=rY(e.call(d,d&&d.__data__,u,r)),m=p.length,y=a[u]=new Array(m),b=o[u]=new Array(m),v=l[u]=new Array(h);n(d,f,y,b,v,p,t);for(var g=0,S=0,E,C;g<m;++g)if(E=y[g]){for(g>=S&&(S=g+1);!(C=b[S])&&++S<m;);E._next=C||null}}return o=new Pr(o,r),o._enter=a,o._exit=l,o}function rY(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sY(){return new Pr(this._exit||this._groups.map(lN),this._parents)}function iY(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function oY(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var u=n[l],d=r[l],f=u.length,h=a[l]=new Array(f),p,m=0;m<f;++m)(p=u[m]||d[m])&&(h[m]=p);for(;l<s;++l)a[l]=n[l];return new Pr(a,this._parents)}function aY(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function lY(e){e||(e=cY);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(l[d]=u);l.sort(t)}return new Pr(s,this._parents).order()}function cY(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uY(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function dY(){return Array.from(this)}function fY(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function hY(){let e=0;for(const t of this)++e;return e}function pY(){return!this.node()}function mY(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function gY(e){return function(){this.removeAttribute(e)}}function yY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vY(e,t){return function(){this.setAttribute(e,t)}}function xY(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bY(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function SY(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wY(e,t){var n=xp(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?yY:gY:typeof t=="function"?n.local?SY:bY:n.local?xY:vY)(n,t))}function cN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _Y(e){return function(){this.style.removeProperty(e)}}function EY(e,t,n){return function(){this.style.setProperty(e,t,n)}}function kY(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function CY(e,t,n){return arguments.length>1?this.each((t==null?_Y:typeof t=="function"?kY:EY)(e,t,n??"")):Aa(this.node(),e)}function Aa(e,t){return e.style.getPropertyValue(t)||cN(e).getComputedStyle(e,null).getPropertyValue(t)}function TY(e){return function(){delete this[e]}}function NY(e,t){return function(){this[e]=t}}function IY(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jY(e,t){return arguments.length>1?this.each((t==null?TY:typeof t=="function"?IY:NY)(e,t)):this.node()[e]}function uN(e){return e.trim().split(/^|\s+/)}function M1(e){return e.classList||new dN(e)}function dN(e){this._node=e,this._names=uN(e.getAttribute("class")||"")}dN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function fN(e,t){for(var n=M1(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function hN(e,t){for(var n=M1(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function RY(e){return function(){fN(this,e)}}function MY(e){return function(){hN(this,e)}}function DY(e,t){return function(){(t.apply(this,arguments)?fN:hN)(this,e)}}function OY(e,t){var n=uN(e+"");if(arguments.length<2){for(var r=M1(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?DY:t?RY:MY)(n,t))}function PY(){this.textContent=""}function AY(e){return function(){this.textContent=e}}function LY(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function FY(e){return arguments.length?this.each(e==null?PY:(typeof e=="function"?LY:AY)(e)):this.node().textContent}function $Y(){this.innerHTML=""}function UY(e){return function(){this.innerHTML=e}}function BY(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function HY(e){return arguments.length?this.each(e==null?$Y:(typeof e=="function"?BY:UY)(e)):this.node().innerHTML}function VY(){this.nextSibling&&this.parentNode.appendChild(this)}function zY(){return this.each(VY)}function WY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qY(){return this.each(WY)}function GY(e){var t=typeof e=="function"?e:sN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function YY(){return null}function KY(e,t){var n=typeof e=="function"?e:sN(e),r=t==null?YY:typeof t=="function"?t:R1(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function XY(){var e=this.parentNode;e&&e.removeChild(this)}function ZY(){return this.each(XY)}function QY(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JY(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eK(e){return this.select(e?JY:QY)}function tK(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nK(e){return function(t){e.call(this,t,this.__data__)}}function rK(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function sK(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function iK(e,t,n){return function(){var r=this.__on,s,i=nK(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function oK(e,t,n){var r=rK(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,d;l<u;++l)for(s=0,d=a[l];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?iK:sK,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function pN(e,t,n){var r=cN(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function aK(e,t){return function(){return pN(this,e,t)}}function lK(e,t){return function(){return pN(this,e,t.apply(this,arguments))}}function cK(e,t){return this.each((typeof t=="function"?lK:aK)(e,t))}function*uK(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var dK=[null];function Pr(e,t){this._groups=e,this._parents=t}function yu(){return new Pr([[document.documentElement]],dK)}function fK(){return this}Pr.prototype=yu.prototype={constructor:Pr,select:LG,selectAll:BG,selectChild:WG,selectChildren:KG,filter:XG,data:nY,enter:ZG,exit:sY,join:iY,merge:oY,selection:fK,order:aY,sort:lY,call:uY,nodes:dY,node:fY,size:hY,empty:pY,each:mY,attr:wY,style:CY,property:jY,classed:OY,text:FY,html:HY,raise:zY,lower:qY,append:GY,insert:KY,remove:ZY,clone:eK,datum:tK,on:oK,dispatch:cK,[Symbol.iterator]:uK};var La=0,Dl=0,El=0,mN=1e3,ih,Ol,oh=0,mo=0,bp=0,Vc=typeof performance=="object"&&performance.now?performance:Date,gN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function D1(){return mo||(gN(hK),mo=Vc.now()+bp)}function hK(){mo=0}function ah(){this._call=this._time=this._next=null}ah.prototype=yN.prototype={constructor:ah,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?D1():+n)+(t==null?0:+t),!this._next&&Ol!==this&&(Ol?Ol._next=this:ih=this,Ol=this),this._call=e,this._time=n,ry()},stop:function(){this._call&&(this._call=null,this._time=1/0,ry())}};function yN(e,t,n){var r=new ah;return r.restart(e,t,n),r}function pK(){D1(),++La;for(var e=ih,t;e;)(t=mo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--La}function N_(){mo=(oh=Vc.now())+bp,La=Dl=0;try{pK()}finally{La=0,gK(),mo=0}}function mK(){var e=Vc.now(),t=e-oh;t>mN&&(bp-=t,oh=e)}function gK(){for(var e,t=ih,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ih=n);Ol=e,ry(r)}function ry(e){if(!La){Dl&&(Dl=clearTimeout(Dl));var t=e-mo;t>24?(e<1/0&&(Dl=setTimeout(N_,e-Vc.now()-bp)),El&&(El=clearInterval(El))):(El||(oh=Vc.now(),El=setInterval(mK,mN)),La=1,gN(N_))}}function I_(e,t,n){var r=new ah;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var yK=rN("start","end","cancel","interrupt"),vK=[],vN=0,j_=1,sy=2,$d=3,R_=4,iy=5,Ud=6;function Sp(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;xK(e,n,{name:t,index:r,group:s,on:yK,tween:vK,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:vN})}function O1(e,t){var n=Lr(e,t);if(n.state>vN)throw new Error("too late; already scheduled");return n}function ts(e,t){var n=Lr(e,t);if(n.state>$d)throw new Error("too late; already running");return n}function Lr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xK(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=yN(i,0,n.time);function i(u){n.state=j_,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,h,p;if(n.state!==j_)return l();for(d in r)if(p=r[d],p.name===n.name){if(p.state===$d)return I_(o);p.state===R_?(p.state=Ud,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=Ud,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[d])}if(I_(function(){n.state===$d&&(n.state=R_,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=sy,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sy){for(n.state=$d,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=p);s.length=f+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=iy,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===iy&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ud,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function bK(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>sy&&r.state<iy,r.state=Ud,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function SK(e){return this.each(function(){bK(this,e)})}function wK(e,t){var n,r;return function(){var s=ts(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function _K(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=ts(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},l=0,u=s.length;l<u;++l)if(s[l].name===t){s[l]=a;break}l===u&&s.push(a)}i.tween=s}}function EK(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Lr(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?wK:_K)(n,e,t))}function P1(e,t,n){var r=e._id;return e.each(function(){var s=ts(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Lr(s,r).value[t]}}function xN(e,t){var n;return(typeof t=="number"?wr:t instanceof oo?kf:(n=oo(t))?(t=n,kf):z2)(e,t)}function kK(e){return function(){this.removeAttribute(e)}}function CK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TK(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function NK(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function IK(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function jK(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function RK(e,t){var n=xp(e),r=n==="transform"?s6:xN;return this.attrTween(e,typeof t=="function"?(n.local?jK:IK)(n,r,P1(this,"attr."+e,t)):t==null?(n.local?CK:kK)(n):(n.local?NK:TK)(n,r,t))}function MK(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function DK(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function OK(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&DK(e,i)),n}return s._value=t,s}function PK(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&MK(e,i)),n}return s._value=t,s}function AK(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=xp(e);return this.tween(n,(r.local?OK:PK)(r,t))}function LK(e,t){return function(){O1(this,e).delay=+t.apply(this,arguments)}}function FK(e,t){return t=+t,function(){O1(this,e).delay=t}}function $K(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?LK:FK)(t,e)):Lr(this.node(),t).delay}function UK(e,t){return function(){ts(this,e).duration=+t.apply(this,arguments)}}function BK(e,t){return t=+t,function(){ts(this,e).duration=t}}function HK(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?UK:BK)(t,e)):Lr(this.node(),t).duration}function VK(e,t){if(typeof t!="function")throw new Error;return function(){ts(this,e).ease=t}}function zK(e){var t=this._id;return arguments.length?this.each(VK(t,e)):Lr(this.node(),t).ease}function WK(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ts(this,e).ease=n}}function qK(e){if(typeof e!="function")throw new Error;return this.each(WK(this._id,e))}function GK(e){typeof e!="function"&&(e=oN(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new Ns(r,this._parents,this._name,this._id)}function YK(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=t[a],u=n[a],d=l.length,f=o[a]=new Array(d),h,p=0;p<d;++p)(h=l[p]||u[p])&&(f[p]=h);for(;a<r;++a)o[a]=t[a];return new Ns(o,this._parents,this._name,this._id)}function KK(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function XK(e,t,n){var r,s,i=KK(t)?O1:ts;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function ZK(e,t){var n=this._id;return arguments.length<2?Lr(this.node(),n).on.on(e):this.each(XK(n,e,t))}function QK(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JK(){return this.on("end.remove",QK(this._id))}function eX(e){var t=this._name,n=this._id;typeof e!="function"&&(e=R1(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,u=i[o]=new Array(l),d,f,h=0;h<l;++h)(d=a[h])&&(f=e.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Sp(u[h],t,n,h,u,Lr(d,n)));return new Ns(i,this._parents,t,n)}function tX(e){var t=this._name,n=this._id;typeof e!="function"&&(e=iN(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],u=l.length,d,f=0;f<u;++f)if(d=l[f]){for(var h=e.call(d,d.__data__,f,l),p,m=Lr(d,n),y=0,b=h.length;y<b;++y)(p=h[y])&&Sp(p,t,n,y,h,m);i.push(h),o.push(d)}return new Ns(i,o,t,n)}var nX=yu.prototype.constructor;function rX(){return new nX(this._groups,this._parents)}function sX(e,t){var n,r,s;return function(){var i=Aa(this,e),o=(this.style.removeProperty(e),Aa(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function bN(e){return function(){this.style.removeProperty(e)}}function iX(e,t,n){var r,s=n+"",i;return function(){var o=Aa(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function oX(e,t,n){var r,s,i;return function(){var o=Aa(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Aa(this,e))),o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a))}}function aX(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var l=ts(this,e),u=l.on,d=l.value[i]==null?a||(a=bN(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),l.on=r}}function lX(e,t,n){var r=(e+="")=="transform"?r6:xN;return t==null?this.styleTween(e,sX(e,r)).on("end.style."+e,bN(e)):typeof t=="function"?this.styleTween(e,oX(e,r,P1(this,"style."+e,t))).each(aX(this._id,e)):this.styleTween(e,iX(e,r,t),n).on("end.style."+e,null)}function cX(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function uX(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&cX(e,o,n)),r}return i._value=t,i}function dX(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,uX(e,t,n??""))}function fX(e){return function(){this.textContent=e}}function hX(e){return function(){var t=e(this);this.textContent=t??""}}function pX(e){return this.tween("text",typeof e=="function"?hX(P1(this,"text",e)):fX(e==null?"":e+""))}function mX(e){return function(t){this.textContent=e.call(this,t)}}function gX(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&mX(s)),t}return r._value=e,r}function yX(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gX(e))}function vX(){for(var e=this._name,t=this._id,n=SN(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var d=Lr(l,t);Sp(l,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ns(r,this._parents,e,n)}function xX(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var u=ts(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),s===0&&i()})}var bX=0;function Ns(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function SN(){return++bX}var ss=yu.prototype;Ns.prototype={constructor:Ns,select:eX,selectAll:tX,selectChild:ss.selectChild,selectChildren:ss.selectChildren,filter:GK,merge:YK,selection:rX,transition:vX,call:ss.call,nodes:ss.nodes,node:ss.node,size:ss.size,empty:ss.empty,each:ss.each,on:ZK,attr:RK,attrTween:AK,style:lX,styleTween:dX,text:pX,textTween:yX,remove:JK,tween:EK,delay:$K,duration:HK,ease:zK,easeVarying:qK,end:xX,[Symbol.iterator]:ss[Symbol.iterator]};function SX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var wX={time:null,delay:0,duration:250,ease:SX};function _X(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function EX(e){var t,n;e instanceof Ns?(t=e._id,e=e._name):(t=SN(),(n=wX).time=D1(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&Sp(l,e,t,u,o,n||_X(l,t));return new Ns(r,this._parents,e,t)}yu.prototype.interrupt=SK;yu.prototype.transition=EX;function Pl(e,t,n){this.k=e,this.x=t,this.y=n}Pl.prototype={constructor:Pl,scale:function(e){return e===1?this:new Pl(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Pl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Pl.prototype;const kX=Ee[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],CX=e=>{const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t};function TX(){}function NX(e,t,n={}){const r=jX(n.polyfill),s=CX(t);return kX(()=>{let i=!1;const o=e&&"current"in e?e.current:e;if(!o)return TX;function a(l,u){i||s.current(l,u)}return r.subscribe(o,a),()=>{i=!0,r.unsubscribe(o,a)}},[e,r,s]),r.observer}function IX(e){let t=!1,n=[];const r=new Map,s=new(e||window.ResizeObserver)((i,o)=>{n=n.concat(i);function a(){const l=new Set;for(let u=0;u<n.length;u++){if(l.has(n[u].target))continue;l.add(n[u].target);const d=r.get(n[u].target);d==null||d.forEach(f=>f(n[u],o))}n=[],t=!1}t||window.requestAnimationFrame(a),t=!0});return{observer:s,subscribe(i,o){var a;s.observe(i);const l=(a=r.get(i))!==null&&a!==void 0?a:[];l.push(o),r.set(i,l)},unsubscribe(i,o){var a;const l=(a=r.get(i))!==null&&a!==void 0?a:[];if(l.length===1){s.unobserve(i),r.delete(i);return}const u=l.indexOf(o);u!==-1&&l.splice(u,1),r.set(i,l)}}}let $m;const jX=e=>$m||($m=IX(e));function RX(e){const[t,n]=w.useState({width:0,height:0});return w.useLayoutEffect(()=>{e.current&&n(e.current.getBoundingClientRect())},[e]),NX(e,r=>n(r.contentRect)),t}const lh=4,MX=({length:e,onClick:t})=>{const n=w.useRef(null),{width:r}=RX(n),s=[0,r],i=[0,e],o=i.join(","),a=s.join(","),l=w.useMemo(()=>{const u=Q2().domain(i).range(s),f=Math.max(1,Math.floor(r/100));return u.ticks(f).map(h=>({value:h,xOffset:u(h)}))},[o,a,r]);return c.jsxs("svg",{onClick:t,ref:n,height:22,className:"w-full z-20 cursor-pointer select-none",children:[c.jsx("path",{d:["M",s[0]+lh,6,"v",-6,"H",s[1],"v",6].join(" "),fill:"none",stroke:"currentColor"}),l.map(({value:u,xOffset:d})=>c.jsxs("g",{className:"pointer-events-none",transform:`translate(${d+lh}, 0)`,children:[c.jsx("line",{y2:"6",stroke:"currentColor"}),c.jsx("text",{style:{fontSize:"12px",textAnchor:"middle",transform:"translateY(20px)",fill:"var(--fallback-bc,oklch(var(--bc)/1))"},children:u===0?"0":at(u,"short")},u)]},u))]})},DX=({items:e,selectedIndex:t,onItemClick:n,fadeInactiveItems:r,length:s})=>{const i=w.useMemo(()=>e.map((o,a)=>{const l=ek(a,e.length),u=tk(l),d=o.length/s*100,f=o.offset/s*100;return{backgroundColor:l,color:u,width:`${d}%`,left:`calc(${f}%)`,display:"absolute"}}),[e,s]);return e.map((o,a)=>{const l=i[a];return c.jsx("div",{className:Ue("absolute text-sm cursor-pointer text-white text-center py-2 truncate",!r&&"hover:opacity-80",a!==t&&r&&"opacity-30 hover:opacity-60",a===t&&r&&"opacity-100"),style:l,onClick:()=>n(o,a),children:o.label},a)})},OX=({items:e,onItemClick:t,selectedIndex:n,fadeInactiveItems:r,length:s,time:i,markPoints:o,onMarkerClick:a,onTimelineClick:l,className:u})=>{const d=S=>{var E;if(l){const C=(E=S.currentTarget)==null?void 0:E.parentElement,k=C==null?void 0:C.getBoundingClientRect();if(!k)return;const _=(S.clientX-k.left)/k.width*s,T=Ev(_,0,s);l(T)}},f=typeof i=="number"?`calc(${i/s*100}% - (1.25rem / 2))`:void 0,[h,p]=Ee.useState(!1),m=S=>{S.dataTransfer.effectAllowed="move",p(!0)},y=S=>{p(!1),d(S)},b=S=>{d(S)},v=S=>{S.preventDefault()},g=S=>{S.preventDefault(),p(!1),d(S)};return w.useEffect(()=>(document.addEventListener("dragover",v),document.addEventListener("drop",g),()=>{document.removeEventListener("dragover",v),document.removeEventListener("drop",g)})),c.jsxs("section",{className:u,children:[c.jsxs("div",{className:"flex h-[36px] relative w-full bg-base-200",style:{marginLeft:lh},children:[typeof i=="number"&&c.jsx("span",{style:{left:f,opacity:h?.4:1},className:"absolute bottom-[-10px] bg-gray-700 rounded-full w-5 h-5 z-10 border-2 border-gray-400",draggable:!0,onDragStart:m,onDragEnd:y,onDrag:b}),o==null?void 0:o.map(S=>c.jsx("span",{style:{left:`calc(${S/s*100}% + ${lh}px)`},className:"top-0 absolute py-2 bg-green-500 w-2 -translate-x-0.5 bg-opacity-50 h-[36px] z-10 cursor-pointer",onClick:E=>a&&a(S,E)},S)),c.jsx(DX,{items:e,onItemClick:t,selectedIndex:n,fadeInactiveItems:r,length:s})]}),c.jsx(MX,{onClick:d,length:s})]})},mr=({keys:e,className:t,separator:n=" "})=>{const r=e.split(n);return c.jsx("span",{className:"mr-2",children:r.map((s,i)=>c.jsxs(Ee.Fragment,{children:[c.jsx("kbd",{className:Ue("kbd",t),children:s}),i<r.length-1&&" "]},i))})},wN={isPlaying:!1,isMuted:!1,currentTime:0,duration:0,playbackRate:1},_N=Ee.createContext({state:wN,dispatch:()=>{}});function PX(e,t){switch(t.type){case"togglePlay":return e.isPlaying?(e.videoElement&&e.videoElement.pause(),{...e,isPlaying:!1}):(e.videoElement&&e.videoElement.play(),{...e,isPlaying:!0});case"toggleMute":return e.isMuted?(e.videoElement&&(e.videoElement.muted=!1),{...e,isMuted:!1}):(e.videoElement&&(e.videoElement.muted=!0),{...e,isMuted:!0});case"setDuration":return{...e,duration:t.payload};case"setCurrentTime":return{...e,currentTime:t.payload};case"jumpRelative":return e.videoElement&&(e.videoElement.currentTime+=t.payload),{...e,currentTime:e.videoElement.currentTime};case"jumpAbsolute":return e.videoElement&&(e.videoElement.currentTime=t.payload),{...e,currentTime:e.videoElement.currentTime};case"setPlaybackRate":return e.videoElement.playbackRate=t.payload,{...e,playbackRate:t.payload};case"init":return{...e,videoElement:t.payload};default:return e}}function AX({children:e}){const[t,n]=w.useReducer(PX,wN);return c.jsx(_N.Provider,{value:{state:t,dispatch:n},children:e})}function A1(){return w.useContext(_N)}function LX({sources:e,className:t,...n}){const r=w.useRef(null),{dispatch:s}=A1();w.useEffect(()=>{r.current&&s({type:"init",payload:r.current})},[s]);const i=()=>{r.current&&s({type:"setDuration",payload:r.current.duration})},o=()=>{r.current&&s({type:"setCurrentTime",payload:r.current.currentTime})};return c.jsx("video",{...n,onLoadedMetadata:i,onTimeUpdate:o,className:t,ref:r,muted:!0,children:e.map((a,l)=>c.jsx("source",{src:a.src,type:a.type},l))})}function FX(){const{state:e,dispatch:t}=A1(),{isPlaying:n,isMuted:r}=e,s=()=>{t({type:"togglePlay"})},i=()=>{t({type:"toggleMute"})},o=(a,l)=>{t({type:"jumpRelative",payload:a})};return Qn("space",s),Qn("v m",i),Qn("k",()=>o(-.5)),Qn("l",()=>o(.5)),Qn("right",()=>o(5)),Qn("left",()=>o(-5)),c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:s,className:Ue("btn btn-square",{"btn-success":!n,"btn-neutral":n}),type:"button",children:n?c.jsx(xv,{className:"w-5 h-5"}):c.jsx(jh,{className:"w-5 h-5"})}),c.jsx("button",{onClick:i,className:"btn btn-square",type:"button",children:r?c.jsx(M2,{className:"w-5 h-5"}):c.jsx(D2,{className:"w-5 h-5"})}),c.jsxs("span",{className:"text-sm",children:[at(e.currentTime,"short")," /"," ",at(e.duration,"short")]})]})}function $X(e,t){const n=new URL(`${t.stashUrl}/scene/${e.stashSceneId}/stream.mp4`);t.apiKey&&n.searchParams.append("apikey",t.apiKey);const r=new URL(n);return r.searchParams.append("resolution","ORIGINAL"),[{src:n.toString(),type:"video/mp4"},{src:r.toString(),type:"video/mp4"}]}function UX(e,t){return e.source==="Stash"&&t?$X(e,t):[{src:`/api/library/video/${e.id}/file`,type:"video/mp4"}]}function BX({onBack:e}){return c.jsxs("div",{className:"flex flex-col h-full text-sm",children:[c.jsxs("p",{className:"text-sm link mb-2",onClick:e,children:[c.jsx(so,{className:"mr-1 inline"}),"Back"]}),c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Information"}),c.jsx("p",{className:"mb-2",children:"This panel allows you to create, update and delete markers. Markers are labelled sections of a video that will be used later on to create clips. Only parts of the video that are part of a marker will be used for the compilation."}),c.jsx("p",{className:"mb-2",children:'You can create markers manually, or use the "Detect" button to automatically create markers based on cuts in the video. You can also split markers into two parts, or add the entire video as a marker.'}),c.jsx("p",{className:"mb-4",children:'Mark points can be used to mark interesting points (cuts, scene transitions) in a video and you can turn them into markers bu clicking on the "From points" button.'}),c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Keyboard reference"}),c.jsxs("ul",{className:"flex flex-col gap-2",children:[c.jsxs("li",{children:[c.jsx(mr,{keys:"I"})," Add mark point"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"M F",separator:" "})," Add entire video"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"M N",separator:" "})," Open marker creation form"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"M S",separator:" "})," Split marker at current time"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"M I",separator:" "})," Turn mark points into markers"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"Space"})," Play/pause video"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"V M",separator:" "})," Toggle mute"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"‹"})," Jump forwards 5 seconds"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"›"})," Jump backwards 5 seconds"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"L"})," Jump forwards 0.5 seconds"]}),c.jsxs("li",{children:[c.jsx(mr,{keys:"K"})," Jump backwards 0.5 seconds"]})]})]})}const HX=e=>{const{start:t,end:n,title:r}=e,s={};return(n||0)<=t&&(s.end={type:"required",message:"End must be after start"}),(!r||!r.trim())&&(s.title={type:"required",message:"Must enter a title"}),{values:e,errors:s}};function VX(){var Pe,Te;const{register:e,handleSubmit:t,control:n,formState:{errors:r},setError:s,setValue:i,watch:o}=es({resolver:HX}),{state:a,dispatch:l}=A1(),u=o("start"),d=o("end"),f=Rt(),{video:h,markers:p}=zn(),m=js(),[y,b]=Ea(p),[v,g]=w.useState("hidden"),[S,E]=w.useState(),[C,k]=w.useState(!1),x=40,[_,T]=Ea([]),I=ou(),M=v==="create"||v==="edit",R=X=>{const ee=a.currentTime;ee&&i(X,at(ee,"short-with-ms"))},$=X=>{const ee=_c(X);ee&&l({type:"jumpAbsolute",payload:ee})},L=async X=>{const ee=v==="create"?y.length:y.findIndex(Se=>Se.id===(S==null?void 0:S.id));if(ee===-1)throw new Error("could not find edited marker's ID in marker array");const me=v==="create"?await Fm(h,X,a.duration,ee,X.createInStash??!1):await jG(S.id,X);if(me.isOk){const Se=me.unwrap();b(Qe=>{if(v==="create")Qe.push(Se);else if(v==="edit"){const kt=Qe.findIndex(qn=>qn.id===Se.id);Qe[kt]=Se}}),g("hidden"),m.revalidate()}else{const Se=me.error;if(typeof Se.error=="object")for(const Qe in Se.error)s(Qe,{message:Se.error[Qe]})}},H=y.findIndex(X=>Zb(a.currentTime,X.start,X.end||a.duration)),W=()=>{T(X=>{X.push(a.currentTime)})},ie=(X,ee)=>{ee.stopPropagation(),T(me=>{const Se=me.findIndex(Qe=>Qe===X);me.splice(Se,1)})},A=async()=>{if(y.length>0)return;const X=h.duration,ee=await Fm(h,{start:0,end:X,title:"Untitled"},X,0,!1);if(ee.isOk){const me=ee.unwrap();b([me]),m.revalidate()}else{const me=ee.error;console.error(me)}},V=(X,ee)=>{g(X);const me=X==="create"?a.currentTime:void 0;i("start",at((ee==null?void 0:ee.start)||me,"short-with-ms")),i("end",at((ee==null?void 0:ee.end)||void 0,"short-with-ms")),i("title",(ee==null?void 0:ee.primaryTag)||""),ee&&E(ee)},ne=async()=>{k(!0);const X=await dM(h.id,{threshold:x/100});b(y.concat(X)),k(!1),m.revalidate()},B=async()=>{const X=S.id;b(ee=>{const me=ee.findIndex(Se=>Se.id===X);ee.splice(me,1)}),await Mb(X),g("hidden"),m.revalidate()},te=()=>{fe()},fe=()=>{m.revalidate(),f(-1)},oe=async()=>{const X=a.currentTime||0,ee=y.find(me=>Zb(X,me.start,me.end));if(ee){const me=await eM(ee.id,{time:X});b(me),m.revalidate()}},ae=async()=>{if(_.length===0)return;const X=[],ee=[..._];ee[0]!=0&&ee.unshift(0);for(let me=0;me<ee.length;me++){const Se=ee[me],Qe=ee[me+1]||a.duration,kt=await Fm(h,{start:Se,end:Qe,title:"Untitled"},a.duration,me,!1);X.push(kt.unwrap())}b(me=>{me.push(...X)}),T([])};Qn("i",()=>W()),Qn("m f",()=>A()),Qn("m n",()=>V("create",void 0)),Qn("m s",()=>oe()),Qn("m i",()=>ae());const J=(X,ee)=>{const me=y[ee];V("edit",me),l({type:"jumpAbsolute",payload:me.start})},z=X=>{l({type:"jumpAbsolute",payload:X})},xe=async()=>{if(confirm("This will delete all markers for the current video. Are you sure?")){for(const X of y)await Mb(X.id);b([]),m.revalidate()}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(LX,{className:"w-2/3 max-h-[82vh]",sources:UX(h,I==null?void 0:I.stash)}),c.jsxs("div",{className:"flex flex-col w-1/3 justify-between max-h-[60vh] relative",children:[M&&c.jsxs("form",{className:"w-full flex flex-col gap-2",onSubmit:t(L),children:[c.jsxs("h2",{className:"text-xl font-bold",children:[v==="create"?"Add new":"Edit"," marker"]}),c.jsxs("div",{className:"form-control",children:[c.jsxs("label",{htmlFor:"title",className:"label",children:[c.jsx("span",{className:"label-text",children:"Marker title"}),c.jsx("span",{className:"label-text-alt text-error",children:(Pe=r.title)==null?void 0:Pe.message})]}),c.jsx("input",{type:"text",placeholder:"Type here...",className:"input input-bordered w-full",...e("title",{required:!0})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{htmlFor:"start",className:"label",children:c.jsx("span",{className:"label-text",children:"Start time"})}),c.jsxs("div",{className:"flex w-full",children:[c.jsx(k_,{name:"start",control:n,error:r.start}),c.jsxs("div",{className:"join",children:[c.jsxs("button",{onClick:()=>R("start"),className:"btn join-item",type:"button",children:[c.jsx(wc,{className:"mr-2"}),"Set current time"]}),c.jsxs("button",{onClick:()=>$(u),className:"btn join-item",type:"button",children:[c.jsx(Rb,{})," Go to"]})]})]})]}),c.jsxs("div",{className:"form-control",children:[c.jsxs("label",{htmlFor:"end",className:"label",children:[c.jsx("span",{className:"label-text",children:"End time"}),c.jsx("span",{className:"label-text-alt text-error",children:(Te=r.end)==null?void 0:Te.message})]}),c.jsxs("div",{className:"flex w-full",children:[c.jsx(k_,{name:"end",control:n,error:r.end}),c.jsxs("div",{className:"join",children:[c.jsxs("button",{onClick:()=>R("end"),className:"btn",type:"button",children:[c.jsx(wc,{className:"mr-2"}),"Set current time"]}),c.jsxs("button",{onClick:()=>$(d),className:"btn join-item",type:"button",children:[c.jsx(Rb,{})," Go to"]})]})]})]}),h.source==="Stash"&&c.jsx("div",{className:"form-control",children:c.jsxs("label",{htmlFor:"createInStash",className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text",children:"Create marker in Stash as well?"}),c.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",...e("createInStash")})]})}),c.jsxs("div",{className:"flex justify-between mt-2",children:[v==="edit"?c.jsxs("button",{onClick:B,className:"btn btn-error",type:"button",children:[c.jsx(di,{className:"mr-2"}),"Remove marker"]}):c.jsx("div",{}),c.jsxs("div",{className:"join",children:[c.jsxs("button",{onClick:()=>g("hidden"),className:"btn btn-outline join-item",type:"button",children:[c.jsx(dr,{className:"mr-2"}),"Cancel"]}),c.jsxs("button",{className:"btn btn-primary join-item",type:"submit",children:[c.jsx(or,{className:"mr-2"})," ",v==="create"?"Add":"Save"]})]})]})]}),!M&&c.jsxs("div",{className:"overflow-x-auto p-2",children:[v==="help"&&c.jsx(BX,{onBack:()=>g("hidden")}),C&&c.jsx(Va,{className:"h-full w-full justify-center",children:"Detecting markers..."}),v==="hidden"&&!C&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex w-full justify-between",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[c.jsxs("button",{onClick:()=>V("create"),className:"btn btn-sm btn-success",children:[c.jsx(or,{className:"w-4 h-4 mr-2"}),"Add"]}),c.jsxs("button",{disabled:y.length===0,onClick:oe,className:"btn btn-sm btn-primary",children:[c.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Split"]}),c.jsxs("button",{onClick:ne,className:"btn btn-sm btn-primary",disabled:y.length>0,children:[c.jsx(j2,{className:"w-4 h-4 mr-2"}),"Detect"]}),c.jsxs("button",{onClick:ae,className:"btn btn-sm btn-success",type:"button",disabled:_.length===0,children:[c.jsx(or,{})," From points"]})]}),c.jsxs("button",{onClick:()=>g("help"),className:"btn btn-sm btn-secondary",children:[c.jsx(R2,{className:"w-4 h-4 mr-2"}),"Help"]})]}),c.jsxs("table",{className:"table table-compact w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{}),c.jsx("th",{children:"Tag"}),c.jsx("th",{children:"Start"}),c.jsx("th",{children:"End"}),c.jsx("th",{children:"Edit"})]})}),c.jsxs("tbody",{children:[y.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center",children:"No markers yet. Click the Help button for information on how to add markers."})}),y.map((X,ee)=>c.jsxs("tr",{children:[c.jsx("td",{children:ee+1}),c.jsx("td",{className:"font-bold",children:X.primaryTag}),c.jsx("td",{children:at(X.start,"short-with-ms")}),c.jsx("td",{children:at(X.end,"short-with-ms")}),c.jsx("td",{children:c.jsx("button",{onClick:()=>V("edit",X),type:"button",className:"btn btn-sm btn-square btn-primary",children:c.jsx(LR,{className:"inline"})})})]},X.id))]})]})]})]}),c.jsx("div",{className:"w-full flex justify-between",children:v==="hidden"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{disabled:y.length===0,onClick:xe,className:"btn btn-error",children:[c.jsx(di,{className:"mr-2"}),"Delete all"]}),c.jsxs("button",{onClick:te,className:"btn btn-success",children:[c.jsx(Rn,{className:"mr-2"}),"Done"]})]})})]})]}),c.jsxs("div",{className:"flex gap-2 items-center w-full",children:[c.jsx(FX,{}),c.jsx(OX,{length:h.duration,items:y.map(X=>({label:X.primaryTag,length:X.end-X.start,offset:X.start})),onItemClick:(X,ee)=>J(X,ee),selectedIndex:S?y.indexOf(S):H,fadeInactiveItems:!0,time:a.currentTime,markPoints:_,onMarkerClick:ie,onTimelineClick:z,className:"py-4 flex-grow"})]})]})}function zX(){return c.jsx(AX,{children:c.jsx(VX,{})})}function WX(){const e=()=>{throw new Error("Client error for testing Sentry")},t=async()=>{await fetch("/api/system/sentry/error",{method:"POST"})};return c.jsxs("div",{className:"self-center flex gap-4",children:[c.jsxs("button",{onClick:e,className:"btn btn-error",children:[c.jsx(TR,{}),"Throw client error"]}),c.jsxs("button",{onClick:t,className:"btn btn-error",children:[c.jsx(UR,{}),"Throw server error"]})]})}const qX={[as.compilationVideo]:"Finished compilation videos",[as.config]:"Configuration files",[as.downloadedVideo]:"Downloaded videos",[as.database]:"Database files",[as.music]:"Music files",[as.tempVideo]:"Temporary video files",[as.previewImages]:"Preview images"},M_=[as.tempVideo,as.compilationVideo],GX=()=>{const[e,t]=w.useState(),[n,r]=w.useState(!0),[s,i]=w.useState(),[o,a]=w.useState(0),l=w.useCallback(()=>{a(u=>u+1)},[]);return w.useEffect(()=>{e||rM().then(u=>t(u)).catch(u=>i(u)).finally(()=>r(!1))},[e,o]),{stats:e,loading:n,error:s,refetch:l}};async function YX(e){try{return{success:!0,message:await CM({apiKey:e.stash.apiKey,url:e.stash.stashUrl})}}catch(t){return{success:!1,message:await t.text()}}}function KX(){const e=ou(),{stats:t,loading:n,refetch:r}=GX(),{watch:s,register:i,handleSubmit:o}=es({defaultValues:e}),a=s("stash.stashUrl")||"http://localhost:9999",l=s("stash.apiKey"),u=`${a}/settings?tab=security`,[d,f]=w.useState(),h=au(),[p,m]=w.useState(!1),[y,b]=nC(),v=async C=>{var k,x;C.stash.apiKey=(k=C.stash.apiKey)==null?void 0:k.trim(),C.stash.stashUrl=C.stash.stashUrl.trim(),(x=C.handy)!=null&&x.enabled||delete C.handy,await NM(C),window.location.reload()},g=w.useCallback(async()=>{const C=await YX({stash:{stashUrl:a,apiKey:l}});f(C)},[a,l]),S=C=>async()=>{if(M_.includes(C))try{await KR(C),h({type:"success",message:"Finished cleaning up."}),r()}catch(k){h({type:"error",message:"Error cleaning up: "+k.message})}},E=async()=>{m(!0);try{await tM()}finally{m(!1)}};return c.jsxs("div",{className:"flex flex-col pt-4 max-w-xl ml-auto mr-auto",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Settings"}),c.jsxs("section",{className:"flex flex-col mb-4",children:[c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Interface"}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Preview image aspect ratio"})}),c.jsxs("select",{value:y,onChange:C=>b(C.target.value),className:"select select-sm select-bordered",children:[c.jsx("option",{value:"wide",children:"Wide"}),c.jsx("option",{value:"square",children:"Square"}),c.jsx("option",{value:"tall",children:"Tall"})]})]})]}),c.jsxs("form",{onSubmit:o(v),className:"w-full",children:[c.jsxs("section",{className:"flex flex-col mb-4",children:[c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Stash configuration"}),c.jsxs("p",{className:"text-sm mb-2",children:[c.jsx(ar,{href:"https://stashapp.cc/",children:"Stash"})," is an organizer for your porn. If you have a Stash instance running, you can connect it to ClipMash to import the scenes and markers in your library."]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",htmlFor:"stashUrl",children:c.jsx("span",{className:"label-text",children:"URL of your Stash instance:"})}),c.jsx("input",{type:"url",placeholder:"Example: http://localhost:9999",className:"input input-bordered",defaultValue:"http://localhost:9999",...i("stash.stashUrl")})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",htmlFor:"apiKey",children:c.jsx("span",{className:"label-text",children:"API key (optional):"})}),c.jsx("input",{type:"password",placeholder:"eyJhbGc...",className:"input input-bordered",...i("stash.apiKey")}),c.jsx("label",{className:"label",children:c.jsxs("span",{className:"label-text-alt",children:["The API key is only required when authentication in Stash is enabled. Navigate to"," ",c.jsx(ar,{href:u,children:u})," ","to retrieve your API key."]})})]}),c.jsx("div",{className:"w-full flex justify-between",children:c.jsxs("button",{onClick:g,type:"button",className:"btn btn-sm btn-secondary",children:[c.jsx(I2,{className:"w-6 h-6"}),"Test credentials"]})}),d&&c.jsxs("div",{className:Ue("mt-4",d.success&&"text-green-600",!d.success&&"text-red-600"),children:[d.success?"Credentials work!":"Error validating credentials: ",c.jsx("br",{}),!d.success&&c.jsx("code",{children:d.message})]})]}),c.jsxs("section",{className:"flex flex-col mb-4",children:[c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Handy settings"}),c.jsxs("p",{className:"text-sm mb-2",children:["ClipMash can send commands to your"," ",c.jsx(ar,{href:"https://www.handyfeeling.com/",children:"Handy"})," ","device for use with the ClipMash TV feature. To enable this feature, you need to enter your Handy connection key."]}),c.jsx("div",{className:"form-control",children:c.jsxs("label",{className:"label cursor-pointer",children:[c.jsx("span",{className:"label-text",children:"Enable Handy integration"}),c.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",...i("handy.enabled")})]})}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Handy connection key"})}),c.jsx("input",{type:"password",placeholder:"Connection key",className:"input input-bordered",disabled:!s("handy.enabled"),...i("handy.key")})]}),c.jsxs("button",{type:"submit",className:"btn btn-success self-end mt-4",children:[c.jsx(NR,{className:"w-6 h-6"}),"Submit"]})]})]}),c.jsxs("section",{className:"flex flex-col",children:[c.jsx("h2",{className:"text-xl font-bold mb-2",children:"File statistics"}),!n&&t&&c.jsx("div",{className:"self-center",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Folder type"}),c.jsx("th",{children:"Size"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.map(([C,k])=>c.jsxs("tr",{children:[c.jsx("th",{children:qX[C]}),c.jsx("td",{className:"text-right",children:F2(k)}),c.jsx("td",{children:M_.includes(C)&&c.jsxs("button",{onClick:S(C),className:"btn btn-sm btn-error",children:[c.jsx(di,{}),"Clean up"]})})]},C))})]})}),n&&c.jsx(Va,{})]}),c.jsxs("section",{className:"mt-4 flex justify-between items-center",children:[c.jsxs("p",{className:"label-text",children:["Convert preview images to the WebP format.",c.jsx("br",{}),"Reduces disk usage of the preview image folder."]}),c.jsxs("button",{disabled:p,onClick:E,className:"btn btn-primary",children:[c.jsx($R,{})," Convert"]})]})]})}const XX=({children:e,className:t})=>c.jsx("dl",{className:Ue("flex flex-col text-sm",t),children:e}),ZX=({children:e,className:t})=>c.jsx("dt",{className:Ue("font-semibold",t),children:e}),QX=({children:e,className:t})=>c.jsx("dd",{className:Ue("mb-2",t),children:e}),L1=({children:e,className:t,level:n=1,spacing:r="loose"})=>{const s=`h${n}`;return c.jsx(s,{className:Ue("font-bold",{"text-primary":n===1,"text-5xl":n===1,"text-3xl":n===2,"text-2xl":n===3,"mb-4":r==="loose","mb-2":r==="tight","mb-0":r==="none"},t),children:e})};function JX(e){const t=e.indexOf(".");return t===-1?e:e.substring(0,t)}const eZ=async e=>{const n=new URL(e.request.url).searchParams;let r=[];n.has("withMusic")&&(r=await A2({shuffle:!0}));const s=n.get("queryType"),i=n.get("seed");return{clips:await mM({query:{type:s,data:n.getAll("query")},clipDuration:parseFloat(n.get("clipDuration")||"5.0"),order:{type:"scene"},seed:i}),music:r}},tZ=()=>{var oe,ae;const{clips:e,music:t}=zn(),[n,r]=w.useState(!1),[s,i]=w.useState(5),[o]=wi(),a=o.has("handyEnabled"),l=Xh({parameterName:"clipDuration",replaceAll:!1}),[u,d]=w.useState(.5),[f,h]=w.useState(1),p=w.useRef(null),m=w.useRef(null),[y,b]=w.useState(0),[v,g]=w.useState(0),S=e==null?void 0:e.clips.reduce((J,z)=>J+z.range[1]-z.range[0],0),E=w.useRef(null),[C,k]=w.useState(!0),[x,_]=w.useState(t.length===0),[T,I]=w.useState(0),M=((oe=e==null?void 0:e.clips)==null?void 0:oe.length)||0,R=M>0?e.clips[T]:void 0,$=M>0?e.clips[(T+1)%M]:void 0,L=u0((e==null?void 0:e.streams)||{},$),H=e==null?void 0:e.videos.find(J=>J.id===(R==null?void 0:R.videoId)),W=u0((e==null?void 0:e.streams)||{},R),ie=()=>{_(J=>!J)},A=J=>{if(R){const z=R.range[1],xe=J.currentTarget.currentTime;if(Math.abs(z-xe)<=.5){const Pe=z-R.range[0];g(Te=>Te+Pe),I(Te=>(Te+1)%M),p.current&&p.current.load(),m.current&&m.current.load()}}},V=J=>{i(J.target.valueAsNumber),l.setQueryDebounced(J.target.value)},ne=async()=>{p.current&&(C?(p.current.pause(),E.current&&E.current.pause()):(p.current.play(),E.current&&E.current.play()),a&&await GR(),k(J=>!J))},B=J=>{if(!R){console.warn("No current clip found");return}const z=R.range[1]-R.range[0];J==="prev"?(g(xe=>xe-z),I(xe=>Ev(xe-1,0,M-1))):(g(xe=>xe+z),I(xe=>(xe+1)%M))},te=J=>{const z=J.target.valueAsNumber;d(z);const xe=f*z,Pe=f*(1-z);E.current&&(E.current.volume=xe),p.current&&(p.current.volume=Pe)},fe=J=>{const z=J.target.valueAsNumber;h(z);const xe=z*u,Pe=z*(1-u);E.current&&(E.current.volume=xe),p.current&&(p.current.volume=Pe)};return c.jsxs("main",{className:"w-full flex flex-col lg:flex-row",children:[c.jsxs("section",{className:"grow flex flex-col relative h-screen",children:[c.jsx(jt,{to:"/tv",className:"btn btn-primary btn-outline btn-square btn-sm absolute top-4 left-4 z-10",children:c.jsx(so,{})}),c.jsx("video",{onTimeUpdate:A,className:"w-full cursor-pointer",style:{height:"calc(100vh - 4rem)"},ref:p,autoPlay:!0,preload:"auto",muted:x,onClick:ne,children:W==null?void 0:W.map((J,z)=>c.jsx("source",{src:J.src,type:J.type},z))}),c.jsxs("div",{className:"w-full px-2",children:[c.jsx("progress",{value:v,max:S,className:"w-full progress progress-primary h-4"}),c.jsxs("div",{className:"text-center text-sm pb-2",children:[c.jsxs("p",{children:[at(v,"short")," /"," ",at(S,"short")]}),c.jsxs("p",{children:[H==null?void 0:H.title," -"," ",c.jsx("strong",{children:R==null?void 0:R.markerTitle})]})]})]}),c.jsx("video",{preload:"auto",className:"hidden",ref:m,children:L==null?void 0:L.map((J,z)=>c.jsx("source",{src:J.src,type:J.type},z))}),t.length>0&&c.jsx("audio",{ref:E,src:`/api/song/${(ae=t[y])==null?void 0:ae.songId}/stream`,onEnded:()=>b(J=>(J+1)%t.length),className:"hidden",autoPlay:!0,muted:x})]}),c.jsxs("section",{className:Ue("flex flex-col bg-base-200 p-4 overflow-y-scroll overflow-x-hidden text-lg relative",n?"lg:w-4":"lg:w-1/4 w-full"),children:[c.jsx("button",{onClick:()=>r(J=>!J),className:"hidden lg:flex absolute top-1/2 left-1 btn btn-sm btn-circle btn-outline",children:n?c.jsx(so,{}):c.jsx(Rs,{})}),!n&&c.jsxs(c.Fragment,{children:[c.jsx(L1,{className:"text-center",children:"ClipMash TV"}),c.jsxs("div",{className:"join self-center mb-4",children:[c.jsx("button",{onClick:()=>B("prev"),className:"btn btn-square join-item",children:c.jsx(yv,{className:"w-5 h-5"})}),c.jsx("button",{className:Ue("btn btn-square join-item",{"btn-success":!C,"btn-warning":C}),type:"button",onClick:ne,children:C?c.jsx(xv,{className:"w-5 h-5"}):c.jsx(jh,{className:"w-5 h-5"})}),c.jsx("button",{onClick:ie,className:"btn btn-square join-item",type:"button",children:x?c.jsx(M2,{className:"w-5 h-5"}):c.jsx(D2,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>B("next"),className:"btn btn-square join-item",children:c.jsx(vv,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("input",{className:"range range-primary",type:"range",min:"2",max:"30",step:"0.5",value:s,onChange:V}),c.jsx("label",{className:"label",children:c.jsxs("span",{className:"label-text mb-4",children:["Clip duration (",s,"s)"]})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("input",{className:"range range-primary",type:"range",min:"0",max:"1",step:"0.05",value:f,onChange:fe}),c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text mb-4",children:"Volume"})})]}),t.length>0&&c.jsxs("div",{className:"form-control",children:[c.jsx("input",{className:"range range-primary",type:"range",min:"0",max:"1",step:"0.05",value:u,onChange:te}),c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text mb-4",children:"Audio balance"})})]}),c.jsx(XX,{children:t.length>0&&c.jsxs(c.Fragment,{children:[c.jsx(ZX,{children:"Current Song"}),c.jsx(QX,{className:"truncate",children:JX(t[y].fileName)})]})})]})]})]})};function nZ(e){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M274.9 34.3c-28.1-28.1-73.7-28.1-101.8 0L34.3 173.1c-28.1 28.1-28.1 73.7 0 101.8L173.1 413.7c28.1 28.1 73.7 28.1 101.8 0L413.7 274.9c28.1-28.1 28.1-73.7 0-101.8L274.9 34.3zM200 224a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM96 200a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM224 376a24 24 0 1 1 0-48 24 24 0 1 1 0 48zM352 200a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM224 120a24 24 0 1 1 0-48 24 24 0 1 1 0 48zm96 328c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-114.3 0c11.6 36 3.1 77-25.4 105.5L320 413.8l0 34.2zM480 328a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"},child:[]}]})(e)}const kl=({label:e,name:t,register:n})=>c.jsx(c.Fragment,{children:c.jsxs("div",{className:"w-full gap-2",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:e})}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:0,max:100,...n(`${t}.min`,{valueAsNumber:!0,required:!0})}),"-",c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:0,max:100,...n(`${t}.max`,{valueAsNumber:!0,required:!0})})]})]})});function rZ(e){return wa(e,t=>{"sessionDuration"in t.parameters&&(t.parameters.sessionDuration=t.parameters.sessionDuration*60),"cycleDuration"in t.parameters&&(t.parameters.cycleDuration=t.parameters.cycleDuration*60)})}const sZ={type:"accellerate",parameters:{slideRange:{min:0,max:100},speedRange:{min:10,max:50},intervalRange:{min:5,max:15},jitter:10,sessionDuration:10,cycleDuration:1,startSpeed:5,endSpeed:80,startRange:{min:5,max:15},endRange:{min:40,max:70}}},iZ=({onSubmit:e})=>{const{register:t,watch:n,handleSubmit:r}=es({defaultValues:sZ}),s=n("type");return c.jsxs("form",{onSubmit:r(e),className:"max-w-xl self-center w-full flex flex-col",children:[c.jsx(L1,{level:2,children:"Handy settings"}),c.jsx("p",{className:"text-sm mb-2",children:"Set up the pattern for the Handy to follow."}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Pattern type"})}),c.jsxs("select",{...t("type"),className:"select select-bordered select-primary",children:[c.jsx("option",{value:"random",children:"Random"}),c.jsx("option",{value:"accellerate",children:"Accelerate"}),c.jsx("option",{value:"cycle-accellerate",children:"Accellerating cycle"})]})]}),c.jsxs("p",{className:"mt-1 mb-2 text-sm",children:[s==="accellerate"&&"The speed will increase over the selected duration from the start speed to the end speed.",s==="random"&&"The speed will change randomly between the two selected values. The amount of randomness adjusts how large each change can be.",s==="cycle-accellerate"&&"The speed starts out cycling between the two selected start range values and will gradually increase over the selected session duration until it reaches the end range."]}),c.jsx(kl,{label:"Slide range",name:"parameters.slideRange",register:t}),s==="accellerate"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Session duration in minutes"})}),c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:1,...t("parameters.sessionDuration",{valueAsNumber:!0,required:!0})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Start speed"})}),c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:1,...t("parameters.startSpeed",{valueAsNumber:!0,required:!0})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"End speed"})}),c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:1,...t("parameters.endSpeed",{valueAsNumber:!0,required:!0})})]})]}),s==="random"&&c.jsxs(c.Fragment,{children:[c.jsx(kl,{label:"Speed range",name:"parameters.speedRange",register:t}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Randomness"})}),c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:1,...t("parameters.jitter",{valueAsNumber:!0,required:!0})})]}),c.jsx(kl,{label:"Time between speed changes (in seconds)",name:"parameters.intervalRange",register:t})]}),s==="cycle-accellerate"&&c.jsxs(c.Fragment,{children:[c.jsx(kl,{label:"Start speed range",name:"parameters.startRange",register:t}),c.jsx(kl,{label:"End speed range",name:"parameters.endRange",register:t}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Session duration (in minutes)"})}),c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:1,...t("parameters.sessionDuration",{valueAsNumber:!0,required:!0})})]}),c.jsxs("div",{className:"form-control",children:[c.jsx("label",{className:"label",children:c.jsx("span",{className:"label-text",children:"Cycle duration (in minutes)"})}),c.jsx("input",{className:"input input-bordered",required:!0,type:"number",min:1,...t("parameters.cycleDuration",{valueAsNumber:!0,required:!0})})]})]}),c.jsxs("button",{type:"submit",className:"btn btn-success mt-4 self-end",children:[c.jsx(Rn,{}),"Submit"]})]})},oZ=async()=>{const[e,t,n,r]=await Promise.all([JR({count:1e3}),nM(),lM(),qR()]);return{markers:e,performers:t.filter(s=>s.count>0),tags:n.map(s=>({title:s.tag,count:s.count})),handyStatus:r}};function aZ(e){const t=e.get("queryType"),n=e.has("withMusic"),r=e.getAll("query"),s=e.get("seed")??"";return{query:r,queryType:t??"markerTitles",withMusic:n,seed:s}}function D_(e,t){var r;const n=new URLSearchParams;for(const s of e.query)n.append("query",s);return n.append("queryType",e.queryType),e.withMusic&&n.append("withMusic","true"),((r=e.seed)==null?void 0:r.trim().length)>0&&n.append("seed",e.seed),t&&n.append("handyEnabled","true"),n}const lZ=()=>{var C,k;const e=Rt(),t=zn(),n=ou(),[r]=wi(),{register:s,watch:i,handleSubmit:o,setValue:a,reset:l}=es({defaultValues:aZ(r)}),[u,d]=w.useState(!1),[f,h]=w.useState(null),p=i(),m=au(),y=!!(f&&((C=n==null?void 0:n.handy)!=null&&C.key)&&n.handy.enabled);let b=[];switch(p.queryType){case"performers":b=t.performers;break;case"videoTags":b=t.tags;break;case"markerTitles":b=t.markers;break}const v=async x=>{var T;const _=D_(x,y);if(f&&((T=n==null?void 0:n.handy)!=null&&T.key)&&n.handy.enabled)try{await YR({pattern:rZ(f),key:n.handy.key})}catch{m({message:"Failed to start Handy",type:"error"})}e({pathname:"/tv/watch",search:_.toString()})},g=x=>{h(x),d(!1)},S=async()=>{const x=await wM();a("seed",x)},E=()=>{const x=b.map(_=>_.title).sort(()=>Math.random()-.5).slice(0,5);a("query",x)};return w.useEffect(()=>{e({search:D_(p,y).toString()})},[JSON.stringify(p),y]),c.jsxs("main",{className:"container pt-2 px-1 ml-auto mr-auto flex flex-col min-h-screen",children:[c.jsx(jt,{to:"/",className:"btn btn-primary btn-outline btn-square btn-sm absolute top-4 left-4 z-10",children:c.jsx(so,{})}),c.jsx(L1,{className:"text-center mt-4",spacing:"tight",children:"ClipMash TV"}),c.jsxs("form",{onSubmit:o(v),className:"flex flex-col max-w-xl self-center",children:[c.jsx("p",{className:"mb-2",children:"Select markers, performers or video tags and click on 🚀 Start to watch a compilation generated for you in the browser!"}),c.jsxs("div",{role:"tablist",className:"tabs tabs-bordered mb-4",children:[c.jsx("input",{type:"radio",role:"tab",className:"tab","aria-label":"Marker titles",value:"markerTitles",...s("queryType")}),c.jsx("input",{type:"radio",role:"tab",className:"tab","aria-label":"Performers",value:"performers",...s("queryType")}),c.jsx("input",{type:"radio",role:"tab",className:"tab","aria-label":"Video tags",value:"videoTags",...s("queryType")})]}),c.jsxs("ul",{className:"flex gap-1 flex-wrap",children:[b.length===0&&c.jsx("li",{className:"my-4 text-center font-bold w-full",children:"No items available"}),b.map(x=>c.jsx("li",{children:c.jsx("input",{type:"checkbox",className:"btn btn-neutral btn-outline btn-sm","aria-label":`${x.title} (${x.count})`,value:x.title,...s("query")})},x.title))]}),c.jsx("div",{className:"form-control self-stretch mt-2",children:c.jsxs("label",{className:"label",children:[c.jsx("span",{className:"label-text mr-2",children:"With Music"}),c.jsx("input",{type:"checkbox",id:"withMusic",className:"checkbox checkbox-primary",...s("withMusic")})]})}),c.jsx("div",{className:"form-control self-stretch mt-2",children:c.jsxs("label",{className:"label",children:[c.jsx("span",{className:"label-text mr-2",children:"Seed"}),c.jsxs("div",{className:"join",children:[c.jsx("input",{type:"text",className:"input input-sm input-bordered join-item",...s("seed")}),c.jsx("button",{type:"button",className:"btn btn-sm btn-square join-item",onClick:S,children:c.jsx(bR,{})})]})]})}),((k=n==null?void 0:n.handy)==null?void 0:k.enabled)&&c.jsxs("div",{className:"flex w-full justify-between items-center",children:[t.handyStatus.connected?c.jsxs("p",{className:"text-success text-sm",children:[c.jsx(Rn,{className:"inline-block"})," Handy connected."]}):c.jsxs("p",{className:"text-error text-sm",children:[c.jsx(dr,{className:"inline-block"})," Handy not connected."]}),c.jsxs("button",{type:"button",className:"btn self-end btn-outline",onClick:()=>d(x=>!x),disabled:!t.handyStatus.connected,children:[c.jsx(yR,{}),"Set up Handy"]})]}),c.jsxs("div",{className:"w-full grid grid-cols-3 gap-2 mb-4 mt-2",children:[c.jsxs("button",{type:"button",className:"btn btn-outline btn-error self-center",onClick:()=>l(),children:[c.jsx(dr,{}),"Reset"]}),c.jsxs("button",{disabled:!p.query.length,type:"submit",className:"btn btn-success btn-lg text-xl",children:[c.jsx(Rh,{className:"mr-1"}),"Start"]}),c.jsxs("button",{type:"button",className:"btn btn-outline self-center",onClick:E,children:[c.jsx(nZ,{}),"I'm feeling lucky"]})]})]}),c.jsx(su,{isOpen:u,size:"fluid",children:c.jsx(iZ,{onSubmit:g})})]})};function O_(){const{actions:e}=Ft({resetForm:E2}),t=Rt(),n=()=>{e.resetForm(),t("/")};return c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl mb-2 font-bold",children:"What you can do"}),c.jsxs("ul",{className:"list-disc list-inside",children:[c.jsx("li",{children:c.jsx("span",{className:"link link-primary",onClick:()=>window.location.reload(),children:"Reload the page."})}),c.jsx("li",{children:c.jsx("span",{className:"link link-primary",onClick:n,children:"Reset the page state."})}),c.jsxs("li",{children:["Open an issue"," ",c.jsx("a",{className:"link link-primary",href:"https://github.com/soundchaser128/stash-compilation-maker/issues",children:"here"}),", describing what you did leading up to the error."]})]})]})}async function cZ(e){let t;e.bodyUsed||(t=await e.text()),console.error("ErrorBoundary caught response:",{url:e.url,status:e.status,statusText:e.statusText,body:t})}const uZ=()=>{const e=u2();if(w.useEffect(()=>{e instanceof Error?console.error("ErrorBoundary caught error",e):e instanceof Response?cZ(e):console.error("ErrorBoundary caught some other error",e)},[e]),ya(e)){const s=e.status===404;return c.jsxs(th,{children:[c.jsxs("div",{className:"mt-8 flex flex-col",children:[c.jsx("h1",{className:"font-bold text-5xl mb-4 w-fit",children:s?"404 - Page not found":"Sorry, something went wrong."}),!s&&c.jsxs("div",{className:"bg-error text-error-content p-2 rounded-lg self-start mb-4",children:[c.jsxs("p",{children:["Status code ",c.jsx("strong",{children:e.status})]}),e.data.error&&c.jsx("p",{children:e.data.error}),e.data.request&&c.jsxs("p",{children:["Request to ",c.jsx("code",{children:e.data.request})," failed."]})]})]}),c.jsx(O_,{})]})}const t=JSON.stringify(e,null,2),n=t&&t!=="{}",r=e;return c.jsx(th,{children:c.jsxs("div",{className:"mt-8 flex flex-col",children:[c.jsx("h1",{className:"font-bold text-5xl mb-4",children:"Sorry, something went wrong."}),c.jsxs("div",{className:"bg-error text-error-content p-2 rounded-lg self-start mb-4",children:[c.jsx("h2",{className:"font-bold",children:"Error details:"}),c.jsxs("div",{children:[n&&c.jsx("pre",{children:t}),!n&&c.jsx("p",{children:c.jsxs("code",{children:[r.name,": ",r.message]})})]})]}),c.jsx(O_,{})]})})},dZ=()=>{var f;const e=zn(),{actions:t,state:n}=Ft({updateForm:hr}),[r,s]=w.useState(((f=n.data)==null?void 0:f.fileName)||""),i=Rt(),o=w.useRef(null),a=Ch("root");w.useEffect(()=>{t.updateForm({videoId:e})},[t,e]);const l=()=>{t.updateForm({stage:Kt.ListVideos,fileName:r})},u=()=>{o.current.click()},d=async h=>{var m;const p=(m=h.target.files)==null?void 0:m.item(0);if(p){const y=await p.text(),b=JSON.parse(y);if(b.clipMashVersion!==a.currentVersion){alert(`This project was created with ClipMash version ${b.clipMashVersion}. You are using version ${a}. Please download the latest version of ClipMash to open this project.`);return}t.updateForm(b),i("/library")}};return c.jsx(th,{children:c.jsx("div",{className:"hero",children:c.jsx("div",{className:"hero-content self-center",children:c.jsxs("div",{className:"max-w-md flex flex-col",children:[c.jsx("img",{src:"/logo.png",className:"w-40 self-center"}),c.jsx("p",{className:"mt-2 text-lg text-center opacity-60",children:"ClipMash helps you create video compilations."}),c.jsxs("div",{className:"join mt-4",children:[c.jsx("input",{type:"text",placeholder:"Project name (optional)",className:"input input-lg input-primary input-bordered join-item",value:r,onChange:h=>s(h.target.value)}),c.jsxs(jt,{onClick:l,className:"btn btn-primary btn-lg join-item",to:"/library",children:[c.jsx(Rh,{className:"mr-2 w-6 h-6"}),"Start"]})]}),c.jsx("span",{className:"divider",children:"OR"}),c.jsxs(jt,{to:"/tv",className:"btn btn-lg btn-primary self-center",children:[c.jsx(jh,{className:"mr-2 w-6 h-6"}),"TV"]}),c.jsx("span",{className:"divider",children:"OR"}),c.jsx("input",{accept:"application/json",type:"file",className:"hidden",ref:o,onChange:d}),c.jsxs("button",{onClick:u,className:"btn btn-lg btn-primary self-center",children:[c.jsx(Ih,{className:"mr-2 w-6 h-6"}),"Open project"]})]})})})})},fZ=()=>(Oh(),c.jsxs(c.Fragment,{children:[c.jsx(d2,{}),c.jsx(Fj,{})]})),hZ=Ej([{path:"/",errorElement:c.jsx(uZ,{}),element:c.jsx(fZ,{}),id:"root",loader:zO,children:[{index:!0,element:c.jsx(dZ,{}),loader:BO},{path:"/tv",element:c.jsx(lZ,{}),loader:oZ},{path:"/tv/watch",element:c.jsx(tZ,{}),loader:eZ},{element:c.jsx(fz,{}),children:[{path:"/settings",element:c.jsx(KX,{})},{path:"library",element:c.jsx(pP,{}),loader:jS({})},{path:"library/:id/markers",element:c.jsx(zX,{}),loader:HO},{path:"library/add",element:c.jsx(pG,{})},{path:"library/add/download",element:c.jsx(yG,{})},{path:"library/add/folder",element:c.jsx(xG,{})},{path:"library/add/stash",element:c.jsx(bG,{}),loader:WO},{path:"/library/select",element:c.jsx(_G,{}),loader:jS({hasMarkers:!0})},{path:"markers",element:c.jsx(hG,{}),loader:UO},{path:"music",element:c.jsx(yz,{}),loader:VO},{path:"music/download",element:c.jsx(EG,{})},{path:"music/upload",element:c.jsx(kG,{})},{path:"music/reorder",element:c.jsx(TG,{})},{path:"video-options",element:c.jsx(MM,{}),loader:jM},{path:"clips",element:c.jsx(ZO,{}),loader:$O},{path:"generate",element:c.jsx(bD,{})},{path:":id/download",element:c.jsx(wG,{})},{path:":id/funscript",element:c.jsx(SG,{})},{path:"/sentry-debug",element:c.jsx(WX,{})}]}]}]);QN({data:{stage:Kt.Start}},{name:"form-state"});Ml.setup();Bm.createRoot(document.getElementById("root")).render(c.jsx(Ee.StrictMode,{children:c.jsx(ZN,{children:c.jsx(OW,{backend:Cq,children:c.jsx(uP,{children:c.jsx(hP,{children:c.jsx(Dj,{router:hZ})})})})})}));
